<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Play function Play functions are small snippets of code executed after the story renders. Enabling you to interact with your components and test scenarios that otherwise required user intervention."><meta property="og:title" content="Play function"><meta property="og:description" content="Play function Play functions are small snippets of code executed after the story renders. Enabling you to interact with your components and test scenarios that otherwise required user intervention."><meta property="og:type" content="website"><meta property="og:image" content="https://mindulle.github.io/gardenicon.png"><meta property="og:url" content="https://mindulle.github.io/garden/Develop/Trees/Dev/Programming/LibsFwks/webFrontend/Test/Storybook/Guides/Write-stories/Play-function/"><meta property="og:width" content="200"><meta property="og:height" content="200"><meta name=twitter:card content="summary"><meta name=twitter:title content="Play function"><meta name=twitter:description content="Play function Play functions are small snippets of code executed after the story renders. Enabling you to interact with your components and test scenarios that otherwise required user intervention."><meta name=twitter:image content="https://mindulle.github.io/gardenicon.png"><title>Play function</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://mindulle.github.io/garden/icon.png><link href=https://mindulle.github.io/garden/styles.b369a84b3c6e6bfd686ad1f9da65641c.min.css rel=stylesheet><link href=https://mindulle.github.io/garden/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://mindulle.github.io/garden/js/darkmode.71fd764547989a0d567451669afd7a55.min.js></script>
<script src=https://mindulle.github.io/garden/js/util.a0ccf91e1937fe761a74da4946452710.min.js></script>
<link rel=preload href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css as=style onload='this.onload=null,this.rel="stylesheet"' integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/core@1.2.1></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.2.1></script>
<script async src=https://mindulle.github.io/garden/js/popover.aa9bc99c7c38d3ae9538f218f1416adb.min.js></script>
<script defer src=https://mindulle.github.io/garden/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js></script>
<script defer src=https://mindulle.github.io/garden/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js></script>
<script defer src=https://mindulle.github.io/garden/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://mindulle.github.io/garden",fetchData=Promise.all([fetch("https://mindulle.github.io/garden/indices/linkIndex.001b7a11a5af4e77787c329a6fad4fc7.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://mindulle.github.io/garden/indices/contentIndex.f07f1dd8676956b1c3795d79f92e4b1e.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://mindulle.github.io/garden",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!0;drawGraph("https://mindulle.github.io/garden",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!0,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!0,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()});function a(n){const e=n.target,t=e.className.split(" "),s=t.includes("broken"),o=t.includes("internal-link");plausible("Link Click",{props:{href:e.href,broken:s,internal:o,graph:!1}})}const r=document.querySelectorAll("a");for(link of r)link.className.includes("root-title")&&link.addEventListener("click",a,{once:!0})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'’':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/mindulle.github.io\/garden\/js\/router.d6fe6bd821db9ea97f9aeefae814d8e7.min.js"
    attachSPARouting(init, render)
  </script><script defer data-domain=mindulle.github.io/garden src=https://plausible.io/js/script.js></script>
<script>window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script></head><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://mindulle.github.io/garden/js/full-text-search.e6e2e0c213187ca0c703d6e2c7a77fcd.min.js></script><div class=singlePage><header><h1 id=page-title><a class=root-title href=https://mindulle.github.io/garden>Mindulle Garden✨</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>Play function</h1><p class=meta>Last updated
Jan 13, 2023
<a href=https://github.com/mindulle/garden/tree/hugo/content/Develop/Trees/Dev/Programming/Libs&Fwks/webFrontend/Test/Storybook/Guides/Write%20stories/Play%20function.md rel=noopener>Edit Source</a></p><ul class=tags><li><a href=https://mindulle.github.io/garden/tags/tree/>Tree</a></li><li><a href=https://mindulle.github.io/garden/tags/storybook/>Storybook</a></li><li><a href=https://mindulle.github.io/garden/tags/test/>Test</a></li><li><a href=https://mindulle.github.io/garden/tags/web/>Web</a></li></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#setup-the-interactions-addon>Setup the interactions addon</a></li><li><a href=#writing-stories-with-the-play-function>Writing stories with the play function</a></li><li><a href=#composing-stories>Composing stories</a></li><li><a href=#working-with-events>Working with events</a></li><li><a href=#querying-elements>Querying elements</a></li><li><a href=#working-with-the-canvas>Working with the Canvas</a></li></ol></nav></details></aside><a href=#play-function><h1 id=play-function><span class=hanchor arialabel=Anchor># </span>Play function</h1></a><p><code>Play</code> functions are small snippets of code executed after the story renders. Enabling you to interact with your components and test scenarios that otherwise required user intervention.</p><a href=#setup-the-interactions-addon><h2 id=setup-the-interactions-addon><span class=hanchor arialabel=Anchor># </span>Setup the interactions addon</h2></a><p>We recommend installing Storybook&rsquo;s
<a href=https://storybook.js.org/addons/@storybook/addon-interactions rel=noopener><code>addon-interactions</code></a> before you start writing stories with the <code>play</code> function. It&rsquo;s the perfect complement for it, including a handy set of UI controls to allow you command over the execution flow. At any time, you can pause, resume, rewind, and step through each interaction. Also providing you with an easy-to-use debugger for potential issues.</p><p>Run the following command to install the addon and the required dependencies.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-zsh data-lang=zsh><span class=line><span class=cl>yarn add --dev @storybook/testing-library @storybook/jest @storybook/addon-interactions
</span></span></code></pre></td></tr></table></div></div><p>Update your Storybook configuration (in <code>.storybook/main.js</code>) to include the interactions addon.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// .storybook/main.js
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>stories</span><span class=o>:</span><span class=p>[],</span>
</span></span><span class=line><span class=cl>  <span class=nx>addons</span><span class=o>:</span><span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Other Storybook addons
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=s1>&#39;@storybook/addon-interactions&#39;</span><span class=p>,</span> <span class=c1>//👈 The addon registered here
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><a href=#writing-stories-with-the-play-function><h2 id=writing-stories-with-the-play-function><span class=hanchor arialabel=Anchor># </span>Writing stories with the play function</h2></a><p>Storybook&rsquo;s <code>play</code> functions are small code snippets that run once the story finishes rendering. Aided by the <code>addon-interactions</code>, it allows you to build component interactions and test scenarios that were impossible without user intervention. For example, if you were working on a registration form and wanted to validate it, you could write the following story with the <code>play</code> function:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// RegistrationForm.stories.js|jsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>screen</span><span class=p>,</span> <span class=nx>userEvent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>RegistrationForm</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./RegistrationForm&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;RegistrationForm&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span><span class=o>:</span> <span class=nx>RegistrationForm</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=o>&lt;</span><span class=nx>RegistrationForm</span> <span class=p>{...</span><span class=nx>args</span><span class=p>}</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>FilledForm</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>FilledForm</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>emailInput</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByLabelText</span><span class=p>(</span><span class=s1>&#39;email&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>selector</span><span class=o>:</span> <span class=s1>&#39;input&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>type</span><span class=p>(</span><span class=nx>emailInput</span><span class=p>,</span> <span class=s1>&#39;example-email@email.com&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>delay</span><span class=o>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>passwordInput</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByLabelText</span><span class=p>(</span><span class=s1>&#39;password&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>selector</span><span class=o>:</span> <span class=s1>&#39;input&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>type</span><span class=p>(</span><span class=nx>passwordInput</span><span class=p>,</span> <span class=s1>&#39;ExamplePassword&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>delay</span><span class=o>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=c1>// See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>submitButton</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByRole</span><span class=p>(</span><span class=s1>&#39;button&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>click</span><span class=p>(</span><span class=nx>submitButton</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// RegistrationForm.stories.ts|tsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=kr>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ComponentStory</span><span class=p>,</span> <span class=nx>ComponentMeta</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>screen</span><span class=p>,</span> <span class=nx>userEvent</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>RegistrationForm</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;./RegistrationForm&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;RegistrationForm&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span>: <span class=kt>RegistrationForm</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=kr>as</span> <span class=nx>ComponentMeta</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>RegistrationForm</span><span class=p>&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span>: <span class=kt>ComponentStory</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>RegistrationForm</span><span class=p>&gt;</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>&lt;</span><span class=nt>RegistrationForm</span> <span class=p>{</span><span class=na>...args</span><span class=p>}</span> <span class=p>/&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>FilledForm</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>FilledForm</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>emailInput</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByLabelText</span><span class=p>(</span><span class=s1>&#39;email&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>selector</span><span class=o>:</span> <span class=s1>&#39;input&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=kr>type</span><span class=p>(</span><span class=nx>emailInput</span><span class=p>,</span> <span class=s1>&#39;example-email@email.com&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>delay</span>: <span class=kt>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>passwordInput</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByLabelText</span><span class=p>(</span><span class=s1>&#39;password&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>selector</span><span class=o>:</span> <span class=s1>&#39;input&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=kr>type</span><span class=p>(</span><span class=nx>passwordInput</span><span class=p>,</span> <span class=s1>&#39;ExamplePassword&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>delay</span>: <span class=kt>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=c1>// See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>submitButton</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByRole</span><span class=p>(</span><span class=s1>&#39;button&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>click</span><span class=p>(</span><span class=nx>submitButton</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl><span class=c>&lt;!-- RegistrationForm.stories.mdx --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { Meta, Story } from &#39;@storybook/addon-docs&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { screen, userEvent } from &#39;@storybook/testing-library&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { RegistrationForm } from &#39;./RegistrationForm&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Meta</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;RegistrationForm&#34;</span> <span class=na>component</span><span class=o>=</span><span class=s>{RegistrationForm}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>export const Template = (args) =&gt; <span class=p>&lt;</span><span class=nt>RegistrationForm</span> <span class=err>{...</span><span class=na>args</span><span class=err>}</span> <span class=p>/&gt;</span>;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Story</span>
</span></span><span class=line><span class=cl>  <span class=na>name</span><span class=o>=</span><span class=s>&#34;FilledForm&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>play</span><span class=o>=</span><span class=s>{async</span> <span class=err>()</span> <span class=err>=</span><span class=p>&gt;</span> {
</span></span><span class=line><span class=cl>    const emailInput = screen.getByLabelText(&#39;email&#39;, {
</span></span><span class=line><span class=cl>      selector: &#39;input&#39;,
</span></span><span class=line><span class=cl>    });
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    await userEvent.type(emailInput, &#39;example-email@email.com&#39;, {
</span></span><span class=line><span class=cl>      delay: 100,
</span></span><span class=line><span class=cl>    });
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    const passwordInput = screen.getByLabelText(&#39;password&#39;, {
</span></span><span class=line><span class=cl>      selector: &#39;input&#39;,
</span></span><span class=line><span class=cl>    });
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    await userEvent.type(passwordInput, &#39;ExamplePassword&#39;, {
</span></span><span class=line><span class=cl>      delay: 100,
</span></span><span class=line><span class=cl>    });
</span></span><span class=line><span class=cl>    // See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span><span class=line><span class=cl>    const submitButton = screen.getByRole(&#39;button&#39;);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    await userEvent.click(submitButton);
</span></span><span class=line><span class=cl>  }}&gt;
</span></span><span class=line><span class=cl>  {Template.bind({})}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>Story</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>When Storybook finishes rendering the story, it executes the steps defined within the <code>play</code> function, interacting with the component and filling the form&rsquo;s information. All of this without the need for user intervention. If you check your <code>Interactions</code> panel, you&rsquo;ll see the step-by-step flow.</p><a href=#composing-stories><h2 id=composing-stories><span class=hanchor arialabel=Anchor># </span>Composing stories</h2></a><p>Thanks to the
<a href=https://storybook.js.org/docs/react/api/csf rel=noopener>Component Story Format</a>, an ES6 module based file format, you can also combine your <code>play</code> functions, similar to other existing Storybook features (e.g.,
<a href=https://storybook.js.org/docs/react/writing-stories/args rel=noopener>args</a>). For example, if you wanted to verify a specific workflow for your component, you could write the following stories:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// MyComponent.stories.js|jsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>screen</span><span class=p>,</span> <span class=nx>userEvent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MyComponent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./MyComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;MyComponent&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span><span class=o>:</span> <span class=nx>MyComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=o>&lt;</span><span class=nx>MyComponent</span> <span class=p>{...</span><span class=nx>args</span><span class=p>}</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>FirstStory</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>FirstStory</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>type</span><span class=p>(</span><span class=nx>screen</span><span class=p>.</span><span class=nx>getByTestId</span><span class=p>(</span><span class=s1>&#39;an-element&#39;</span><span class=p>),</span> <span class=s1>&#39;example-value&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>SecondStory</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>SecondStory</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>type</span><span class=p>(</span><span class=nx>screen</span><span class=p>.</span><span class=nx>getByTestId</span><span class=p>(</span><span class=s1>&#39;other-element&#39;</span><span class=p>),</span> <span class=s1>&#39;another value&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>CombinedStories</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>CombinedStories</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Runs the FirstStory and Second story play function before running this story&#39;s play function
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>await</span> <span class=nx>FirstStory</span><span class=p>.</span><span class=nx>play</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>SecondStory</span><span class=p>.</span><span class=nx>play</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>type</span><span class=p>(</span><span class=nx>screen</span><span class=p>.</span><span class=nx>getByTestId</span><span class=p>(</span><span class=s1>&#39;another-element&#39;</span><span class=p>),</span> <span class=s1>&#39;random value&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// MyComponent.stories.ts|tsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=kr>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ComponentStory</span><span class=p>,</span> <span class=nx>ComponentMeta</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>screen</span><span class=p>,</span> <span class=nx>userEvent</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MyComponent</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;./MyComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/eact/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;MyComponent&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span>: <span class=kt>MyComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=kr>as</span> <span class=nx>ComponentMeta</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>MyComponent</span><span class=p>&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span>: <span class=kt>ComponentStory</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>MyComponent</span><span class=p>&gt;</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=p>{</span><span class=na>...args</span><span class=p>}</span> <span class=p>/&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>FirstStory</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>FirstStory</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=kr>type</span><span class=p>(</span><span class=nx>screen</span><span class=p>.</span><span class=nx>getByTestId</span><span class=p>(</span><span class=s1>&#39;an-element&#39;</span><span class=p>),</span> <span class=s1>&#39;example-value&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>SecondStory</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>SecondStory</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=kr>type</span><span class=p>(</span><span class=nx>screen</span><span class=p>.</span><span class=nx>getByTestId</span><span class=p>(</span><span class=s1>&#39;other-element&#39;</span><span class=p>),</span> <span class=s1>&#39;another value&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>CombinedStories</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>CombinedStories</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Runs the FirstStory and Second story play function before running this story&#39;s play function
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>await</span> <span class=nx>FirstStory</span><span class=p>.</span><span class=nx>play</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>SecondStory</span><span class=p>.</span><span class=nx>play</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=kr>type</span><span class=p>(</span><span class=nx>screen</span><span class=p>.</span><span class=nx>getByTestId</span><span class=p>(</span><span class=s1>&#39;another-element&#39;</span><span class=p>),</span> <span class=s1>&#39;random value&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>By combining the stories, you&rsquo;re recreating the entire component workflow and can spot potential issues while reducing the boilerplate code you need to write.</p><a href=#working-with-events><h2 id=working-with-events><span class=hanchor arialabel=Anchor># </span>Working with events</h2></a><p>Most modern UIs are built focusing on interaction (e.g., clicking a button, selecting options, ticking checkboxes), providing rich experiences to the end-user. With the <code>play</code> function, you can incorporate the same level of interaction into your stories.</p><p>A common type of component interaction is a button click. If you need to reproduce it in your story, you can define your story&rsquo;s <code>play</code> function as the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// MyComponent.stories.js|jsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>fireEvent</span><span class=p>,</span> <span class=nx>screen</span><span class=p>,</span> <span class=nx>userEvent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MyComponent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./MyComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;ClickExamples&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span><span class=o>:</span> <span class=nx>MyComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=o>&lt;</span><span class=nx>MyComponent</span> <span class=p>{...</span><span class=nx>args</span><span class=p>}</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>ClickExample</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>ClickExample</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>click</span><span class=p>(</span><span class=nx>screen</span><span class=p>.</span><span class=nx>getByRole</span><span class=p>(</span><span class=s1>&#39;button&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>FireEventExample</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>FireEventExample</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>await</span> <span class=nx>fireEvent</span><span class=p>.</span><span class=nx>click</span><span class=p>(</span><span class=nx>screen</span><span class=p>.</span><span class=nx>getByTestId</span><span class=p>(</span><span class=s1>&#39;data-testid&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// MyComponent.stories.ts|tsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=kr>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ComponentStory</span><span class=p>,</span> <span class=nx>ComponentMeta</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>fireEvent</span><span class=p>,</span> <span class=nx>screen</span><span class=p>,</span> <span class=nx>userEvent</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MyComponent</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;./MyComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;ClickExamples&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span>: <span class=kt>MyComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=kr>as</span> <span class=nx>ComponentMeta</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>MyComponent</span><span class=p>&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span>: <span class=kt>ComponentStory</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>MyComponent</span><span class=p>&gt;</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=p>{</span><span class=na>...args</span><span class=p>}</span> <span class=p>/&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>ClickExample</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>ClickExample</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>click</span><span class=p>(</span><span class=nx>screen</span><span class=p>.</span><span class=nx>getByRole</span><span class=p>(</span><span class=s1>&#39;button&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>FireEventExample</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>FireEventExample</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>await</span> <span class=nx>fireEvent</span><span class=p>.</span><span class=nx>click</span><span class=p>(</span><span class=nx>screen</span><span class=p>.</span><span class=nx>getByTestId</span><span class=p>(</span><span class=s1>&#39;data-testid&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl><span class=c>&lt;!-- MyComponent.stories.mdx --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { Meta, Story } from &#39;@storybook/addon-docs&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { fireEvent, screen, userEvent } from &#39;@storybook/testing-library&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { MyComponent } from &#39;./MyComponent&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Meta</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;ClickExamples&#34;</span> <span class=na>component</span><span class=o>=</span><span class=s>{MyComponent}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>export const Template = (args) =&gt; <span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=err>{...</span><span class=na>args</span><span class=err>}</span> <span class=p>/&gt;</span>;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Story</span>
</span></span><span class=line><span class=cl>  <span class=na>name</span><span class=o>=</span><span class=s>&#34;ClickExample&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>play</span><span class=o>=</span><span class=s>{async</span> <span class=err>()</span> <span class=err>=</span><span class=p>&gt;</span> {
</span></span><span class=line><span class=cl>    // See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span><span class=line><span class=cl>    await userEvent.click(screen.getByRole(&#39;button&#39;));
</span></span><span class=line><span class=cl>  }}&gt;
</span></span><span class=line><span class=cl>  {Template.bind({})}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>Story</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Story</span>
</span></span><span class=line><span class=cl>  <span class=na>name</span><span class=o>=</span><span class=s>&#34;FireEventExample&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>play</span><span class=o>=</span><span class=s>{async</span> <span class=err>()=</span><span class=p>&gt;</span>{
</span></span><span class=line><span class=cl>    // See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span><span class=line><span class=cl>    await fireEvent.click(screen.getByTestId(&#39;data-testid&#39;));
</span></span><span class=line><span class=cl>  }}&gt;
</span></span><span class=line><span class=cl>  {Template.bind({})}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>Story</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>When Storybook loads the story and the function executes, it interacts with the component and triggers the button click, similar to what a user would do.</p><p>Asides from click events, you can also script additional events with the <code>play</code> function. For example, if your component includes a select with various options, you can write the following story and test each scenario:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// MyComponent.stories.js|jsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>userEvent</span><span class=p>,</span> <span class=nx>screen</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MyComponent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./MyComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;WithSelectEvent&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span><span class=o>:</span> <span class=nx>MyComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Function to emulate pausing between interactions
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>sleep</span><span class=p>(</span><span class=nx>ms</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>setTimeout</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>ms</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=o>&lt;</span><span class=nx>MyComponent</span> <span class=p>{...</span><span class=nx>args</span><span class=p>}</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>ExampleChangeEvent</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>ExampleChangeEvent</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>select</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByRole</span><span class=p>(</span><span class=s1>&#39;listbox&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>selectOptions</span><span class=p>(</span><span class=nx>select</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;One Item&#39;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>sleep</span><span class=p>(</span><span class=mi>2000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>selectOptions</span><span class=p>(</span><span class=nx>select</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;Another Item&#39;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>sleep</span><span class=p>(</span><span class=mi>2000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>selectOptions</span><span class=p>(</span><span class=nx>select</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;Yet another item&#39;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// MyComponent.stories.ts|tsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=kr>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ComponentStory</span><span class=p>,</span> <span class=nx>ComponentMeta</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>userEvent</span><span class=p>,</span> <span class=nx>screen</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MyComponent</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;./MyComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;WithSelectEvent&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span>: <span class=kt>MyComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=kr>as</span> <span class=nx>ComponentMeta</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>MyComponent</span><span class=p>&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Function to emulate pausing between interactions
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>sleep</span><span class=p>(</span><span class=nx>ms</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=k>new</span> <span class=nx>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=nx>setTimeout</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>ms</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span>: <span class=kt>ComponentStory</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>MyComponent</span><span class=p>&gt;</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=p>{</span><span class=na>...args</span><span class=p>}</span> <span class=p>/&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>ExampleChangeEvent</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>ExampleChangeEvent</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>select</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByRole</span><span class=p>(</span><span class=s1>&#39;listbox&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>selectOptions</span><span class=p>(</span><span class=nx>select</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;One Item&#39;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>sleep</span><span class=p>(</span><span class=mi>2000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>selectOptions</span><span class=p>(</span><span class=nx>select</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;Another Item&#39;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>sleep</span><span class=p>(</span><span class=mi>2000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>selectOptions</span><span class=p>(</span><span class=nx>select</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;Yet another item&#39;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl><span class=c>&lt;!-- MyComponent.stories.mdx --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { Meta, Story } from &#39;@storybook/addon-docs&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { userEvent, screen } from &#39;@storybook/testing-library&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { MyComponent } from &#39;./MyComponent&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Meta</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;WithSelectEvent&#34;</span> <span class=na>component</span><span class=o>=</span><span class=s>{MyComponent}/</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- Function to emulate pausing between interactions --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>export const sleep = (ms) =&gt; {
</span></span><span class=line><span class=cl>  return new Promise((resolve) =&gt; setTimeout(resolve, ms));
</span></span><span class=line><span class=cl>};
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>export const Template = (args) =&gt; <span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=err>{...</span><span class=na>args</span><span class=err>}</span> <span class=p>/&gt;</span>;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Story</span> 
</span></span><span class=line><span class=cl>  <span class=na>name</span><span class=o>=</span><span class=s>&#34;ExampleChangeEvent&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>play</span><span class=o>=</span><span class=s>{async</span> <span class=err>()</span> <span class=err>=</span><span class=p>&gt;</span> {
</span></span><span class=line><span class=cl>    const select = screen.getByRole(&#39;listbox&#39;);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    await userEvent.selectOptions(select, [&#39;One Item&#39;]);
</span></span><span class=line><span class=cl>    await sleep(2000);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    await userEvent.selectOptions(select, [&#39;Another Item&#39;]);
</span></span><span class=line><span class=cl>    await sleep(2000);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    await userEvent.selectOptions(select, [&#39;Yet another item&#39;]);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  }}&gt;
</span></span><span class=line><span class=cl>  {Template.bind({})}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>Story</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>In addition to events, you can also create interactions with the <code>play</code> function based on other types of asynchronous methods. For instance, let&rsquo;s assume that you&rsquo;re working with a component with validation logic implemented (e.g., email validation, password strength). In that case, you can introduce delays within your <code>play</code> function to emulate user interaction and assert if the values provided are valid or not:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// MyComponent.stories.js|jsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>screen</span><span class=p>,</span> <span class=nx>userEvent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MyComponent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./MyComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;WithDelay&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span><span class=o>:</span> <span class=nx>MyComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=o>&lt;</span><span class=nx>MyComponent</span> <span class=p>{...</span><span class=nx>args</span><span class=p>}</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>DelayedStory</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>DelayedStory</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>exampleElement</span><span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByLabelText</span><span class=p>(</span><span class=s1>&#39;example-element&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// The delay option set the amount of milliseconds between characters being typed
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>type</span><span class=p>(</span><span class=nx>exampleElement</span><span class=p>,</span> <span class=s1>&#39;random string&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>delay</span><span class=o>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>AnotherExampleElement</span><span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByLabelText</span><span class=p>(</span><span class=s1>&#39;another-example-element&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>type</span><span class=p>(</span><span class=nx>AnotherExampleElement</span><span class=p>,</span> <span class=s1>&#39;another random string&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>delay</span><span class=o>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// MyComponent.stories.ts|tsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=kr>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ComponentStory</span><span class=p>,</span> <span class=nx>ComponentMeta</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>screen</span><span class=p>,</span> <span class=nx>userEvent</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MyComponent</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;./MyComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;WithDelay&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span>: <span class=kt>MyComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=kr>as</span> <span class=nx>ComponentMeta</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>MyComponent</span><span class=p>&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span>: <span class=kt>ComponentStory</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>MyComponent</span><span class=p>&gt;</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=p>{</span><span class=na>...args</span><span class=p>}</span> <span class=p>/&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>DelayedStory</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>DelayedStory</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>exampleElement</span><span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByLabelText</span><span class=p>(</span><span class=s1>&#39;example-element&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// The delay option set the amount of milliseconds between characters being typed
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=kr>type</span><span class=p>(</span><span class=nx>exampleElement</span><span class=p>,</span> <span class=s1>&#39;random string&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>delay</span>: <span class=kt>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>AnotherExampleElement</span><span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByLabelText</span><span class=p>(</span><span class=s1>&#39;another-example-element&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=kr>type</span><span class=p>(</span><span class=nx>AnotherExampleElement</span><span class=p>,</span> <span class=s1>&#39;another random string&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>delay</span>: <span class=kt>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl><span class=c>&lt;!-- MyComponent.stories.mdx --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { Meta, Story } from &#39;@storybook/addon-docs&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { screen, userEvent } from &#39;@storybook/testing-library&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { MyComponent } from &#39;./MyComponent&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Meta</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;WithDelay&#34;</span> <span class=na>component</span><span class=o>=</span><span class=s>{MyComponent}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>export const Template = (args) =&gt; <span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=err>{...</span><span class=na>args</span><span class=err>}</span> <span class=p>/&gt;</span>;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Story</span>
</span></span><span class=line><span class=cl>  <span class=na>name</span><span class=o>=</span><span class=s>&#34;DelayedStory&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>play</span><span class=o>=</span><span class=s>{async</span> <span class=err>()</span> <span class=err>=</span><span class=p>&gt;</span> {
</span></span><span class=line><span class=cl>    const exampleElement= screen.getByLabelText(&#39;example-element&#39;);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    // The delay option set the amount of milliseconds between characters being typed
</span></span><span class=line><span class=cl>    await userEvent.type(exampleElement, &#39;random string&#39;, {
</span></span><span class=line><span class=cl>      delay: 100,
</span></span><span class=line><span class=cl>    });
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    const AnotherExampleElement= screen.getByLabelText(&#39;another-example-element&#39;);
</span></span><span class=line><span class=cl>    await userEvent.type(AnotherExampleElement, &#39;another random string&#39;, {
</span></span><span class=line><span class=cl>      delay: 100,
</span></span><span class=line><span class=cl>    });
</span></span><span class=line><span class=cl>  }}&gt;
</span></span><span class=line><span class=cl>  {Template.bind({})}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>Story</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>When Storybook loads the story, it interacts with the component, filling in its inputs and triggering any validation logic defined.</p><p>You can also use the <code>play</code> function to verify the existence of an element based on a specific interaction. For instance, if you&rsquo;re working on a component and want to check what happens if a user introduces the wrong information. In that case, you could write the following story:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// MyComponent.stories.js|jsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>screen</span><span class=p>,</span> <span class=nx>userEvent</span><span class=p>,</span> <span class=nx>waitFor</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MyComponent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./MyComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;WithAsync&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span><span class=o>:</span> <span class=nx>MyComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=o>&lt;</span><span class=nx>MyComponent</span> <span class=p>{...</span><span class=nx>args</span><span class=p>}</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>ExampleAsyncStory</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>ExampleAsyncStory</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>Input</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByLabelText</span><span class=p>(</span><span class=s1>&#39;Username&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>selector</span><span class=o>:</span> <span class=s1>&#39;input&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>type</span><span class=p>(</span><span class=nx>Input</span><span class=p>,</span> <span class=s1>&#39;WrongInput&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>delay</span><span class=o>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=c1>// See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>Submit</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByRole</span><span class=p>(</span><span class=s1>&#39;button&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>click</span><span class=p>(</span><span class=nx>Submit</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>waitFor</span><span class=p>(</span><span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>hover</span><span class=p>(</span><span class=nx>screen</span><span class=p>.</span><span class=nx>getByTestId</span><span class=p>(</span><span class=s1>&#39;error&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// MyComponent.stories.ts|tsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=kr>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ComponentStory</span><span class=p>,</span> <span class=nx>ComponentMeta</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>screen</span><span class=p>,</span> <span class=nx>userEvent</span><span class=p>,</span> <span class=nx>waitFor</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MyComponent</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;./MyComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;WithAsync&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span>: <span class=kt>MyComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=kr>as</span> <span class=nx>ComponentMeta</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>MyComponent</span><span class=p>&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span>: <span class=kt>ComponentStory</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>MyComponent</span><span class=p>&gt;</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=p>{</span><span class=na>...args</span><span class=p>}</span> <span class=p>/&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>ExampleAsyncStory</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>ExampleAsyncStory</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>Input</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByLabelText</span><span class=p>(</span><span class=s1>&#39;Username&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>selector</span><span class=o>:</span> <span class=s1>&#39;input&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=kr>type</span><span class=p>(</span><span class=nx>Input</span><span class=p>,</span> <span class=s1>&#39;WrongInput&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>delay</span>: <span class=kt>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=c1>// See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>Submit</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByRole</span><span class=p>(</span><span class=s1>&#39;button&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>click</span><span class=p>(</span><span class=nx>Submit</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>waitFor</span><span class=p>(</span><span class=kr>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>hover</span><span class=p>(</span><span class=nx>screen</span><span class=p>.</span><span class=nx>getByTestId</span><span class=p>(</span><span class=s1>&#39;error&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl><span class=c>&lt;!-- MyComponent.stories.mdx --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { Meta, Story } from &#39;@storybook/addon-docs&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { screen, userEvent, waitFor } from &#39;@storybook/testing-library&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { MyComponent } from &#39;./MyComponent&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Meta</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;WithAsync&#34;</span> <span class=na>component</span><span class=o>=</span><span class=s>{MyComponent}/</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>export const Template = (args) =&gt; <span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=err>{...</span><span class=na>args</span><span class=err>}</span> <span class=p>/&gt;</span>;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Story</span>
</span></span><span class=line><span class=cl>  <span class=na>name</span><span class=o>=</span><span class=s>&#34;ExampleAsyncStory&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>play</span><span class=o>=</span><span class=s>{async</span> <span class=err>()</span> <span class=err>=</span><span class=p>&gt;</span> {
</span></span><span class=line><span class=cl>    const Input = screen.getByLabelText(&#39;Username&#39;, {
</span></span><span class=line><span class=cl>      selector: &#39;input&#39;,
</span></span><span class=line><span class=cl>    });
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    await userEvent.type(Input, &#39;WrongInput&#39;, {
</span></span><span class=line><span class=cl>      delay: 100,
</span></span><span class=line><span class=cl>    });
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    // See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span><span class=line><span class=cl>    const Submit = screen.getByRole(&#39;button&#39;);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    await userEvent.click(Submit);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    await waitFor(async () =&gt; {
</span></span><span class=line><span class=cl>      await userEvent.hover(screen.getByTestId(&#39;error&#39;));
</span></span><span class=line><span class=cl>    });
</span></span><span class=line><span class=cl>  }}&gt;
</span></span><span class=line><span class=cl>  {Template.bind({})}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>Story</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><a href=#querying-elements><h2 id=querying-elements><span class=hanchor arialabel=Anchor># </span>Querying elements</h2></a><p>If you need, you can also adjust your <code>play</code> function to find elements based on queries (e.g., role, text content). For example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// MyComponent.stories.js|jsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>screen</span><span class=p>,</span> <span class=nx>userEvent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MyComponent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./MyComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;QueryMethods&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span><span class=o>:</span> <span class=nx>MyComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=o>&lt;</span><span class=nx>MyComponent</span> <span class=p>{...</span><span class=nx>args</span><span class=p>}</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>ExampleWithRole</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>ExampleWithRole</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>click</span><span class=p>(</span><span class=nx>screen</span><span class=p>.</span><span class=nx>getByRole</span><span class=p>(</span><span class=s1>&#39;button&#39;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=sr>/ button label/i</span> <span class=p>}));</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>ExampleWithText</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>ExampleWithText</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// The play function interacts with the component and looks for the text
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>await</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>findByText</span><span class=p>(</span><span class=s1>&#39;example string&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// MyComponent.stories.ts|tsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=kr>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ComponentStory</span><span class=p>,</span> <span class=nx>ComponentMeta</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>screen</span><span class=p>,</span> <span class=nx>userEvent</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MyComponent</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;./MyComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;QueryMethods&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span>: <span class=kt>MyComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=kr>as</span> <span class=nx>ComponentMeta</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>MyComponent</span><span class=p>&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span>: <span class=kt>ComponentStory</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>MyComponent</span><span class=p>&gt;</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=p>{</span><span class=na>...args</span><span class=p>}</span> <span class=p>/&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>ExampleWithRole</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>ExampleWithRole</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>click</span><span class=p>(</span><span class=nx>screen</span><span class=p>.</span><span class=nx>getByRole</span><span class=p>(</span><span class=s1>&#39;button&#39;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=sr>/ button label/i</span> <span class=p>}));</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>ExampleWithText</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>ExampleWithText</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// The play function interacts with the component and looks for the text
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>await</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>findByText</span><span class=p>(</span><span class=s1>&#39;example string&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl><span class=c>&lt;!-- MyComponent.stories.mdx --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { Meta, Story } from &#39;@storybook/addon-docs&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { screen, userEvent } from &#39;@storybook/testing-library&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { MyComponent } from &#39;./MyComponent&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Meta</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;QueryMethods&#34;</span> <span class=na>component</span><span class=o>=</span><span class=s>{MyComponent}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>export const Template = (args) =&gt; <span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=err>{...</span><span class=na>args</span><span class=err>}</span> <span class=p>/&gt;</span>;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Story</span>
</span></span><span class=line><span class=cl>  <span class=na>name</span><span class=o>=</span><span class=s>&#34;ExampleWithRole&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>play</span><span class=o>=</span><span class=s>{async</span> <span class=err>()</span> <span class=err>=</span><span class=p>&gt;</span> {
</span></span><span class=line><span class=cl>    // See https://storybook.js.org/docs/react/essentials/actions#automatically-matching-args to learn how to setup logging in the Actions panel
</span></span><span class=line><span class=cl>    await userEvent.click(screen.getByRole(&#39;button&#39;, { name: / button label/i }));
</span></span><span class=line><span class=cl>  }}&gt;
</span></span><span class=line><span class=cl>  {Template.bind({})}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>Story</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Story</span>
</span></span><span class=line><span class=cl>  <span class=na>name</span><span class=o>=</span><span class=s>&#34;ExampleWithText&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>play</span><span class=o>=</span><span class=s>{async</span> <span class=err>()</span> <span class=err>=</span><span class=p>&gt;</span> {
</span></span><span class=line><span class=cl>    // The play function interacts with the component and looks for the text
</span></span><span class=line><span class=cl>    await screen.findByText(&#39;example string&#39;);
</span></span><span class=line><span class=cl>  }}&gt;
</span></span><span class=line><span class=cl>  {Template.bind({})}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>Story</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><div class=aside>💡 You can read more about the querying elements in the <a href=https://testing-library.com/docs/queries/about/>Testing library documentation</a>.</div><a href=#working-with-the-canvas><h2 id=working-with-the-canvas><span class=hanchor arialabel=Anchor># </span>Working with the Canvas</h2></a><p>By default, each interaction you write inside your <code>play</code> function will be executed starting from the top-level element of the Canvas. This is acceptable for smaller components (e.g., buttons, checkboxes, text inputs), but can be inefficient for complex components (e.g., forms, pages), or for multiple stories. To accommodate this, you can adjust your interactions to start execution from the component&rsquo;s root. For example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// MyComponent.stories.js|jsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>getByRole</span><span class=p>,</span> <span class=nx>userEvent</span><span class=p>,</span> <span class=nx>within</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MyComponent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./MyComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;WithCanvasElement&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span><span class=o>:</span> <span class=nx>MyComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=o>&lt;</span><span class=nx>MyComponent</span> <span class=p>{...</span><span class=nx>args</span><span class=p>}</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>ExampleStory</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>ExampleStory</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>({</span> <span class=nx>canvasElement</span> <span class=p>})</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Assigns canvas to the component root element
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>canvas</span> <span class=o>=</span> <span class=nx>within</span><span class=p>(</span><span class=nx>canvasElement</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Starts querying from the component&#39;s root element
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>type</span><span class=p>(</span><span class=nx>canvas</span><span class=p>.</span><span class=nx>getByTestId</span><span class=p>(</span><span class=s1>&#39;example-element&#39;</span><span class=p>),</span> <span class=s1>&#39;something&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>click</span><span class=p>(</span><span class=nx>canvas</span><span class=p>.</span><span class=nx>getByRole</span><span class=p>(</span><span class=s1>&#39;another-element&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// MyComponent.stories.ts|tsx
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=kr>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ComponentStory</span><span class=p>,</span> <span class=nx>ComponentMeta</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>userEvent</span><span class=p>,</span> <span class=nx>within</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@storybook/testing-library&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MyComponent</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;./MyComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* 👇 The title prop is optional.
</span></span></span><span class=line><span class=cl><span class=cm>  * See https://storybook.js.org/docs/react/configure/overview#configure-story-loading
</span></span></span><span class=line><span class=cl><span class=cm>  * to learn how to generate automatic titles
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;WithCanvasElement&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>component</span>: <span class=kt>MyComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=kr>as</span> <span class=nx>ComponentMeta</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>MyComponent</span><span class=p>&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Template</span>: <span class=kt>ComponentStory</span><span class=p>&lt;</span><span class=nt>typeof</span> <span class=na>MyComponent</span><span class=p>&gt;</span> <span class=o>=</span> <span class=p>(</span><span class=nx>args</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=p>{</span><span class=na>...args</span><span class=p>}</span> <span class=p>/&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>ExampleStory</span> <span class=o>=</span> <span class=nx>Template</span><span class=p>.</span><span class=nx>bind</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>ExampleStory</span><span class=p>.</span><span class=nx>play</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>({</span> <span class=nx>canvasElement</span> <span class=p>})</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Assigns canvas to the component root element
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>canvas</span> <span class=o>=</span> <span class=nx>within</span><span class=p>(</span><span class=nx>canvasElement</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Starts querying from the component&#39;s root element
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=kr>type</span><span class=p>(</span><span class=nx>canvas</span><span class=p>.</span><span class=nx>getByTestId</span><span class=p>(</span><span class=s1>&#39;example-element&#39;</span><span class=p>),</span> <span class=s1>&#39;something&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>await</span> <span class=nx>userEvent</span><span class=p>.</span><span class=nx>click</span><span class=p>(</span><span class=nx>canvas</span><span class=p>.</span><span class=nx>getByRole</span><span class=p>(</span><span class=s1>&#39;another-element&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl>import { Meta, Story} from &#39;@storybook/addon-docs&#39;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { userEvent, within } from &#39;@storybook/testing-library&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import { MyComponent } from &#39;./MyComponent&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Meta</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;WithCanvasElement&#34;</span> <span class=na>component</span><span class=o>=</span><span class=s>{MyComponent}/</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>export const Template = (args) =&gt; <span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=err>{...</span><span class=na>args</span><span class=err>}</span> <span class=p>/&gt;</span>;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Story</span>
</span></span><span class=line><span class=cl>  <span class=na>name</span><span class=o>=</span><span class=s>&#34;ExampleStory&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>play</span><span class=o>=</span><span class=s>{async</span> <span class=err>({</span> <span class=na>canvasElement</span> <span class=err>})</span> <span class=err>=</span><span class=p>&gt;</span> {
</span></span><span class=line><span class=cl>    // Assigns canvas to the component root element
</span></span><span class=line><span class=cl>    const canvas = within(canvasElement);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    // Starts querying from the component&#39;s root element
</span></span><span class=line><span class=cl>    await userEvent.type(canvas.getByTestId(&#39;example-element&#39;), &#39;something&#39;);
</span></span><span class=line><span class=cl>    await userEvent.click(canvas.getByRole(&#39;another-element&#39;));
</span></span><span class=line><span class=cl>  }}&gt;
</span></span><span class=line><span class=cl>  {Template.bind({})}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>Story</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Applying these changes to your stories can provide a performance boost and improved error handling with
<a href=https://storybook.js.org/addons/@storybook/addon-interactions rel=noopener><code>addon-interactions</code></a>.</p><p><a href=https://github.com/storybookjs/storybook/tree/next/docs/writing-stories/play-function.md target=_blank rel=noopener class="e1soj9vu1 e1ja7avb2 css-1ii1tfm e1ja7avb1"><span class="css-1xdhyk6 e1ja7avb3"><span role=img aria-label=write>✍️</span> Edit on GitHub – PRs welcome!</span></a></p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script async src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://mindulle.github.io/garden/js/graph.6579af7b10c818dbd2ca038702db0224.js></script></div></div><div id=contact_buttons><footer><p>Made by mindulle using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, © 2023</p><ul><li><a href=https://mindulle.github.io/garden>Home</a></li><li><a href=https://github.com/mindulle>GitHub</a></li></ul></footer></div></div></body></html>