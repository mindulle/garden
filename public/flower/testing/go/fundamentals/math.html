<!DOCTYPE html>
<html><head><title>math</title><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:title" content="math"/><meta property="og:description" content="Mathematics § You can find all the code for this chapter here For all the power of modern computers to perform huge sums at lightning speed, the average developer rarely uses any mathematics to do their job."/><meta property="og:image" content="https://mindulle.github.io/garden/static/og-image.png"/><meta property="og:width" content="1200"/><meta property="og:height" content="675"/><link rel="icon" href="../../../../static/icon.png"/><meta name="description" content="Mathematics § You can find all the code for this chapter here For all the power of modern computers to perform huge sums at lightning speed, the average developer rarely uses any mathematics to do their job."/><meta name="generator" content="Quartz"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link href="../../../../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap" rel="stylesheet" type="text/css" spa-preserve/><script src="../../../../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch(`../../../../static/contentIndex.json`).then(data => data.json())</script></head><body data-slug="flower/testing/go/fundamentals/math"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h1 class="page-title "><a href="../../../..">Mindulle Garden</a></h1><div class="spacer mobile-only"></div><div class="search "><div id="search-icon"><p>Search</p><div></div><svg tabIndex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search</title><desc id="desc">Search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></div><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="results-container"></div></div></div></div><div class="darkmode "><input class="toggle" id="darkmode-toggle" type="checkbox" tabIndex="-1"/><label id="toggle-label-light" for="darkmode-toggle" tabIndex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35;" xmlSpace="preserve"><title>Light mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg></label><label id="toggle-label-dark" for="darkmode-toggle" tabIndex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'" xmlSpace="preserve"><title>Dark mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></label></div><div class="explorer desktop-only"><button type="button" id="explorer" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;core&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge/fundamental&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge/fundamental/design&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge/law&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge/law/computing&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge/law/dev&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge/law/management&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge/law/ux&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge/paradigm&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge/paradigm/FP&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge/principle&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge/principle/computing&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge/principle/dev&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge/principle/management&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;core/background-knowledge/principle/ux&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/smells&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/smells/bloaters&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/smells/change-preventers&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/smells/couplers&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/smells/dispensables&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/smells/oo-abusers&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/smells/other&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/techniques&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/techniques/composing-methods&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/techniques/dealing-with-generalization&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/techniques/moving-features-between-objects&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/techniques/organizing-data&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/techniques/simplifying-conditional-expressions&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/techniques/simplifying-method-calls&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/refactoring/what-is-refactoring&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/automation&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/go&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/go/anti_patterns&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/go/build_an_application&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/go/fundamentals&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/go/testing_fundamentals&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/go/tips&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/javascript&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/javascript/0 The Golden Rule&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/javascript/1 The Test Anatomy&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/javascript/2 Backend&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/javascript/3 Frontend&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/javascript/4 Measuring Tests Effectiveness&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/javascript/5 Continuous Integration&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;flower/testing/javascript/assets&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Patterns&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Patterns/Design Patterns&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Patterns/Design Patterns/catalog&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Patterns/Design Patterns/catalog/behavioral&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Patterns/Design Patterns/catalog/creational&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Patterns/Design Patterns/catalog/structural&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Patterns/Design Patterns/intro&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Patterns/Design Patterns/react&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Patterns/Design Patterns/vanilla&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Patterns/rendering&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Patterns/rendering/react&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Patterns/rendering/vanilla&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing/go&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing/go/anti_patterns&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing/go/build_an_application&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing/go/fundamentals&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing/go/testing_fundamentals&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing/go/tips&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing/javascript&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing/javascript/0 The Golden Rule&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing/javascript/1 The Test Anatomy&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing/javascript/2 Backend&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing/javascript/3 Frontend&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing/javascript/4 Measuring Tests Effectiveness&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing/javascript/5 Continuous Integration&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Coding/Testing/javascript/assets&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Diagraming&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Diagraming/bizSys&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Diagraming/bizSys/externalView&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Diagraming/bizSys/internalView&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Diagraming/ITSys&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Diagraming/ITSys/behavioralView&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Diagraming/ITSys/externalView&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Diagraming/ITSys/externalView/the-elements-of-view&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Diagraming/ITSys/interactionView&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Diagraming/ITSys/structuralView&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Diagraming/prepIntegr&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Diagraming/prepIntegr/processView&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;fruit/Diagraming/prepIntegr/staticView&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;seed&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;seed/computing&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;seed/software development&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;seed/Unix&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;tree&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;tree/Product Design&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;tree/Product Design/Design&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;tree/Software Development&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;tree/Software Development/Architecture&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;tree/Software Development/Project Layout&quot;,&quot;collapsed&quot;:true}]"><h1>Explorer</h1><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-content"><ul class="overflow" id="explorer-ul"><li><div><div class="folder-outer open"><ul style="padding-left:0;" class="content" data-folderul><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core"><button class="folder-button"><p class="folder-title">core</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge"><button class="folder-button"><p class="folder-title">background-knowledge</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge/fundamental"><button class="folder-button"><p class="folder-title">fundamental</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge/fundamental"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge/fundamental/design"><button class="folder-button"><p class="folder-title">design</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge/fundamental/design"><li><li><a href="../../../../core/background-knowledge/fundamental/design/BASIS_01_laws" data-for="core/background-knowledge/fundamental/design/BASIS_01_laws">BASIS_01_laws</a></li></li><li><li><a href="../../../../core/background-knowledge/fundamental/design/BASIS_02_process" data-for="core/background-knowledge/fundamental/design/BASIS_02_process">BASIS_02_process</a></li></li><li><li><a href="../../../../core/background-knowledge/fundamental/design/BASIS_02_process-gist" data-for="core/background-knowledge/fundamental/design/BASIS_02_process-gist">BASIS_02_process-gist</a></li></li><li><li><a href="../../../../core/background-knowledge/fundamental/design/BASIS_03_information_architecture" data-for="core/background-knowledge/fundamental/design/BASIS_03_information_architecture">BASIS_03_information_architecture</a></li></li><li><li><a href="../../../../core/background-knowledge/fundamental/design/LAYOUT_01_artboard_and_margin" data-for="core/background-knowledge/fundamental/design/LAYOUT_01_artboard_and_margin">LAYOUT_01_artboard_and_margin</a></li></li><li><li><a href="../../../../core/background-knowledge/fundamental/design/LAYOUT_02_grid_basis" data-for="core/background-knowledge/fundamental/design/LAYOUT_02_grid_basis">LAYOUT_02_grid_basis</a></li></li><li><li><a href="../../../../core/background-knowledge/fundamental/design/LAYOUT_03_set_grid_layout" data-for="core/background-knowledge/fundamental/design/LAYOUT_03_set_grid_layout">LAYOUT_03_set_grid_layout</a></li></li><li><li><a href="../../../../core/background-knowledge/fundamental/design/LAYOUT_04_grouping" data-for="core/background-knowledge/fundamental/design/LAYOUT_04_grouping">LAYOUT_04_grouping</a></li></li><li><li><a href="../../../../core/background-knowledge/fundamental/design/LAYOUT_05_sorting" data-for="core/background-knowledge/fundamental/design/LAYOUT_05_sorting">LAYOUT_05_sorting</a></li></li><li><li><a href="../../../../core/background-knowledge/fundamental/design/LAYOUT_06_contrast" data-for="core/background-knowledge/fundamental/design/LAYOUT_06_contrast">LAYOUT_06_contrast</a></li></li></ul></div></div></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge/law"><button class="folder-button"><p class="folder-title">law</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge/law"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge/law/computing"><button class="folder-button"><p class="folder-title">computing</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge/law/computing"><li><li><a href="../../../../core/background-knowledge/law/computing/Amdahls-Law" data-for="core/background-knowledge/law/computing/Amdahls-Law">Amdahls-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/computing/Galls-Law" data-for="core/background-knowledge/law/computing/Galls-Law">Galls-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/computing/Metcalfes-Law" data-for="core/background-knowledge/law/computing/Metcalfes-Law">Metcalfes-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/computing/Moores-Law" data-for="core/background-knowledge/law/computing/Moores-Law">Moores-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/computing/Reeds-Law" data-for="core/background-knowledge/law/computing/Reeds-Law">Reeds-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/computing/The-Law-of-Conservation-of-Complexity-Teslers-Law" data-for="core/background-knowledge/law/computing/The-Law-of-Conservation-of-Complexity-Teslers-Law">The-Law-of-Conservation-of-Complexity-Teslers-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/computing/The-Law-of-Leaky-Abstractions" data-for="core/background-knowledge/law/computing/The-Law-of-Leaky-Abstractions">The-Law-of-Leaky-Abstractions</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge/law/dev"><button class="folder-button"><p class="folder-title">dev</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge/law/dev"><li><li><a href="../../../../core/background-knowledge/law/dev/Brooks-Law" data-for="core/background-knowledge/law/dev/Brooks-Law">Brooks-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/dev/Conways-Law" data-for="core/background-knowledge/law/dev/Conways-Law">Conways-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/dev/Cunninghams-Law" data-for="core/background-knowledge/law/dev/Cunninghams-Law">Cunninghams-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/dev/Hutbers-Law" data-for="core/background-knowledge/law/dev/Hutbers-Law">Hutbers-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/dev/Hyrums-Law-The-Law-of-Implicit-Interfaces" data-for="core/background-knowledge/law/dev/Hyrums-Law-The-Law-of-Implicit-Interfaces">Hyrums-Law-The-Law-of-Implicit-Interfaces</a></li></li><li><li><a href="../../../../core/background-knowledge/law/dev/Kernighans-Law" data-for="core/background-knowledge/law/dev/Kernighans-Law">Kernighans-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/dev/The-Law-of-Triviality" data-for="core/background-knowledge/law/dev/The-Law-of-Triviality">The-Law-of-Triviality</a></li></li><li><li><a href="../../../../core/background-knowledge/law/dev/Wadlers-Law" data-for="core/background-knowledge/law/dev/Wadlers-Law">Wadlers-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/dev/Wheatons-Law" data-for="core/background-knowledge/law/dev/Wheatons-Law">Wheatons-Law</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge/law/management"><button class="folder-button"><p class="folder-title">management</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge/law/management"><li><li><a href="../../../../core/background-knowledge/law/management/Goodharts-Law" data-for="core/background-knowledge/law/management/Goodharts-Law">Goodharts-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/management/Hofstadters-Law" data-for="core/background-knowledge/law/management/Hofstadters-Law">Hofstadters-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/management/Parkinsons-Law" data-for="core/background-knowledge/law/management/Parkinsons-Law">Parkinsons-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/management/Putts-Law" data-for="core/background-knowledge/law/management/Putts-Law">Putts-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/management/The-Hype-Cycle--Amaras-Law" data-for="core/background-knowledge/law/management/The-Hype-Cycle--Amaras-Law">The-Hype-Cycle--Amaras-Law</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge/law/ux"><button class="folder-button"><p class="folder-title">ux</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge/law/ux"><li><li><a href="../../../../core/background-knowledge/law/ux/[cognitiveBias]Peak-End_Rule" data-for="core/background-knowledge/law/ux/[cognitiveBias]Peak-End_Rule">[cognitiveBias]Peak-End_Rule</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[cognitiveBias]Serial_Position_Effect" data-for="core/background-knowledge/law/ux/[cognitiveBias]Serial_Position_Effect">[cognitiveBias]Serial_Position_Effect</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[cognitiveBias]Von_Restorff_Effect" data-for="core/background-knowledge/law/ux/[cognitiveBias]Von_Restorff_Effect">[cognitiveBias]Von_Restorff_Effect</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[cognitiveBias]Zeigarnik_Effect" data-for="core/background-knowledge/law/ux/[cognitiveBias]Zeigarnik_Effect">[cognitiveBias]Zeigarnik_Effect</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[gestalt]Law_of_Common_Region" data-for="core/background-knowledge/law/ux/[gestalt]Law_of_Common_Region">[gestalt]Law_of_Common_Region</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[gestalt]Law_of_Prägnanz" data-for="core/background-knowledge/law/ux/[gestalt]Law_of_Prägnanz">[gestalt]Law_of_Prägnanz</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[gestalt]Law_of_Proximity" data-for="core/background-knowledge/law/ux/[gestalt]Law_of_Proximity">[gestalt]Law_of_Proximity</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[gestalt]Law_of_Similarity" data-for="core/background-knowledge/law/ux/[gestalt]Law_of_Similarity">[gestalt]Law_of_Similarity</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[gestalt]Law_of_Uniform_Connectedness" data-for="core/background-knowledge/law/ux/[gestalt]Law_of_Uniform_Connectedness">[gestalt]Law_of_Uniform_Connectedness</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[heuristic]Aesthetic-Usability_Effect" data-for="core/background-knowledge/law/ux/[heuristic]Aesthetic-Usability_Effect">[heuristic]Aesthetic-Usability_Effect</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[heuristic]Fitts’s_Law" data-for="core/background-knowledge/law/ux/[heuristic]Fitts’s_Law">[heuristic]Fitts’s_Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[heuristic]Goal-Gradient_Effect" data-for="core/background-knowledge/law/ux/[heuristic]Goal-Gradient_Effect">[heuristic]Goal-Gradient_Effect</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[heuristic]Hick’s_Law" data-for="core/background-knowledge/law/ux/[heuristic]Hick’s_Law">[heuristic]Hick’s_Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[heuristic]Jakob’s_Law" data-for="core/background-knowledge/law/ux/[heuristic]Jakob’s_Law">[heuristic]Jakob’s_Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[heuristic]Miller’s_Law" data-for="core/background-knowledge/law/ux/[heuristic]Miller’s_Law">[heuristic]Miller’s_Law</a></li></li><li><li><a href="../../../../core/background-knowledge/law/ux/[heuristic]Parkinson’s_Law" data-for="core/background-knowledge/law/ux/[heuristic]Parkinson’s_Law">[heuristic]Parkinson’s_Law</a></li></li></ul></div></div></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge/paradigm"><button class="folder-button"><p class="folder-title">paradigm</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge/paradigm"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge/paradigm/FP"><button class="folder-button"><p class="folder-title">FP</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge/paradigm/FP"><li><li><a href="../../../../core/background-knowledge/paradigm/FP/ApendixA_Essential_Functions_Support" data-for="core/background-knowledge/paradigm/FP/ApendixA_Essential_Functions_Support">ApendixA_Essential_Functions_Support</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/ApendixB_Algebraic_Structures_Support" data-for="core/background-knowledge/paradigm/FP/ApendixB_Algebraic_Structures_Support">ApendixB_Algebraic_Structures_Support</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/ApendixC_Pointfree_Utilities" data-for="core/background-knowledge/paradigm/FP/ApendixC_Pointfree_Utilities">ApendixC_Pointfree_Utilities</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/CH_01_What_Ever_Are_We_Doing" data-for="core/background-knowledge/paradigm/FP/CH_01_What_Ever_Are_We_Doing">CH_01_What_Ever_Are_We_Doing</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/CH_02_First_Class_Functions" data-for="core/background-knowledge/paradigm/FP/CH_02_First_Class_Functions">CH_02_First_Class_Functions</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/CH_03_Pure_Happiness_with_Pure_Functions" data-for="core/background-knowledge/paradigm/FP/CH_03_Pure_Happiness_with_Pure_Functions">CH_03_Pure_Happiness_with_Pure_Functions</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/CH_04_Currying" data-for="core/background-knowledge/paradigm/FP/CH_04_Currying">CH_04_Currying</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/CH_05_Coding_by_Composing" data-for="core/background-knowledge/paradigm/FP/CH_05_Coding_by_Composing">CH_05_Coding_by_Composing</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/CH_06_Example_Application" data-for="core/background-knowledge/paradigm/FP/CH_06_Example_Application">CH_06_Example_Application</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/CH_07_Hindley-Milner_and_Me" data-for="core/background-knowledge/paradigm/FP/CH_07_Hindley-Milner_and_Me">CH_07_Hindley-Milner_and_Me</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/CH_08_Tupperware" data-for="core/background-knowledge/paradigm/FP/CH_08_Tupperware">CH_08_Tupperware</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/CH_09_Monadic_Onions" data-for="core/background-knowledge/paradigm/FP/CH_09_Monadic_Onions">CH_09_Monadic_Onions</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/CH_10_Applicative_Functors" data-for="core/background-knowledge/paradigm/FP/CH_10_Applicative_Functors">CH_10_Applicative_Functors</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/CH_11_Transform_Again,_Naturally" data-for="core/background-knowledge/paradigm/FP/CH_11_Transform_Again,_Naturally">CH_11_Transform_Again,_Naturally</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/CH_12_Traversing_the_Stone" data-for="core/background-knowledge/paradigm/FP/CH_12_Traversing_the_Stone">CH_12_Traversing_the_Stone</a></li></li><li><li><a href="../../../../core/background-knowledge/paradigm/FP/CH_13_Monoids_bring_it_all_together" data-for="core/background-knowledge/paradigm/FP/CH_13_Monoids_bring_it_all_together">CH_13_Monoids_bring_it_all_together</a></li></li></ul></div></div></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge/principle"><button class="folder-button"><p class="folder-title">principle</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge/principle"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge/principle/computing"><button class="folder-button"><p class="folder-title">computing</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge/principle/computing"><li><li><a href="../../../../core/background-knowledge/principle/computing/The-Fallacies-of-Distributed-Computing" data-for="core/background-knowledge/principle/computing/The-Fallacies-of-Distributed-Computing">The-Fallacies-of-Distributed-Computing</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/computing/The-Spotify-Model" data-for="core/background-knowledge/principle/computing/The-Spotify-Model">The-Spotify-Model</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/computing/The-Unix-Philosophy" data-for="core/background-knowledge/principle/computing/The-Unix-Philosophy">The-Unix-Philosophy</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge/principle/dev"><button class="folder-button"><p class="folder-title">dev</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge/principle/dev"><li><li><a href="../../../../core/background-knowledge/principle/dev/Premature-Optimization-Effect" data-for="core/background-knowledge/principle/dev/Premature-Optimization-Effect">Premature-Optimization-Effect</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/dev/SOLID" data-for="core/background-knowledge/principle/dev/SOLID">SOLID</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/dev/The-Dependency-Inversion-Principle" data-for="core/background-knowledge/principle/dev/The-Dependency-Inversion-Principle">The-Dependency-Inversion-Principle</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/dev/The-DRY-Principle" data-for="core/background-knowledge/principle/dev/The-DRY-Principle">The-DRY-Principle</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/dev/The-Interface-Segregation-Principle" data-for="core/background-knowledge/principle/dev/The-Interface-Segregation-Principle">The-Interface-Segregation-Principle</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/dev/The-KISS-principle" data-for="core/background-knowledge/principle/dev/The-KISS-principle">The-KISS-principle</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/dev/The-Liskov-Substitution-Principle" data-for="core/background-knowledge/principle/dev/The-Liskov-Substitution-Principle">The-Liskov-Substitution-Principle</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/dev/The-OpenClosed-Principle" data-for="core/background-knowledge/principle/dev/The-OpenClosed-Principle">The-OpenClosed-Principle</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/dev/The-Robustness-Principle-Postels-Law" data-for="core/background-knowledge/principle/dev/The-Robustness-Principle-Postels-Law">The-Robustness-Principle-Postels-Law</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/dev/The-Single-Responsibility-Principle" data-for="core/background-knowledge/principle/dev/The-Single-Responsibility-Principle">The-Single-Responsibility-Principle</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/dev/YAGNI" data-for="core/background-knowledge/principle/dev/YAGNI">YAGNI</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge/principle/management"><button class="folder-button"><p class="folder-title">management</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge/principle/management"><li><li><a href="../../../../core/background-knowledge/principle/management/Occams-Razor" data-for="core/background-knowledge/principle/management/Occams-Razor">Occams-Razor</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/management/The-Dilbert-Principle" data-for="core/background-knowledge/principle/management/The-Dilbert-Principle">The-Dilbert-Principle</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/management/The-Pareto-Principle-The-8020-Rule" data-for="core/background-knowledge/principle/management/The-Pareto-Principle-The-8020-Rule">The-Pareto-Principle-The-8020-Rule</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/management/The-Peter-Principle" data-for="core/background-knowledge/principle/management/The-Peter-Principle">The-Peter-Principle</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/core/background-knowledge/principle/ux"><button class="folder-button"><p class="folder-title">ux</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/core/background-knowledge/principle/ux"><li><li><a href="../../../../core/background-knowledge/principle/ux/Doherty_Threshold" data-for="core/background-knowledge/principle/ux/Doherty_Threshold">Doherty_Threshold</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/ux/Occam’s_Razor" data-for="core/background-knowledge/principle/ux/Occam’s_Razor">Occam’s_Razor</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/ux/Pareto_Principle" data-for="core/background-knowledge/principle/ux/Pareto_Principle">Pareto_Principle</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/ux/Postel’s_Law" data-for="core/background-knowledge/principle/ux/Postel’s_Law">Postel’s_Law</a></li></li><li><li><a href="../../../../core/background-knowledge/principle/ux/Tesler’s_Law" data-for="core/background-knowledge/principle/ux/Tesler’s_Law">Tesler’s_Law</a></li></li></ul></div></div></li></ul></div></div></li></ul></div></div></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower"><button class="folder-button"><p class="folder-title">flower</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring"><button class="folder-button"><p class="folder-title">refactoring</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/smells"><button class="folder-button"><p class="folder-title">smells</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/smells"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/smells/bloaters"><button class="folder-button"><p class="folder-title">bloaters</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/smells/bloaters"><li><li><a href="../../../../flower/refactoring/smells/bloaters/data-clumps" data-for="flower/refactoring/smells/bloaters/data-clumps">Data Clumps</a></li></li><li><li><a href="../../../../flower/refactoring/smells/bloaters/large-class" data-for="flower/refactoring/smells/bloaters/large-class">Large Class</a></li></li><li><li><a href="../../../../flower/refactoring/smells/bloaters/long-method" data-for="flower/refactoring/smells/bloaters/long-method">Long Method</a></li></li><li><li><a href="../../../../flower/refactoring/smells/bloaters/long-parameter-list" data-for="flower/refactoring/smells/bloaters/long-parameter-list">Long Parameter List</a></li></li><li><li><a href="../../../../flower/refactoring/smells/bloaters/primitive-obsession" data-for="flower/refactoring/smells/bloaters/primitive-obsession">Primitive Obsession</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/smells/change-preventers"><button class="folder-button"><p class="folder-title">change-preventers</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/smells/change-preventers"><li><li><a href="../../../../flower/refactoring/smells/change-preventers/divergent-change" data-for="flower/refactoring/smells/change-preventers/divergent-change">Divergent Change</a></li></li><li><li><a href="../../../../flower/refactoring/smells/change-preventers/parallel-inheritance-hierarchies" data-for="flower/refactoring/smells/change-preventers/parallel-inheritance-hierarchies">Parallel Inheritance Hierarchies</a></li></li><li><li><a href="../../../../flower/refactoring/smells/change-preventers/shotgun-surgery" data-for="flower/refactoring/smells/change-preventers/shotgun-surgery">Shotgun Surgery</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/smells/couplers"><button class="folder-button"><p class="folder-title">couplers</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/smells/couplers"><li><li><a href="../../../../flower/refactoring/smells/couplers/feature-envy" data-for="flower/refactoring/smells/couplers/feature-envy">Feature Envy</a></li></li><li><li><a href="../../../../flower/refactoring/smells/couplers/inappropriate-intimacy" data-for="flower/refactoring/smells/couplers/inappropriate-intimacy">Inappropriate Intimacy</a></li></li><li><li><a href="../../../../flower/refactoring/smells/couplers/message-chains" data-for="flower/refactoring/smells/couplers/message-chains">Message Chains</a></li></li><li><li><a href="../../../../flower/refactoring/smells/couplers/middle-man" data-for="flower/refactoring/smells/couplers/middle-man">Middle Man</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/smells/dispensables"><button class="folder-button"><p class="folder-title">dispensables</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/smells/dispensables"><li><li><a href="../../../../flower/refactoring/smells/dispensables/comments" data-for="flower/refactoring/smells/dispensables/comments">Comments</a></li></li><li><li><a href="../../../../flower/refactoring/smells/dispensables/data-class" data-for="flower/refactoring/smells/dispensables/data-class">Data Class</a></li></li><li><li><a href="../../../../flower/refactoring/smells/dispensables/dead-code" data-for="flower/refactoring/smells/dispensables/dead-code">Dead Code</a></li></li><li><li><a href="../../../../flower/refactoring/smells/dispensables/duplicate-code" data-for="flower/refactoring/smells/dispensables/duplicate-code">Duplicate Code</a></li></li><li><li><a href="../../../../flower/refactoring/smells/dispensables/lazy-class" data-for="flower/refactoring/smells/dispensables/lazy-class">Lazy Class</a></li></li><li><li><a href="../../../../flower/refactoring/smells/dispensables/speculative-generality" data-for="flower/refactoring/smells/dispensables/speculative-generality">Speculative Generality</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/smells/oo-abusers"><button class="folder-button"><p class="folder-title">oo-abusers</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/smells/oo-abusers"><li><li><a href="../../../../flower/refactoring/smells/oo-abusers/alternative-classes-with-different-interfaces" data-for="flower/refactoring/smells/oo-abusers/alternative-classes-with-different-interfaces">Alternative Classes with Different Interfaces</a></li></li><li><li><a href="../../../../flower/refactoring/smells/oo-abusers/refused-bequest" data-for="flower/refactoring/smells/oo-abusers/refused-bequest">Refused Bequest</a></li></li><li><li><a href="../../../../flower/refactoring/smells/oo-abusers/switch-statements" data-for="flower/refactoring/smells/oo-abusers/switch-statements">Switch Statements</a></li></li><li><li><a href="../../../../flower/refactoring/smells/oo-abusers/temporary-field" data-for="flower/refactoring/smells/oo-abusers/temporary-field">Temporary Field</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/smells/other"><button class="folder-button"><p class="folder-title">other</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/smells/other"><li><li><a href="../../../../flower/refactoring/smells/other/incomplete-library-class" data-for="flower/refactoring/smells/other/incomplete-library-class">Incomplete Library Class</a></li></li></ul></div></div></li><li><li><a href="../../../../flower/refactoring/smells/bloaters" data-for="flower/refactoring/smells/bloaters">Bloaters</a></li></li><li><li><a href="../../../../flower/refactoring/smells/change-preventers" data-for="flower/refactoring/smells/change-preventers">Change Preventers</a></li></li><li><li><a href="../../../../flower/refactoring/smells/couplers" data-for="flower/refactoring/smells/couplers">Couplers</a></li></li><li><li><a href="../../../../flower/refactoring/smells/dispensables" data-for="flower/refactoring/smells/dispensables">Dispensables</a></li></li><li><li><a href="../../../../flower/refactoring/smells/oo-abusers" data-for="flower/refactoring/smells/oo-abusers">Object-Orientation Abusers</a></li></li><li><li><a href="../../../../flower/refactoring/smells/other" data-for="flower/refactoring/smells/other">Other Smells</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/techniques"><button class="folder-button"><p class="folder-title">techniques</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/techniques"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/techniques/composing-methods"><button class="folder-button"><p class="folder-title">composing-methods</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/techniques/composing-methods"><li><li><a href="../../../../flower/refactoring/techniques/composing-methods/extract-method" data-for="flower/refactoring/techniques/composing-methods/extract-method">Extract Method</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/composing-methods/extract-variable" data-for="flower/refactoring/techniques/composing-methods/extract-variable">Extract Variable</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/composing-methods/inline-method" data-for="flower/refactoring/techniques/composing-methods/inline-method">Inline Method</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/composing-methods/inline-temp" data-for="flower/refactoring/techniques/composing-methods/inline-temp">Inline Temp</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/composing-methods/remove-assignments-to-parameters" data-for="flower/refactoring/techniques/composing-methods/remove-assignments-to-parameters">Remove Assignments to Parameters</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/composing-methods/replace-method-with-method-object" data-for="flower/refactoring/techniques/composing-methods/replace-method-with-method-object">Replace Method with Method Object</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/composing-methods/replace-temp-with-query" data-for="flower/refactoring/techniques/composing-methods/replace-temp-with-query">Replace Temp with Query</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/composing-methods/split-temporary-variable" data-for="flower/refactoring/techniques/composing-methods/split-temporary-variable">Split Temporary Variable</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/composing-methods/substitute-algorithm" data-for="flower/refactoring/techniques/composing-methods/substitute-algorithm">Substitute Algorithm</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/techniques/dealing-with-generalization"><button class="folder-button"><p class="folder-title">dealing-with-generalization</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/techniques/dealing-with-generalization"><li><li><a href="../../../../flower/refactoring/techniques/dealing-with-generalization/collapse-hierarchy" data-for="flower/refactoring/techniques/dealing-with-generalization/collapse-hierarchy">Collapse Hierarchy</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/dealing-with-generalization/extract-interface" data-for="flower/refactoring/techniques/dealing-with-generalization/extract-interface">Extract Interface</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/dealing-with-generalization/extract-subclass" data-for="flower/refactoring/techniques/dealing-with-generalization/extract-subclass">Extract Subclass</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/dealing-with-generalization/extract-superclass" data-for="flower/refactoring/techniques/dealing-with-generalization/extract-superclass">Extract Superclass</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/dealing-with-generalization/form-template-method" data-for="flower/refactoring/techniques/dealing-with-generalization/form-template-method">Form Template Method</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/dealing-with-generalization/pull-up-constructor-body" data-for="flower/refactoring/techniques/dealing-with-generalization/pull-up-constructor-body">Pull Up Constructor Body</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/dealing-with-generalization/pull-up-field" data-for="flower/refactoring/techniques/dealing-with-generalization/pull-up-field">Pull Up Field</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/dealing-with-generalization/pull-up-method" data-for="flower/refactoring/techniques/dealing-with-generalization/pull-up-method">Pull Up Method</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/dealing-with-generalization/push-down-field" data-for="flower/refactoring/techniques/dealing-with-generalization/push-down-field">Push Down Field</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/dealing-with-generalization/push-down-method" data-for="flower/refactoring/techniques/dealing-with-generalization/push-down-method">Push Down Method</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/dealing-with-generalization/replace-delegation-with-inheritance" data-for="flower/refactoring/techniques/dealing-with-generalization/replace-delegation-with-inheritance">Replace Delegation with Inheritance</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/dealing-with-generalization/replace-inheritance-with-delegation" data-for="flower/refactoring/techniques/dealing-with-generalization/replace-inheritance-with-delegation">Replace Inheritance with Delegation</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/techniques/moving-features-between-objects"><button class="folder-button"><p class="folder-title">moving-features-between-objects</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/techniques/moving-features-between-objects"><li><li><a href="../../../../flower/refactoring/techniques/moving-features-between-objects/extract-class" data-for="flower/refactoring/techniques/moving-features-between-objects/extract-class">Extract Class</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/moving-features-between-objects/hide-delegate" data-for="flower/refactoring/techniques/moving-features-between-objects/hide-delegate">Hide Delegate</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/moving-features-between-objects/inline-class" data-for="flower/refactoring/techniques/moving-features-between-objects/inline-class">Inline Class</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/moving-features-between-objects/introduce-foreign-method" data-for="flower/refactoring/techniques/moving-features-between-objects/introduce-foreign-method">Introduce Foreign Method</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/moving-features-between-objects/introduce-local-extension" data-for="flower/refactoring/techniques/moving-features-between-objects/introduce-local-extension">Introduce Local Extension</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/moving-features-between-objects/move-field" data-for="flower/refactoring/techniques/moving-features-between-objects/move-field">Move Field</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/moving-features-between-objects/move-method" data-for="flower/refactoring/techniques/moving-features-between-objects/move-method">Move Method</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/moving-features-between-objects/remove-middle-man" data-for="flower/refactoring/techniques/moving-features-between-objects/remove-middle-man">Remove Middle Man</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/techniques/organizing-data"><button class="folder-button"><p class="folder-title">organizing-data</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/techniques/organizing-data"><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/change-bidirectional-association-to-unidirectional" data-for="flower/refactoring/techniques/organizing-data/change-bidirectional-association-to-unidirectional">Change Bidirectional Association to Unidirectional</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/change-reference-to-value" data-for="flower/refactoring/techniques/organizing-data/change-reference-to-value">Change Reference to Value</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/change-unidirectional-association-to-bidirectional" data-for="flower/refactoring/techniques/organizing-data/change-unidirectional-association-to-bidirectional">Change Unidirectional Association to Bidirectional</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/change-value-to-reference" data-for="flower/refactoring/techniques/organizing-data/change-value-to-reference">Change Value to Reference</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/duplicate-observed-data" data-for="flower/refactoring/techniques/organizing-data/duplicate-observed-data">Duplicate Observed Data</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/encapsulate-collection" data-for="flower/refactoring/techniques/organizing-data/encapsulate-collection">Encapsulate Collection</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/encapsulate-field" data-for="flower/refactoring/techniques/organizing-data/encapsulate-field">Encapsulate Field</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/replace-array-with-object" data-for="flower/refactoring/techniques/organizing-data/replace-array-with-object">Replace Array with Object</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/replace-data-value-with-object" data-for="flower/refactoring/techniques/organizing-data/replace-data-value-with-object">Replace Data Value with Object</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/replace-magic-number-with-symbolic-constant" data-for="flower/refactoring/techniques/organizing-data/replace-magic-number-with-symbolic-constant">Replace Magic Number with Symbolic Constant</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/replace-subclass-with-fields" data-for="flower/refactoring/techniques/organizing-data/replace-subclass-with-fields">Replace Subclass with Fields</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/replace-type-code-with-class" data-for="flower/refactoring/techniques/organizing-data/replace-type-code-with-class">Replace Type Code with Class</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/replace-type-code-with-state-strategy" data-for="flower/refactoring/techniques/organizing-data/replace-type-code-with-state-strategy">Replace Type Code with State/Strategy</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/replace-type-code-with-subclasses" data-for="flower/refactoring/techniques/organizing-data/replace-type-code-with-subclasses">Replace Type Code with Subclasses</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data/self-encapsulate-field" data-for="flower/refactoring/techniques/organizing-data/self-encapsulate-field">Self Encapsulate Field</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/techniques/simplifying-conditional-expressions"><button class="folder-button"><p class="folder-title">simplifying-conditional-expressions</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/techniques/simplifying-conditional-expressions"><li><li><a href="../../../../flower/refactoring/techniques/simplifying-conditional-expressions/consolidate-conditional-expression" data-for="flower/refactoring/techniques/simplifying-conditional-expressions/consolidate-conditional-expression">Consolidate Conditional Expression</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-conditional-expressions/consolidate-duplicate-conditional-fragments" data-for="flower/refactoring/techniques/simplifying-conditional-expressions/consolidate-duplicate-conditional-fragments">Consolidate Duplicate Conditional Fragments</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-conditional-expressions/decompose-conditional" data-for="flower/refactoring/techniques/simplifying-conditional-expressions/decompose-conditional">Decompose Conditional</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-conditional-expressions/introduce-assertion" data-for="flower/refactoring/techniques/simplifying-conditional-expressions/introduce-assertion">Introduce Assertion</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-conditional-expressions/introduce-null-object" data-for="flower/refactoring/techniques/simplifying-conditional-expressions/introduce-null-object">Introduce Null Object</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-conditional-expressions/remove-control-flag" data-for="flower/refactoring/techniques/simplifying-conditional-expressions/remove-control-flag">Remove Control Flag</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-conditional-expressions/replace-conditional-with-polymorphism" data-for="flower/refactoring/techniques/simplifying-conditional-expressions/replace-conditional-with-polymorphism">Replace Conditional with Polymorphism</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-conditional-expressions/replace-nested-conditional-with-guard-clauses" data-for="flower/refactoring/techniques/simplifying-conditional-expressions/replace-nested-conditional-with-guard-clauses">Replace Nested Conditional with Guard Clauses</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/techniques/simplifying-method-calls"><button class="folder-button"><p class="folder-title">simplifying-method-calls</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/techniques/simplifying-method-calls"><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls/add-parameter" data-for="flower/refactoring/techniques/simplifying-method-calls/add-parameter">Add Parameter</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls/hide-method" data-for="flower/refactoring/techniques/simplifying-method-calls/hide-method">Hide Method</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls/introduce-parameter-object" data-for="flower/refactoring/techniques/simplifying-method-calls/introduce-parameter-object">Introduce Parameter Object</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls/parameterize-method" data-for="flower/refactoring/techniques/simplifying-method-calls/parameterize-method">Parameterize Method</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls/preserve-whole-object" data-for="flower/refactoring/techniques/simplifying-method-calls/preserve-whole-object">Preserve Whole Object</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls/remove-parameter" data-for="flower/refactoring/techniques/simplifying-method-calls/remove-parameter">Remove Parameter</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls/remove-setting-method" data-for="flower/refactoring/techniques/simplifying-method-calls/remove-setting-method">Remove Setting Method</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls/rename-method" data-for="flower/refactoring/techniques/simplifying-method-calls/rename-method">Rename Method</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls/replace-constructor-with-factory-method" data-for="flower/refactoring/techniques/simplifying-method-calls/replace-constructor-with-factory-method">Replace Constructor with Factory Method</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls/replace-error-code-with-exception" data-for="flower/refactoring/techniques/simplifying-method-calls/replace-error-code-with-exception">Replace Error Code with Exception</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls/replace-exception-with-test" data-for="flower/refactoring/techniques/simplifying-method-calls/replace-exception-with-test">Replace Exception with Test</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls/replace-parameter-with-explicit-methods" data-for="flower/refactoring/techniques/simplifying-method-calls/replace-parameter-with-explicit-methods">Replace Parameter with Explicit Methods</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls/replace-parameter-with-method-call" data-for="flower/refactoring/techniques/simplifying-method-calls/replace-parameter-with-method-call">Replace Parameter with Method Call</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls/separate-query-from-modifier" data-for="flower/refactoring/techniques/simplifying-method-calls/separate-query-from-modifier">Separate Query from Modifier</a></li></li></ul></div></div></li><li><li><a href="../../../../flower/refactoring/techniques/composing-methods" data-for="flower/refactoring/techniques/composing-methods">Composing Methods</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/dealing-with-generalization" data-for="flower/refactoring/techniques/dealing-with-generalization">Dealing with Generalization</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/moving-features-between-objects" data-for="flower/refactoring/techniques/moving-features-between-objects">Moving Features between Objects</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/organizing-data" data-for="flower/refactoring/techniques/organizing-data">Organizing Data</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-conditional-expressions" data-for="flower/refactoring/techniques/simplifying-conditional-expressions">Simplifying Conditional Expressions</a></li></li><li><li><a href="../../../../flower/refactoring/techniques/simplifying-method-calls" data-for="flower/refactoring/techniques/simplifying-method-calls">Simplifying Method Calls</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/refactoring/what-is-refactoring"><button class="folder-button"><p class="folder-title">what-is-refactoring</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/refactoring/what-is-refactoring"><li><li><a href="../../../../flower/refactoring/what-is-refactoring/Clean-code" data-for="flower/refactoring/what-is-refactoring/Clean-code">Clean code</a></li></li><li><li><a href="../../../../flower/refactoring/what-is-refactoring/how-to" data-for="flower/refactoring/what-is-refactoring/how-to">How to refactor</a></li></li><li><li><a href="../../../../flower/refactoring/what-is-refactoring/technical-debt" data-for="flower/refactoring/what-is-refactoring/technical-debt">Technical debt</a></li></li><li><li><a href="../../../../flower/refactoring/what-is-refactoring/when" data-for="flower/refactoring/what-is-refactoring/when">When to refactor</a></li></li></ul></div></div></li><li><li><a href="../../../../flower/refactoring/catalog" data-for="flower/refactoring/catalog">Catalog of Refactoring</a></li></li><li><li><a href="../../../../flower/refactoring/Cheat-Sheet" data-for="flower/refactoring/Cheat-Sheet">Cheat Sheet</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing"><button class="folder-button"><p class="folder-title">testing</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/automation"><button class="folder-button"><p class="folder-title">automation</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/automation"><li><li><a href="../../../../flower/testing/automation/Importance" data-for="flower/testing/automation/Importance">Importance</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/go"><button class="folder-button"><p class="folder-title">go</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/go"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/go/anti_patterns"><button class="folder-button"><p class="folder-title">anti_patterns</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/go/anti_patterns"><li><li><a href="../../../../flower/testing/go/anti_patterns/anti-patterns" data-for="flower/testing/go/anti_patterns/anti-patterns">anti-patterns</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/go/build_an_application"><button class="folder-button"><p class="folder-title">build_an_application</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/go/build_an_application"><li><li><a href="../../../../flower/testing/go/build_an_application/command-line" data-for="flower/testing/go/build_an_application/command-line">command-line</a></li></li><li><li><a href="../../../../flower/testing/go/build_an_application/http-server" data-for="flower/testing/go/build_an_application/http-server">http-server</a></li></li><li><li><a href="../../../../flower/testing/go/build_an_application/io" data-for="flower/testing/go/build_an_application/io">io</a></li></li><li><li><a href="../../../../flower/testing/go/build_an_application/json" data-for="flower/testing/go/build_an_application/json">json</a></li></li><li><li><a href="../../../../flower/testing/go/build_an_application/time" data-for="flower/testing/go/build_an_application/time">time</a></li></li><li><li><a href="../../../../flower/testing/go/build_an_application/websockets" data-for="flower/testing/go/build_an_application/websockets">websockets</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/go/fundamentals"><button class="folder-button"><p class="folder-title">fundamentals</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/go/fundamentals"><li><li><a href="../../../../flower/testing/go/fundamentals/arrays-and-slices" data-for="flower/testing/go/fundamentals/arrays-and-slices">arrays-and-slices</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/concurrency" data-for="flower/testing/go/fundamentals/concurrency">concurrency</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/context" data-for="flower/testing/go/fundamentals/context">context</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/dependency-injection" data-for="flower/testing/go/fundamentals/dependency-injection">dependency-injection</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/generics" data-for="flower/testing/go/fundamentals/generics">generics</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/hello-world" data-for="flower/testing/go/fundamentals/hello-world">hello-world</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/install-go" data-for="flower/testing/go/fundamentals/install-go">install-go</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/integers" data-for="flower/testing/go/fundamentals/integers">integers</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/iteration" data-for="flower/testing/go/fundamentals/iteration">iteration</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/maps" data-for="flower/testing/go/fundamentals/maps">maps</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/math" data-for="flower/testing/go/fundamentals/math">math</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/mocking" data-for="flower/testing/go/fundamentals/mocking">mocking</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/pointers-and-errors" data-for="flower/testing/go/fundamentals/pointers-and-errors">pointers-and-errors</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/reading-files" data-for="flower/testing/go/fundamentals/reading-files">reading-files</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/reflection" data-for="flower/testing/go/fundamentals/reflection">reflection</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/revisiting-arrays-and-slices-with-generics" data-for="flower/testing/go/fundamentals/revisiting-arrays-and-slices-with-generics">revisiting-arrays-and-slices-with-generics</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/roman-numerals" data-for="flower/testing/go/fundamentals/roman-numerals">roman-numerals</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/select" data-for="flower/testing/go/fundamentals/select">select</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/structs-methods-and-interfaces" data-for="flower/testing/go/fundamentals/structs-methods-and-interfaces">structs-methods-and-interfaces</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/sync" data-for="flower/testing/go/fundamentals/sync">sync</a></li></li><li><li><a href="../../../../flower/testing/go/fundamentals/template" data-for="flower/testing/go/fundamentals/template">template</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/go/testing_fundamentals"><button class="folder-button"><p class="folder-title">testing_fundamentals</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/go/testing_fundamentals"><li><li><a href="../../../../flower/testing/go/testing_fundamentals/intro-to-acceptance-tests" data-for="flower/testing/go/testing_fundamentals/intro-to-acceptance-tests">intro-to-acceptance-tests</a></li></li><li><li><a href="../../../../flower/testing/go/testing_fundamentals/scaling-acceptance-tests" data-for="flower/testing/go/testing_fundamentals/scaling-acceptance-tests">scaling-acceptance-tests</a></li></li><li><li><a href="../../../../flower/testing/go/testing_fundamentals/working-without-mocks" data-for="flower/testing/go/testing_fundamentals/working-without-mocks">working-without-mocks</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/go/tips"><button class="folder-button"><p class="folder-title">tips</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/go/tips"><li><li><a href="../../../../flower/testing/go/tips/context-aware-reader" data-for="flower/testing/go/tips/context-aware-reader">context-aware-reader</a></li></li><li><li><a href="../../../../flower/testing/go/tips/error-types" data-for="flower/testing/go/tips/error-types">error-types</a></li></li><li><li><a href="../../../../flower/testing/go/tips/http-handlers-revisited" data-for="flower/testing/go/tips/http-handlers-revisited">http-handlers-revisited</a></li></li><li><li><a href="../../../../flower/testing/go/tips/os-exec" data-for="flower/testing/go/tips/os-exec">os-exec</a></li></li><li><li><a href="../../../../flower/testing/go/tips/why-unit-test" data-for="flower/testing/go/tips/why-unit-test">why-unit-test</a></li></li></ul></div></div></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/javascript"><button class="folder-button"><p class="folder-title">javascript</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/javascript"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/javascript/0 The Golden Rule"><button class="folder-button"><p class="folder-title">0 The Golden Rule</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/javascript/0 The Golden Rule"><li><li><a href="../../../../flower/testing/javascript/0-The-Golden-Rule/0-Design-for-lean-testing" data-for="flower/testing/javascript/0-The-Golden-Rule/0-Design-for-lean-testing">0 Design for lean testing</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/javascript/1 The Test Anatomy"><button class="folder-button"><p class="folder-title">1 The Test Anatomy</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/javascript/1 The Test Anatomy"><li><li><a href="../../../../flower/testing/javascript/1-The-Test-Anatomy/1-1-Include-3-parts-in-each-test-name" data-for="flower/testing/javascript/1-The-Test-Anatomy/1-1-Include-3-parts-in-each-test-name">1-1 Include 3 parts in each test name</a></li></li><li><li><a href="../../../../flower/testing/javascript/1-The-Test-Anatomy/1-2-Structure-tests-by-the-AAA-pattern" data-for="flower/testing/javascript/1-The-Test-Anatomy/1-2-Structure-tests-by-the-AAA-pattern">1-2 Structure tests by the AAA pattern</a></li></li><li><li><a href="../../../../flower/testing/javascript/1-The-Test-Anatomy/1-3-Describe-expectations-in-a-product-language-use-BDD-style-assertions" data-for="flower/testing/javascript/1-The-Test-Anatomy/1-3-Describe-expectations-in-a-product-language-use-BDD-style-assertions">1-3 Describe expectations in a product language use BDD-style assertions</a></li></li><li><li><a href="../../../../flower/testing/javascript/1-The-Test-Anatomy/1-4-Stick-to-black-box-testing-Test-only-public-methods" data-for="flower/testing/javascript/1-The-Test-Anatomy/1-4-Stick-to-black-box-testing-Test-only-public-methods">1-4 Stick to black-box testing Test only public methods</a></li></li><li><li><a href="../../../../flower/testing/javascript/1-The-Test-Anatomy/1-5-Choose-the-right-test-doubles-Avoid-mocks-in-favor-of-stubs-and-spies" data-for="flower/testing/javascript/1-The-Test-Anatomy/1-5-Choose-the-right-test-doubles-Avoid-mocks-in-favor-of-stubs-and-spies">1-5 Choose the right test doubles Avoid mocks in favor of stubs and spies</a></li></li><li><li><a href="../../../../flower/testing/javascript/1-The-Test-Anatomy/1-6-Dont-foo-use-realistic-input-data" data-for="flower/testing/javascript/1-The-Test-Anatomy/1-6-Dont-foo-use-realistic-input-data">1-6 Dont foo use realistic input data</a></li></li><li><li><a href="../../../../flower/testing/javascript/1-The-Test-Anatomy/1-7-Test-many-input-combinations-using-Property-based-testing" data-for="flower/testing/javascript/1-The-Test-Anatomy/1-7-Test-many-input-combinations-using-Property-based-testing">1-7 Test many input combinations using Property-based testing</a></li></li><li><li><a href="../../../../flower/testing/javascript/1-The-Test-Anatomy/1-8-If-needed-use-only-short--inline-snapshots" data-for="flower/testing/javascript/1-The-Test-Anatomy/1-8-If-needed-use-only-short--inline-snapshots">1-8 If needed use only short  inline snapshots</a></li></li><li><li><a href="../../../../flower/testing/javascript/1-The-Test-Anatomy/1-9-Copy-code-but-only-whats-neccessary" data-for="flower/testing/javascript/1-The-Test-Anatomy/1-9-Copy-code-but-only-whats-neccessary">1-9 Copy code but only whats neccessary</a></li></li><li><li><a href="../../../../flower/testing/javascript/1-The-Test-Anatomy/1-10-Dont-catch-errors-expect-them" data-for="flower/testing/javascript/1-The-Test-Anatomy/1-10-Dont-catch-errors-expect-them">1-10 Dont catch errors expect them</a></li></li><li><li><a href="../../../../flower/testing/javascript/1-The-Test-Anatomy/1-11-Tag-your-tests" data-for="flower/testing/javascript/1-The-Test-Anatomy/1-11-Tag-your-tests">1-11 Tag your tests</a></li></li><li><li><a href="../../../../flower/testing/javascript/1-The-Test-Anatomy/1-12-Categorize-tests-under-at-least-2-levels" data-for="flower/testing/javascript/1-The-Test-Anatomy/1-12-Categorize-tests-under-at-least-2-levels">1-12 Categorize tests under at least 2 levels</a></li></li><li><li><a href="../../../../flower/testing/javascript/1-The-Test-Anatomy/1-13-Other-generic-good-testing-hygiene" data-for="flower/testing/javascript/1-The-Test-Anatomy/1-13-Other-generic-good-testing-hygiene">1-13 Other generic good testing hygiene</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/javascript/2 Backend"><button class="folder-button"><p class="folder-title">2 Backend</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/javascript/2 Backend"><li><li><a href="../../../../flower/testing/javascript/2-Backend/2-1-Enrich-your-testing-portfolio-Look-beyond-unit-tests-and-the-pyramid" data-for="flower/testing/javascript/2-Backend/2-1-Enrich-your-testing-portfolio-Look-beyond-unit-tests-and-the-pyramid">2-1 Enrich your testing portfolio Look beyond unit tests and the pyramid</a></li></li><li><li><a href="../../../../flower/testing/javascript/2-Backend/2-2-Component-testing-might-be-your-best-affair" data-for="flower/testing/javascript/2-Backend/2-2-Component-testing-might-be-your-best-affair">2-2 Component testing might be your best affair</a></li></li><li><li><a href="../../../../flower/testing/javascript/2-Backend/2-3-Ensure-new-releases-dont-break-the-API-using-contract-tests" data-for="flower/testing/javascript/2-Backend/2-3-Ensure-new-releases-dont-break-the-API-using-contract-tests">2-3 Ensure new releases dont break the API using contract tests</a></li></li><li><li><a href="../../../../flower/testing/javascript/2-Backend/2-4-Test-your-middlewares-in-isolation" data-for="flower/testing/javascript/2-Backend/2-4-Test-your-middlewares-in-isolation">2-4 Test your middlewares in isolation</a></li></li><li><li><a href="../../../../flower/testing/javascript/2-Backend/2-5-Measure-and-refactor-using-static-analysis-tools" data-for="flower/testing/javascript/2-Backend/2-5-Measure-and-refactor-using-static-analysis-tools">2-5 Measure and refactor using static analysis tools</a></li></li><li><li><a href="../../../../flower/testing/javascript/2-Backend/2-6-Check-your-readiness-for-Node-related-chaos" data-for="flower/testing/javascript/2-Backend/2-6-Check-your-readiness-for-Node-related-chaos">2-6 Check your readiness for Node-related chaos</a></li></li><li><li><a href="../../../../flower/testing/javascript/2-Backend/2-7-Avoid-global-test-fixtures-and-seeds-add-data-per-test" data-for="flower/testing/javascript/2-Backend/2-7-Avoid-global-test-fixtures-and-seeds-add-data-per-test">2-7 Avoid global test fixtures and seeds add data per-test</a></li></li><li><li><a href="../../../../flower/testing/javascript/2-Backend/2-8-Choose-a-clear-data-clean-up-strategy-After-all-recommended-or-after-each" data-for="flower/testing/javascript/2-Backend/2-8-Choose-a-clear-data-clean-up-strategy-After-all-recommended-or-after-each">2-8 Choose a clear data clean-up strategy After-all recommended or after-each</a></li></li><li><li><a href="../../../../flower/testing/javascript/2-Backend/2-9-Isolate-the-component-from-the-world-using-HTTP-interceptor" data-for="flower/testing/javascript/2-Backend/2-9-Isolate-the-component-from-the-world-using-HTTP-interceptor">2-9 Isolate the component from the world using HTTP interceptor</a></li></li><li><li><a href="../../../../flower/testing/javascript/2-Backend/2-10-Test-the-response-schema-mostly-when-there-are-auto-generated-fields" data-for="flower/testing/javascript/2-Backend/2-10-Test-the-response-schema-mostly-when-there-are-auto-generated-fields">2-10 Test the response schema mostly when there are auto-generated fields</a></li></li><li><li><a href="../../../../flower/testing/javascript/2-Backend/2-11-Check-integrations-corner-cases-and-chaos" data-for="flower/testing/javascript/2-Backend/2-11-Check-integrations-corner-cases-and-chaos">2-11 Check integrations corner cases and chaos</a></li></li><li><li><a href="../../../../flower/testing/javascript/2-Backend/2-12-Test-the-five-potential-outcomes" data-for="flower/testing/javascript/2-Backend/2-12-Test-the-five-potential-outcomes">2-12 Test the five potential outcomes</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/javascript/3 Frontend"><button class="folder-button"><p class="folder-title">3 Frontend</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/javascript/3 Frontend"><li><li><a href="../../../../flower/testing/javascript/3-Frontend/3-1-Separate-UI-from-functionality" data-for="flower/testing/javascript/3-Frontend/3-1-Separate-UI-from-functionality">3-1 Separate UI from functionality</a></li></li><li><li><a href="../../../../flower/testing/javascript/3-Frontend/3-2-Query-HTML-elements-based-on-attributes-that-are-unlikely-to-change" data-for="flower/testing/javascript/3-Frontend/3-2-Query-HTML-elements-based-on-attributes-that-are-unlikely-to-change">3-2 Query HTML elements based on attributes that are unlikely to change</a></li></li><li><li><a href="../../../../flower/testing/javascript/3-Frontend/3-3-Whenever-possible-test-with-a-realistic-and-fully-rendered-component" data-for="flower/testing/javascript/3-Frontend/3-3-Whenever-possible-test-with-a-realistic-and-fully-rendered-component">3-3 Whenever possible test with a realistic and fully rendered component</a></li></li><li><li><a href="../../../../flower/testing/javascript/3-Frontend/3-4-Dont-sleep-use-frameworks-built-in-support-for-async-events.-Also-try-to-speed-things-up" data-for="flower/testing/javascript/3-Frontend/3-4-Dont-sleep-use-frameworks-built-in-support-for-async-events.-Also-try-to-speed-things-up">3-4 Dont sleep use frameworks built-in support for async events. Also try to speed things up</a></li></li><li><li><a href="../../../../flower/testing/javascript/3-Frontend/3-5-Watch-how-the-content-is-served-over-the-network" data-for="flower/testing/javascript/3-Frontend/3-5-Watch-how-the-content-is-served-over-the-network">3-5 Watch how the content is served over the network</a></li></li><li><li><a href="../../../../flower/testing/javascript/3-Frontend/3-6-Stub-flaky-and-slow-resources-like-backend-APIs" data-for="flower/testing/javascript/3-Frontend/3-6-Stub-flaky-and-slow-resources-like-backend-APIs">3-6 Stub flaky and slow resources like backend APIs</a></li></li><li><li><a href="../../../../flower/testing/javascript/3-Frontend/3-7-Have-very-few-end-to-end-tests-that-spans-the-whole-system" data-for="flower/testing/javascript/3-Frontend/3-7-Have-very-few-end-to-end-tests-that-spans-the-whole-system">3-7 Have very few end-to-end tests that spans the whole system</a></li></li><li><li><a href="../../../../flower/testing/javascript/3-Frontend/3-8-Speed-up-E2E-tests-by-reusing-login-credentials" data-for="flower/testing/javascript/3-Frontend/3-8-Speed-up-E2E-tests-by-reusing-login-credentials">3-8 Speed-up E2E tests by reusing login credentials</a></li></li><li><li><a href="../../../../flower/testing/javascript/3-Frontend/3-9-Have-one-E2E-smoke-test-that-just-travels-across-the-site-map" data-for="flower/testing/javascript/3-Frontend/3-9-Have-one-E2E-smoke-test-that-just-travels-across-the-site-map">3-9 Have one E2E smoke test that just travels across the site map</a></li></li><li><li><a href="../../../../flower/testing/javascript/3-Frontend/3-10-Expose-the-tests-as-a-live-collaborative-document" data-for="flower/testing/javascript/3-Frontend/3-10-Expose-the-tests-as-a-live-collaborative-document">3-10 Expose the tests as a live collaborative document</a></li></li><li><li><a href="../../../../flower/testing/javascript/3-Frontend/3-11-Detect-visual-issues-with-automated-tools" data-for="flower/testing/javascript/3-Frontend/3-11-Detect-visual-issues-with-automated-tools">3-11 Detect visual issues with automated tools</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/javascript/4 Measuring Tests Effectiveness"><button class="folder-button"><p class="folder-title">4 Measuring Tests Effectiveness</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/javascript/4 Measuring Tests Effectiveness"><li><li><a href="../../../../flower/testing/javascript/4-Measuring-Tests-Effectiveness/4-1-Get-enough-coverage-for-being-confident-80-seems-to-be-the-lucky-number" data-for="flower/testing/javascript/4-Measuring-Tests-Effectiveness/4-1-Get-enough-coverage-for-being-confident-80-seems-to-be-the-lucky-number">4-1 Get enough coverage for being confident 80 seems to be the lucky number</a></li></li><li><li><a href="../../../../flower/testing/javascript/4-Measuring-Tests-Effectiveness/4-2-Inspect-coverage-reports-to-detect-untested-areas-and-other-oddities" data-for="flower/testing/javascript/4-Measuring-Tests-Effectiveness/4-2-Inspect-coverage-reports-to-detect-untested-areas-and-other-oddities">4-2 Inspect coverage reports to detect untested areas and other oddities</a></li></li><li><li><a href="../../../../flower/testing/javascript/4-Measuring-Tests-Effectiveness/4-3-Measure-logical-coverage-using-mutation-testing" data-for="flower/testing/javascript/4-Measuring-Tests-Effectiveness/4-3-Measure-logical-coverage-using-mutation-testing">4-3 Measure logical coverage using mutation testing</a></li></li><li><li><a href="../../../../flower/testing/javascript/4-Measuring-Tests-Effectiveness/4-4-Preventing-test-code-issues-with-Test-linters" data-for="flower/testing/javascript/4-Measuring-Tests-Effectiveness/4-4-Preventing-test-code-issues-with-Test-linters">4-4 Preventing test code issues with Test linters</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/javascript/5 Continuous Integration"><button class="folder-button"><p class="folder-title">5 Continuous Integration</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/javascript/5 Continuous Integration"><li><li><a href="../../../../flower/testing/javascript/5-Continuous-Integration/5-1-Enrich-your-linters-and-abort-builds-that-have-linting-issues" data-for="flower/testing/javascript/5-Continuous-Integration/5-1-Enrich-your-linters-and-abort-builds-that-have-linting-issues">5-1 Enrich your linters and abort builds that have linting issues</a></li></li><li><li><a href="../../../../flower/testing/javascript/5-Continuous-Integration/5-2-Shorten-the-feedback-loop-with-local-developer-CI" data-for="flower/testing/javascript/5-Continuous-Integration/5-2-Shorten-the-feedback-loop-with-local-developer-CI">5-2 Shorten the feedback loop with local developer-CI</a></li></li><li><li><a href="../../../../flower/testing/javascript/5-Continuous-Integration/5-3-Perform-e2e-testing-over-a-true-production-mirror" data-for="flower/testing/javascript/5-Continuous-Integration/5-3-Perform-e2e-testing-over-a-true-production-mirror">5-3 Perform e2e testing over a true production-mirror</a></li></li><li><li><a href="../../../../flower/testing/javascript/5-Continuous-Integration/5-4-Parallelize-test-execution" data-for="flower/testing/javascript/5-Continuous-Integration/5-4-Parallelize-test-execution">5-4 Parallelize test execution</a></li></li><li><li><a href="../../../../flower/testing/javascript/5-Continuous-Integration/5-5-Stay-away-from-legal-issues-using-license-and-plagiarism-check" data-for="flower/testing/javascript/5-Continuous-Integration/5-5-Stay-away-from-legal-issues-using-license-and-plagiarism-check">5-5 Stay away from legal issues using license and plagiarism check</a></li></li><li><li><a href="../../../../flower/testing/javascript/5-Continuous-Integration/5-6-Constantly-inspect-for-vulnerable-dependencies" data-for="flower/testing/javascript/5-Continuous-Integration/5-6-Constantly-inspect-for-vulnerable-dependencies">5-6 Constantly inspect for vulnerable dependencies</a></li></li><li><li><a href="../../../../flower/testing/javascript/5-Continuous-Integration/5-7-Automate-dependency-updates" data-for="flower/testing/javascript/5-Continuous-Integration/5-7-Automate-dependency-updates">5-7 Automate dependency updates</a></li></li><li><li><a href="../../../../flower/testing/javascript/5-Continuous-Integration/5-8-Other-non-Node-related-CI-tips" data-for="flower/testing/javascript/5-Continuous-Integration/5-8-Other-non-Node-related-CI-tips">5-8 Other non-Node related CI tips</a></li></li><li><li><a href="../../../../flower/testing/javascript/5-Continuous-Integration/5-9-Build-matrix-Run-the-same-CI-steps-using-multiple-Node-versions" data-for="flower/testing/javascript/5-Continuous-Integration/5-9-Build-matrix-Run-the-same-CI-steps-using-multiple-Node-versions">5-9 Build matrix Run the same CI steps using multiple Node versions</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/flower/testing/javascript/assets"><button class="folder-button"><p class="folder-title">assets</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/flower/testing/javascript/assets"><li><li><a href="../../../../flower/testing/javascript/assets/readme" data-for="flower/testing/javascript/assets/readme">readme</a></li></li></ul></div></div></li></ul></div></div></li></ul></div></div></li><li><li><a href="../../../../flower/Table-of-contents" data-for="flower/Table-of-contents">Table of contents</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit"><button class="folder-button"><p class="folder-title">fruit</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding"><button class="folder-button"><p class="folder-title">Coding</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Patterns"><button class="folder-button"><p class="folder-title">Patterns</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Patterns"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Patterns/Design Patterns"><button class="folder-button"><p class="folder-title">Design Patterns</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Patterns/Design Patterns"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Patterns/Design Patterns/catalog"><button class="folder-button"><p class="folder-title">catalog</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Patterns/Design Patterns/catalog"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Patterns/Design Patterns/catalog/behavioral"><button class="folder-button"><p class="folder-title">behavioral</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Patterns/Design Patterns/catalog/behavioral"><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/chain-of-responsibility" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/chain-of-responsibility">chain-of-responsibility</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/command" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/command">command</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/iterator" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/iterator">iterator</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/mediator" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/mediator">mediator</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/memento" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/memento">memento</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/observer" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/observer">observer</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/state" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/state">state</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/strategy" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/strategy">strategy</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/template-method" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/template-method">template-method</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/visitor" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/behavioral/visitor">visitor</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Patterns/Design Patterns/catalog/creational"><button class="folder-button"><p class="folder-title">creational</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Patterns/Design Patterns/catalog/creational"><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/creational/abstract-factory" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/creational/abstract-factory">abstract-factory</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/creational/builder" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/creational/builder">builder</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/creational/factory-method" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/creational/factory-method">factory-method</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/creational/prototype" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/creational/prototype">prototype</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/creational/singleton" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/creational/singleton">singleton</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Patterns/Design Patterns/catalog/structural"><button class="folder-button"><p class="folder-title">structural</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Patterns/Design Patterns/catalog/structural"><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/structural/adapter" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/structural/adapter">adapter</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/structural/bridge" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/structural/bridge">bridge</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/structural/composite" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/structural/composite">composite</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/structural/decorator" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/structural/decorator">decorator</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/structural/facade" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/structural/facade">facade</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/structural/flyweight" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/structural/flyweight">flyweight</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/structural/proxy" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/structural/proxy">proxy</a></li></li></ul></div></div></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/behavioral-patterns" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/behavioral-patterns">behavioral-patterns</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/catalog" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/catalog">catalog</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/creational-patterns" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/creational-patterns">creational-patterns</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/catalog/structural-patterns" data-for="fruit/Coding/Patterns/Design-Patterns/catalog/structural-patterns">structural-patterns</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Patterns/Design Patterns/intro"><button class="folder-button"><p class="folder-title">intro</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Patterns/Design Patterns/intro"><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/intro/classification" data-for="fruit/Coding/Patterns/Design-Patterns/intro/classification">classification</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/intro/criticism" data-for="fruit/Coding/Patterns/Design-Patterns/intro/criticism">criticism</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/intro/history" data-for="fruit/Coding/Patterns/Design-Patterns/intro/history">history</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/intro/what-is-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/intro/what-is-pattern">what-is-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/intro/why-learn-patterns" data-for="fruit/Coding/Patterns/Design-Patterns/intro/why-learn-patterns">why-learn-patterns</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Patterns/Design Patterns/react"><button class="folder-button"><p class="folder-title">react</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Patterns/Design Patterns/react"><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/react/compound-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/react/compound-pattern">compound-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/react/hoc-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/react/hoc-pattern">hoc-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/react/hooks-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/react/hooks-pattern">hooks-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/react/presentational-container-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/react/presentational-container-pattern">presentational-container-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/react/render-props-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/react/render-props-pattern">render-props-pattern</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Patterns/Design Patterns/vanilla"><button class="folder-button"><p class="folder-title">vanilla</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Patterns/Design Patterns/vanilla"><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/vanilla/command-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/vanilla/command-pattern">command-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/vanilla/factory-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/vanilla/factory-pattern">factory-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/vanilla/flyweight-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/vanilla/flyweight-pattern">flyweight-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/vanilla/mediator-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/vanilla/mediator-pattern">mediator-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/vanilla/mixin-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/vanilla/mixin-pattern">mixin-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/vanilla/module-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/vanilla/module-pattern">module-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/vanilla/observer-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/vanilla/observer-pattern">observer-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/vanilla/prototype-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/vanilla/prototype-pattern">prototype-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/vanilla/provider-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/vanilla/provider-pattern">provider-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/vanilla/proxy-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/vanilla/proxy-pattern">proxy-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/vanilla/singleton-pattern" data-for="fruit/Coding/Patterns/Design-Patterns/vanilla/singleton-pattern">singleton-pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/Design-Patterns/vanilla/static-import" data-for="fruit/Coding/Patterns/Design-Patterns/vanilla/static-import">static-import</a></li></li></ul></div></div></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Patterns/rendering"><button class="folder-button"><p class="folder-title">rendering</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Patterns/rendering"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Patterns/rendering/react"><button class="folder-button"><p class="folder-title">react</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Patterns/rendering/react"><li><li><a href="../../../../fruit/Coding/Patterns/rendering/react/client-side-rendering" data-for="fruit/Coding/Patterns/rendering/react/client-side-rendering">client-side-rendering</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/rendering/react/incremental-static-rendering" data-for="fruit/Coding/Patterns/rendering/react/incremental-static-rendering">incremental-static-rendering</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/rendering/react/progressive-hydration" data-for="fruit/Coding/Patterns/rendering/react/progressive-hydration">progressive-hydration</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/rendering/react/react-selective-hydration" data-for="fruit/Coding/Patterns/rendering/react/react-selective-hydration">react-selective-hydration</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/rendering/react/react-server-components" data-for="fruit/Coding/Patterns/rendering/react/react-server-components">react-server-components</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/rendering/react/server-side-rendering" data-for="fruit/Coding/Patterns/rendering/react/server-side-rendering">server-side-rendering</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/rendering/react/static-rendering" data-for="fruit/Coding/Patterns/rendering/react/static-rendering">static-rendering</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/rendering/react/streaming-ssr" data-for="fruit/Coding/Patterns/rendering/react/streaming-ssr">streaming-ssr</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Patterns/rendering/vanilla"><button class="folder-button"><p class="folder-title">vanilla</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Patterns/rendering/vanilla"><li><li><a href="../../../../fruit/Coding/Patterns/rendering/vanilla/islands-architecture" data-for="fruit/Coding/Patterns/rendering/vanilla/islands-architecture">islands-architecture</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/rendering/vanilla/rendering-patterns" data-for="fruit/Coding/Patterns/rendering/vanilla/rendering-patterns">rendering-patterns</a></li></li><li><li><a href="../../../../fruit/Coding/Patterns/rendering/vanilla/view-transitions" data-for="fruit/Coding/Patterns/rendering/vanilla/view-transitions">view-transitions</a></li></li></ul></div></div></li></ul></div></div></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing"><button class="folder-button"><p class="folder-title">Testing</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing/go"><button class="folder-button"><p class="folder-title">go</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing/go"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing/go/anti_patterns"><button class="folder-button"><p class="folder-title">anti_patterns</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing/go/anti_patterns"><li><li><a href="../../../../fruit/Coding/Testing/go/anti_patterns/anti-patterns" data-for="fruit/Coding/Testing/go/anti_patterns/anti-patterns">anti-patterns</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing/go/build_an_application"><button class="folder-button"><p class="folder-title">build_an_application</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing/go/build_an_application"><li><li><a href="../../../../fruit/Coding/Testing/go/build_an_application/command-line" data-for="fruit/Coding/Testing/go/build_an_application/command-line">command-line</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/build_an_application/http-server" data-for="fruit/Coding/Testing/go/build_an_application/http-server">http-server</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/build_an_application/io" data-for="fruit/Coding/Testing/go/build_an_application/io">io</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/build_an_application/json" data-for="fruit/Coding/Testing/go/build_an_application/json">json</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/build_an_application/time" data-for="fruit/Coding/Testing/go/build_an_application/time">time</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/build_an_application/websockets" data-for="fruit/Coding/Testing/go/build_an_application/websockets">websockets</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing/go/fundamentals"><button class="folder-button"><p class="folder-title">fundamentals</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing/go/fundamentals"><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/arrays-and-slices" data-for="fruit/Coding/Testing/go/fundamentals/arrays-and-slices">arrays-and-slices</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/concurrency" data-for="fruit/Coding/Testing/go/fundamentals/concurrency">concurrency</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/context" data-for="fruit/Coding/Testing/go/fundamentals/context">context</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/dependency-injection" data-for="fruit/Coding/Testing/go/fundamentals/dependency-injection">dependency-injection</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/generics" data-for="fruit/Coding/Testing/go/fundamentals/generics">generics</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/hello-world" data-for="fruit/Coding/Testing/go/fundamentals/hello-world">hello-world</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/install-go" data-for="fruit/Coding/Testing/go/fundamentals/install-go">install-go</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/integers" data-for="fruit/Coding/Testing/go/fundamentals/integers">integers</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/iteration" data-for="fruit/Coding/Testing/go/fundamentals/iteration">iteration</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/maps" data-for="fruit/Coding/Testing/go/fundamentals/maps">maps</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/math" data-for="fruit/Coding/Testing/go/fundamentals/math">math</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/mocking" data-for="fruit/Coding/Testing/go/fundamentals/mocking">mocking</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/pointers-and-errors" data-for="fruit/Coding/Testing/go/fundamentals/pointers-and-errors">pointers-and-errors</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/reading-files" data-for="fruit/Coding/Testing/go/fundamentals/reading-files">reading-files</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/reflection" data-for="fruit/Coding/Testing/go/fundamentals/reflection">reflection</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/revisiting-arrays-and-slices-with-generics" data-for="fruit/Coding/Testing/go/fundamentals/revisiting-arrays-and-slices-with-generics">revisiting-arrays-and-slices-with-generics</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/roman-numerals" data-for="fruit/Coding/Testing/go/fundamentals/roman-numerals">roman-numerals</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/select" data-for="fruit/Coding/Testing/go/fundamentals/select">select</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/structs-methods-and-interfaces" data-for="fruit/Coding/Testing/go/fundamentals/structs-methods-and-interfaces">structs-methods-and-interfaces</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/sync" data-for="fruit/Coding/Testing/go/fundamentals/sync">sync</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/fundamentals/template" data-for="fruit/Coding/Testing/go/fundamentals/template">template</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing/go/testing_fundamentals"><button class="folder-button"><p class="folder-title">testing_fundamentals</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing/go/testing_fundamentals"><li><li><a href="../../../../fruit/Coding/Testing/go/testing_fundamentals/intro-to-acceptance-tests" data-for="fruit/Coding/Testing/go/testing_fundamentals/intro-to-acceptance-tests">intro-to-acceptance-tests</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/testing_fundamentals/scaling-acceptance-tests" data-for="fruit/Coding/Testing/go/testing_fundamentals/scaling-acceptance-tests">scaling-acceptance-tests</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/testing_fundamentals/working-without-mocks" data-for="fruit/Coding/Testing/go/testing_fundamentals/working-without-mocks">working-without-mocks</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing/go/tips"><button class="folder-button"><p class="folder-title">tips</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing/go/tips"><li><li><a href="../../../../fruit/Coding/Testing/go/tips/context-aware-reader" data-for="fruit/Coding/Testing/go/tips/context-aware-reader">context-aware-reader</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/tips/error-types" data-for="fruit/Coding/Testing/go/tips/error-types">error-types</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/tips/http-handlers-revisited" data-for="fruit/Coding/Testing/go/tips/http-handlers-revisited">http-handlers-revisited</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/tips/os-exec" data-for="fruit/Coding/Testing/go/tips/os-exec">os-exec</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/go/tips/why-unit-test" data-for="fruit/Coding/Testing/go/tips/why-unit-test">why-unit-test</a></li></li></ul></div></div></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing/javascript"><button class="folder-button"><p class="folder-title">javascript</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing/javascript"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing/javascript/0 The Golden Rule"><button class="folder-button"><p class="folder-title">0 The Golden Rule</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing/javascript/0 The Golden Rule"><li><li><a href="../../../../fruit/Coding/Testing/javascript/0-The-Golden-Rule/0-Design-for-lean-testing" data-for="fruit/Coding/Testing/javascript/0-The-Golden-Rule/0-Design-for-lean-testing">0 Design for lean testing</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing/javascript/1 The Test Anatomy"><button class="folder-button"><p class="folder-title">1 The Test Anatomy</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing/javascript/1 The Test Anatomy"><li><li><a href="../../../../fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-1-Include-3-parts-in-each-test-name" data-for="fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-1-Include-3-parts-in-each-test-name">1-1 Include 3 parts in each test name</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-2-Structure-tests-by-the-AAA-pattern" data-for="fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-2-Structure-tests-by-the-AAA-pattern">1-2 Structure tests by the AAA pattern</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-3-Describe-expectations-in-a-product-language-use-BDD-style-assertions" data-for="fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-3-Describe-expectations-in-a-product-language-use-BDD-style-assertions">1-3 Describe expectations in a product language use BDD-style assertions</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-4-Stick-to-black-box-testing-Test-only-public-methods" data-for="fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-4-Stick-to-black-box-testing-Test-only-public-methods">1-4 Stick to black-box testing Test only public methods</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-5-Choose-the-right-test-doubles-Avoid-mocks-in-favor-of-stubs-and-spies" data-for="fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-5-Choose-the-right-test-doubles-Avoid-mocks-in-favor-of-stubs-and-spies">1-5 Choose the right test doubles Avoid mocks in favor of stubs and spies</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-6-Dont-foo-use-realistic-input-data" data-for="fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-6-Dont-foo-use-realistic-input-data">1-6 Dont foo use realistic input data</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-7-Test-many-input-combinations-using-Property-based-testing" data-for="fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-7-Test-many-input-combinations-using-Property-based-testing">1-7 Test many input combinations using Property-based testing</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-8-If-needed-use-only-short--inline-snapshots" data-for="fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-8-If-needed-use-only-short--inline-snapshots">1-8 If needed use only short  inline snapshots</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-9-Copy-code-but-only-whats-neccessary" data-for="fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-9-Copy-code-but-only-whats-neccessary">1-9 Copy code but only whats neccessary</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-10-Dont-catch-errors-expect-them" data-for="fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-10-Dont-catch-errors-expect-them">1-10 Dont catch errors expect them</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-11-Tag-your-tests" data-for="fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-11-Tag-your-tests">1-11 Tag your tests</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-12-Categorize-tests-under-at-least-2-levels" data-for="fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-12-Categorize-tests-under-at-least-2-levels">1-12 Categorize tests under at least 2 levels</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-13-Other-generic-good-testing-hygiene" data-for="fruit/Coding/Testing/javascript/1-The-Test-Anatomy/1-13-Other-generic-good-testing-hygiene">1-13 Other generic good testing hygiene</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing/javascript/2 Backend"><button class="folder-button"><p class="folder-title">2 Backend</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing/javascript/2 Backend"><li><li><a href="../../../../fruit/Coding/Testing/javascript/2-Backend/2-1-Enrich-your-testing-portfolio-Look-beyond-unit-tests-and-the-pyramid" data-for="fruit/Coding/Testing/javascript/2-Backend/2-1-Enrich-your-testing-portfolio-Look-beyond-unit-tests-and-the-pyramid">2-1 Enrich your testing portfolio Look beyond unit tests and the pyramid</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/2-Backend/2-2-Component-testing-might-be-your-best-affair" data-for="fruit/Coding/Testing/javascript/2-Backend/2-2-Component-testing-might-be-your-best-affair">2-2 Component testing might be your best affair</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/2-Backend/2-3-Ensure-new-releases-dont-break-the-API-using-contract-tests" data-for="fruit/Coding/Testing/javascript/2-Backend/2-3-Ensure-new-releases-dont-break-the-API-using-contract-tests">2-3 Ensure new releases dont break the API using contract tests</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/2-Backend/2-4-Test-your-middlewares-in-isolation" data-for="fruit/Coding/Testing/javascript/2-Backend/2-4-Test-your-middlewares-in-isolation">2-4 Test your middlewares in isolation</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/2-Backend/2-5-Measure-and-refactor-using-static-analysis-tools" data-for="fruit/Coding/Testing/javascript/2-Backend/2-5-Measure-and-refactor-using-static-analysis-tools">2-5 Measure and refactor using static analysis tools</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/2-Backend/2-6-Check-your-readiness-for-Node-related-chaos" data-for="fruit/Coding/Testing/javascript/2-Backend/2-6-Check-your-readiness-for-Node-related-chaos">2-6 Check your readiness for Node-related chaos</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/2-Backend/2-7-Avoid-global-test-fixtures-and-seeds-add-data-per-test" data-for="fruit/Coding/Testing/javascript/2-Backend/2-7-Avoid-global-test-fixtures-and-seeds-add-data-per-test">2-7 Avoid global test fixtures and seeds add data per-test</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/2-Backend/2-8-Choose-a-clear-data-clean-up-strategy-After-all-recommended-or-after-each" data-for="fruit/Coding/Testing/javascript/2-Backend/2-8-Choose-a-clear-data-clean-up-strategy-After-all-recommended-or-after-each">2-8 Choose a clear data clean-up strategy After-all recommended or after-each</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/2-Backend/2-9-Isolate-the-component-from-the-world-using-HTTP-interceptor" data-for="fruit/Coding/Testing/javascript/2-Backend/2-9-Isolate-the-component-from-the-world-using-HTTP-interceptor">2-9 Isolate the component from the world using HTTP interceptor</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/2-Backend/2-10-Test-the-response-schema-mostly-when-there-are-auto-generated-fields" data-for="fruit/Coding/Testing/javascript/2-Backend/2-10-Test-the-response-schema-mostly-when-there-are-auto-generated-fields">2-10 Test the response schema mostly when there are auto-generated fields</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/2-Backend/2-11-Check-integrations-corner-cases-and-chaos" data-for="fruit/Coding/Testing/javascript/2-Backend/2-11-Check-integrations-corner-cases-and-chaos">2-11 Check integrations corner cases and chaos</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/2-Backend/2-12-Test-the-five-potential-outcomes" data-for="fruit/Coding/Testing/javascript/2-Backend/2-12-Test-the-five-potential-outcomes">2-12 Test the five potential outcomes</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing/javascript/3 Frontend"><button class="folder-button"><p class="folder-title">3 Frontend</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing/javascript/3 Frontend"><li><li><a href="../../../../fruit/Coding/Testing/javascript/3-Frontend/3-1-Separate-UI-from-functionality" data-for="fruit/Coding/Testing/javascript/3-Frontend/3-1-Separate-UI-from-functionality">3-1 Separate UI from functionality</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/3-Frontend/3-2-Query-HTML-elements-based-on-attributes-that-are-unlikely-to-change" data-for="fruit/Coding/Testing/javascript/3-Frontend/3-2-Query-HTML-elements-based-on-attributes-that-are-unlikely-to-change">3-2 Query HTML elements based on attributes that are unlikely to change</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/3-Frontend/3-3-Whenever-possible-test-with-a-realistic-and-fully-rendered-component" data-for="fruit/Coding/Testing/javascript/3-Frontend/3-3-Whenever-possible-test-with-a-realistic-and-fully-rendered-component">3-3 Whenever possible test with a realistic and fully rendered component</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/3-Frontend/3-4-Dont-sleep-use-frameworks-built-in-support-for-async-events.-Also-try-to-speed-things-up" data-for="fruit/Coding/Testing/javascript/3-Frontend/3-4-Dont-sleep-use-frameworks-built-in-support-for-async-events.-Also-try-to-speed-things-up">3-4 Dont sleep use frameworks built-in support for async events. Also try to speed things up</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/3-Frontend/3-5-Watch-how-the-content-is-served-over-the-network" data-for="fruit/Coding/Testing/javascript/3-Frontend/3-5-Watch-how-the-content-is-served-over-the-network">3-5 Watch how the content is served over the network</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/3-Frontend/3-6-Stub-flaky-and-slow-resources-like-backend-APIs" data-for="fruit/Coding/Testing/javascript/3-Frontend/3-6-Stub-flaky-and-slow-resources-like-backend-APIs">3-6 Stub flaky and slow resources like backend APIs</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/3-Frontend/3-7-Have-very-few-end-to-end-tests-that-spans-the-whole-system" data-for="fruit/Coding/Testing/javascript/3-Frontend/3-7-Have-very-few-end-to-end-tests-that-spans-the-whole-system">3-7 Have very few end-to-end tests that spans the whole system</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/3-Frontend/3-8-Speed-up-E2E-tests-by-reusing-login-credentials" data-for="fruit/Coding/Testing/javascript/3-Frontend/3-8-Speed-up-E2E-tests-by-reusing-login-credentials">3-8 Speed-up E2E tests by reusing login credentials</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/3-Frontend/3-9-Have-one-E2E-smoke-test-that-just-travels-across-the-site-map" data-for="fruit/Coding/Testing/javascript/3-Frontend/3-9-Have-one-E2E-smoke-test-that-just-travels-across-the-site-map">3-9 Have one E2E smoke test that just travels across the site map</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/3-Frontend/3-10-Expose-the-tests-as-a-live-collaborative-document" data-for="fruit/Coding/Testing/javascript/3-Frontend/3-10-Expose-the-tests-as-a-live-collaborative-document">3-10 Expose the tests as a live collaborative document</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/3-Frontend/3-11-Detect-visual-issues-with-automated-tools" data-for="fruit/Coding/Testing/javascript/3-Frontend/3-11-Detect-visual-issues-with-automated-tools">3-11 Detect visual issues with automated tools</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing/javascript/4 Measuring Tests Effectiveness"><button class="folder-button"><p class="folder-title">4 Measuring Tests Effectiveness</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing/javascript/4 Measuring Tests Effectiveness"><li><li><a href="../../../../fruit/Coding/Testing/javascript/4-Measuring-Tests-Effectiveness/4-1-Get-enough-coverage-for-being-confident-80-seems-to-be-the-lucky-number" data-for="fruit/Coding/Testing/javascript/4-Measuring-Tests-Effectiveness/4-1-Get-enough-coverage-for-being-confident-80-seems-to-be-the-lucky-number">4-1 Get enough coverage for being confident 80 seems to be the lucky number</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/4-Measuring-Tests-Effectiveness/4-2-Inspect-coverage-reports-to-detect-untested-areas-and-other-oddities" data-for="fruit/Coding/Testing/javascript/4-Measuring-Tests-Effectiveness/4-2-Inspect-coverage-reports-to-detect-untested-areas-and-other-oddities">4-2 Inspect coverage reports to detect untested areas and other oddities</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/4-Measuring-Tests-Effectiveness/4-3-Measure-logical-coverage-using-mutation-testing" data-for="fruit/Coding/Testing/javascript/4-Measuring-Tests-Effectiveness/4-3-Measure-logical-coverage-using-mutation-testing">4-3 Measure logical coverage using mutation testing</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/4-Measuring-Tests-Effectiveness/4-4-Preventing-test-code-issues-with-Test-linters" data-for="fruit/Coding/Testing/javascript/4-Measuring-Tests-Effectiveness/4-4-Preventing-test-code-issues-with-Test-linters">4-4 Preventing test code issues with Test linters</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing/javascript/5 Continuous Integration"><button class="folder-button"><p class="folder-title">5 Continuous Integration</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing/javascript/5 Continuous Integration"><li><li><a href="../../../../fruit/Coding/Testing/javascript/5-Continuous-Integration/5-1-Enrich-your-linters-and-abort-builds-that-have-linting-issues" data-for="fruit/Coding/Testing/javascript/5-Continuous-Integration/5-1-Enrich-your-linters-and-abort-builds-that-have-linting-issues">5-1 Enrich your linters and abort builds that have linting issues</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/5-Continuous-Integration/5-2-Shorten-the-feedback-loop-with-local-developer-CI" data-for="fruit/Coding/Testing/javascript/5-Continuous-Integration/5-2-Shorten-the-feedback-loop-with-local-developer-CI">5-2 Shorten the feedback loop with local developer-CI</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/5-Continuous-Integration/5-3-Perform-e2e-testing-over-a-true-production-mirror" data-for="fruit/Coding/Testing/javascript/5-Continuous-Integration/5-3-Perform-e2e-testing-over-a-true-production-mirror">5-3 Perform e2e testing over a true production-mirror</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/5-Continuous-Integration/5-4-Parallelize-test-execution" data-for="fruit/Coding/Testing/javascript/5-Continuous-Integration/5-4-Parallelize-test-execution">5-4 Parallelize test execution</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/5-Continuous-Integration/5-5-Stay-away-from-legal-issues-using-license-and-plagiarism-check" data-for="fruit/Coding/Testing/javascript/5-Continuous-Integration/5-5-Stay-away-from-legal-issues-using-license-and-plagiarism-check">5-5 Stay away from legal issues using license and plagiarism check</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/5-Continuous-Integration/5-6-Constantly-inspect-for-vulnerable-dependencies" data-for="fruit/Coding/Testing/javascript/5-Continuous-Integration/5-6-Constantly-inspect-for-vulnerable-dependencies">5-6 Constantly inspect for vulnerable dependencies</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/5-Continuous-Integration/5-7-Automate-dependency-updates" data-for="fruit/Coding/Testing/javascript/5-Continuous-Integration/5-7-Automate-dependency-updates">5-7 Automate dependency updates</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/5-Continuous-Integration/5-8-Other-non-Node-related-CI-tips" data-for="fruit/Coding/Testing/javascript/5-Continuous-Integration/5-8-Other-non-Node-related-CI-tips">5-8 Other non-Node related CI tips</a></li></li><li><li><a href="../../../../fruit/Coding/Testing/javascript/5-Continuous-Integration/5-9-Build-matrix-Run-the-same-CI-steps-using-multiple-Node-versions" data-for="fruit/Coding/Testing/javascript/5-Continuous-Integration/5-9-Build-matrix-Run-the-same-CI-steps-using-multiple-Node-versions">5-9 Build matrix Run the same CI steps using multiple Node versions</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Coding/Testing/javascript/assets"><button class="folder-button"><p class="folder-title">assets</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Coding/Testing/javascript/assets"><li><li><a href="../../../../fruit/Coding/Testing/javascript/assets/readme" data-for="fruit/Coding/Testing/javascript/assets/readme">readme</a></li></li></ul></div></div></li></ul></div></div></li></ul></div></div></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Diagraming"><button class="folder-button"><p class="folder-title">Diagraming</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Diagraming"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Diagraming/bizSys"><button class="folder-button"><p class="folder-title">bizSys</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Diagraming/bizSys"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Diagraming/bizSys/externalView"><button class="folder-button"><p class="folder-title">externalView</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Diagraming/bizSys/externalView"><li><li><a href="../../../../fruit/Diagraming/bizSys/externalView/constructing-sequence-diagrams" data-for="fruit/Diagraming/bizSys/externalView/constructing-sequence-diagrams">constructing-sequence-diagrams</a></li></li><li><li><a href="../../../../fruit/Diagraming/bizSys/externalView/high-level-sequence-diagrams" data-for="fruit/Diagraming/bizSys/externalView/high-level-sequence-diagrams">high-level-sequence-diagrams</a></li></li><li><li><a href="../../../../fruit/Diagraming/bizSys/externalView/sequence-diagrams" data-for="fruit/Diagraming/bizSys/externalView/sequence-diagrams">sequence-diagrams</a></li></li><li><li><a href="../../../../fruit/Diagraming/bizSys/externalView/sequence-diagrams-for-scenarios-of-business-use-cases" data-for="fruit/Diagraming/bizSys/externalView/sequence-diagrams-for-scenarios-of-business-use-cases">sequence-diagrams-for-scenarios-of-business-use-cases</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Diagraming/bizSys/internalView"><button class="folder-button"><p class="folder-title">internalView</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Diagraming/bizSys/internalView"><li><li><a href="../../../../fruit/Diagraming/bizSys/internalView/activity-diagram" data-for="fruit/Diagraming/bizSys/internalView/activity-diagram">activity-diagram</a></li></li><li><li><a href="../../../../fruit/Diagraming/bizSys/internalView/class-diagram" data-for="fruit/Diagraming/bizSys/internalView/class-diagram">class-diagram</a></li></li><li><li><a href="../../../../fruit/Diagraming/bizSys/internalView/constructing-class-diagrams" data-for="fruit/Diagraming/bizSys/internalView/constructing-class-diagrams">constructing-class-diagrams</a></li></li><li><li><a href="../../../../fruit/Diagraming/bizSys/internalView/constructing-package-diagrams" data-for="fruit/Diagraming/bizSys/internalView/constructing-package-diagrams">constructing-package-diagrams</a></li></li><li><li><a href="../../../../fruit/Diagraming/bizSys/internalView/package-diagram" data-for="fruit/Diagraming/bizSys/internalView/package-diagram">package-diagram</a></li></li></ul></div></div></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Diagraming/ITSys"><button class="folder-button"><p class="folder-title">ITSys</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Diagraming/ITSys"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Diagraming/ITSys/behavioralView"><button class="folder-button"><p class="folder-title">behavioralView</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Diagraming/ITSys/behavioralView"><li><li><a href="../../../../fruit/Diagraming/ITSys/behavioralView/constructing-statechart-diagrams" data-for="fruit/Diagraming/ITSys/behavioralView/constructing-statechart-diagrams">constructing-statechart-diagrams</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/behavioralView/statechart-diagram" data-for="fruit/Diagraming/ITSys/behavioralView/statechart-diagram">statechart-diagram</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/behavioralView/the-elements-of-the-view" data-for="fruit/Diagraming/ITSys/behavioralView/the-elements-of-the-view">the-elements-of-the-view</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/behavioralView/the-life-of-an-object" data-for="fruit/Diagraming/ITSys/behavioralView/the-life-of-an-object">the-life-of-an-object</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Diagraming/ITSys/externalView"><button class="folder-button"><p class="folder-title">externalView</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Diagraming/ITSys/externalView"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Diagraming/ITSys/externalView/the-elements-of-view"><button class="folder-button"><p class="folder-title">the-elements-of-view</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Diagraming/ITSys/externalView/the-elements-of-view"><li><li><a href="../../../../fruit/Diagraming/ITSys/externalView/the-elements-of-view/use-case-diagram" data-for="fruit/Diagraming/ITSys/externalView/the-elements-of-view/use-case-diagram">use-case-diagram</a></li></li></ul></div></div></li><li><li><a href="../../../../fruit/Diagraming/ITSys/externalView/constructing-the-external-view" data-for="fruit/Diagraming/ITSys/externalView/constructing-the-external-view">constructing-the-external-view</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/externalView/query-events-and-mutation-events" data-for="fruit/Diagraming/ITSys/externalView/query-events-and-mutation-events">query-events-and-mutation-events</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/externalView/the-user-view-or-i-dont-care-how-it-works-as-long-as-it-works" data-for="fruit/Diagraming/ITSys/externalView/the-user-view-or-i-dont-care-how-it-works-as-long-as-it-works">the-user-view-or-i-dont-care-how-it-works-as-long-as-it-works</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/externalView/use-case-sequence-diagram" data-for="fruit/Diagraming/ITSys/externalView/use-case-sequence-diagram">use-case-sequence-diagram</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Diagraming/ITSys/interactionView"><button class="folder-button"><p class="folder-title">interactionView</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Diagraming/ITSys/interactionView"><li><li><a href="../../../../fruit/Diagraming/ITSys/interactionView/communication-diagram" data-for="fruit/Diagraming/ITSys/interactionView/communication-diagram">communication-diagram</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/interactionView/constructing-communication-diagrams" data-for="fruit/Diagraming/ITSys/interactionView/constructing-communication-diagrams">constructing-communication-diagrams</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/interactionView/constructing-sequence-diagrams" data-for="fruit/Diagraming/ITSys/interactionView/constructing-sequence-diagrams">constructing-sequence-diagrams</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/interactionView/elements-of-the-view" data-for="fruit/Diagraming/ITSys/interactionView/elements-of-the-view">elements-of-the-view</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/interactionView/seeing-what-happens-inside-the-it-system" data-for="fruit/Diagraming/ITSys/interactionView/seeing-what-happens-inside-the-it-system">seeing-what-happens-inside-the-it-system</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/interactionView/sequence-diagram" data-for="fruit/Diagraming/ITSys/interactionView/sequence-diagram">sequence-diagram</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Diagraming/ITSys/structuralView"><button class="folder-button"><p class="folder-title">structuralView</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Diagraming/ITSys/structuralView"><li><li><a href="../../../../fruit/Diagraming/ITSys/structuralView/class-diagram" data-for="fruit/Diagraming/ITSys/structuralView/class-diagram">class-diagram</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/structuralView/constructing-class-diagrams" data-for="fruit/Diagraming/ITSys/structuralView/constructing-class-diagrams">constructing-class-diagrams</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/structuralView/elements-of-the-view" data-for="fruit/Diagraming/ITSys/structuralView/elements-of-the-view">elements-of-the-view</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/structuralView/generalization-specialization-and-inheritance" data-for="fruit/Diagraming/ITSys/structuralView/generalization-specialization-and-inheritance">generalization-specialization-and-inheritance</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/structuralView/objects-and-classes" data-for="fruit/Diagraming/ITSys/structuralView/objects-and-classes">objects-and-classes</a></li></li><li><li><a href="../../../../fruit/Diagraming/ITSys/structuralView/static-and-dynamic-business-rules" data-for="fruit/Diagraming/ITSys/structuralView/static-and-dynamic-business-rules">static-and-dynamic-business-rules</a></li></li></ul></div></div></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Diagraming/prepIntegr"><button class="folder-button"><p class="folder-title">prepIntegr</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Diagraming/prepIntegr"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Diagraming/prepIntegr/processView"><button class="folder-button"><p class="folder-title">processView</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Diagraming/prepIntegr/processView"><li><li><a href="../../../../fruit/Diagraming/prepIntegr/processView/activity-diagrams" data-for="fruit/Diagraming/prepIntegr/processView/activity-diagrams">activity-diagrams</a></li></li><li><li><a href="../../../../fruit/Diagraming/prepIntegr/processView/constructing-diagrams-in-the-process-view" data-for="fruit/Diagraming/prepIntegr/processView/constructing-diagrams-in-the-process-view">constructing-diagrams-in-the-process-view</a></li></li><li><li><a href="../../../../fruit/Diagraming/prepIntegr/processView/elements-of-the-view" data-for="fruit/Diagraming/prepIntegr/processView/elements-of-the-view">elements-of-the-view</a></li></li><li><li><a href="../../../../fruit/Diagraming/prepIntegr/processView/sequence-diagram" data-for="fruit/Diagraming/prepIntegr/processView/sequence-diagram">sequence-diagram</a></li></li><li><li><a href="../../../../fruit/Diagraming/prepIntegr/processView/the-business-system-model-as-foundation" data-for="fruit/Diagraming/prepIntegr/processView/the-business-system-model-as-foundation">the-business-system-model-as-foundation</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/fruit/Diagraming/prepIntegr/staticView"><button class="folder-button"><p class="folder-title">staticView</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/fruit/Diagraming/prepIntegr/staticView"><li><li><a href="../../../../fruit/Diagraming/prepIntegr/staticView/class-diagram" data-for="fruit/Diagraming/prepIntegr/staticView/class-diagram">class-diagram</a></li></li><li><li><a href="../../../../fruit/Diagraming/prepIntegr/staticView/constructing-class-diagrams" data-for="fruit/Diagraming/prepIntegr/staticView/constructing-class-diagrams">constructing-class-diagrams</a></li></li><li><li><a href="../../../../fruit/Diagraming/prepIntegr/staticView/elements-of-the-view" data-for="fruit/Diagraming/prepIntegr/staticView/elements-of-the-view">elements-of-the-view</a></li></li><li><li><a href="../../../../fruit/Diagraming/prepIntegr/staticView/transformation-of-uml-messages-into-various-stan" data-for="fruit/Diagraming/prepIntegr/staticView/transformation-of-uml-messages-into-various-stan">transformation-of-uml-messages-into-various-stan</a></li></li><li><li><a href="../../../../fruit/Diagraming/prepIntegr/staticView/transforming-data-from-the-it-system-to-the-mess" data-for="fruit/Diagraming/prepIntegr/staticView/transforming-data-from-the-it-system-to-the-mess">transforming-data-from-the-it-system-to-the-mess</a></li></li></ul></div></div></li></ul></div></div></li></ul></div></div></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/seed"><button class="folder-button"><p class="folder-title">seed</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/seed"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/seed/computing"><button class="folder-button"><p class="folder-title">computing</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/seed/computing"><li><li><a href="../../../../seed/computing/ployglot-(computing)" data-for="seed/computing/ployglot-(computing)">ployglot (computing)</a></li></li><li><li><a href="../../../../seed/computing/Seeding-(computing)" data-for="seed/computing/Seeding-(computing)">Seeding (computing)</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/seed/software development"><button class="folder-button"><p class="folder-title">software development</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/seed/software development"><li><li><a href="../../../../seed/software-development/artifact-(software-development)" data-for="seed/software-development/artifact-(software-development)">artifact (software development)</a></li></li><li><li><a href="../../../../seed/software-development/Generic-function" data-for="seed/software-development/Generic-function">Generic function</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/seed/Unix"><button class="folder-button"><p class="folder-title">Unix</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/seed/Unix"><li><li><a href="../../../../seed/Unix/Shebang-(Unix)" data-for="seed/Unix/Shebang-(Unix)">Shebang (Unix)</a></li></li></ul></div></div></li><li><li><a href="../../../../seed/artifact" data-for="seed/artifact">artifact</a></li></li><li><li><a href="../../../../seed/polyglot" data-for="seed/polyglot">polyglot</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/tree"><button class="folder-button"><p class="folder-title">tree</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/tree"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/tree/Product Design"><button class="folder-button"><p class="folder-title">Product Design</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/tree/Product Design"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/tree/Product Design/Design"><button class="folder-button"><p class="folder-title">Design</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/tree/Product Design/Design"><li><li><a href="../../../../tree/Product-Design/Design/Business-Model-Canvas" data-for="tree/Product-Design/Design/Business-Model-Canvas">Business Model Canvas</a></li></li><li><li><a href="../../../../tree/Product-Design/Design/Call-to-Action" data-for="tree/Product-Design/Design/Call-to-Action">Call to Action</a></li></li><li><li><a href="../../../../tree/Product-Design/Design/Cheating" data-for="tree/Product-Design/Design/Cheating">Cheating</a></li></li><li><li><a href="../../../../tree/Product-Design/Design/Deploy-Social-Proof" data-for="tree/Product-Design/Design/Deploy-Social-Proof">Deploy Social Proof</a></li></li><li><li><a href="../../../../tree/Product-Design/Design/Incremental-A,-B-Testing" data-for="tree/Product-Design/Design/Incremental-A,-B-Testing">Incremental A, B Testing</a></li></li><li><li><a href="../../../../tree/Product-Design/Design/Lean-Canvas" data-for="tree/Product-Design/Design/Lean-Canvas">Lean Canvas</a></li></li></ul></div></div></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/tree/Software Development"><button class="folder-button"><p class="folder-title">Software Development</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/tree/Software Development"><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/tree/Software Development/Architecture"><button class="folder-button"><p class="folder-title">Architecture</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/tree/Software Development/Architecture"><li><li><a href="../../../../tree/Software-Development/Architecture/Untitled" data-for="tree/Software-Development/Architecture/Untitled">Untitled</a></li></li></ul></div></div></li><li><div><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="/tree/Software Development/Project Layout"><button class="folder-button"><p class="folder-title">Project Layout</p></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="/tree/Software Development/Project Layout"><li><li><a href="../../../../tree/Software-Development/Project-Layout/Untitled" data-for="tree/Software-Development/Project-Layout/Untitled">Untitled</a></li></li></ul></div></div></li></ul></div></div></li></ul></div></div></li><li><li><a href="../../../../Applications" data-for="Applications">Applications</a></li></li><li><li><a href="../../../../Inbox" data-for="Inbox">Inbox</a></li></li></ul></div></div></li><li id="explorer-end"></li></ul></div></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container " aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../../../..">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../../flower/">flower</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../../flower/testing/">testing</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../../flower/testing/go/">go</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../../flower/testing/go/fundamentals/">fundamentals</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>math</a></div></nav><h1 class="article-title ">math</h1><p class="content-meta ">Dec 22, 2023, 45 min read</p></div></div><article class="popover-hint"><h1 id="mathematics">Mathematics<a aria-hidden="true" tabindex="-1" href="#mathematics" class="internal alias"> §</a></h1>
<p><strong><a href="https://github.com/quii/learn-go-with-tests/tree/main/math" class="external alias">You can find all the code for this chapter here</a></strong></p>
<p>For all the power of modern computers to perform huge sums at
lightning speed, the average developer rarely uses any mathematics
to do their job. But not today! Today we’ll use mathematics to
solve a <em>real</em> problem. And not boring mathematics - we’re going
to use trigonometry and vectors and all sorts of stuff that you
always said you’d never have to use after highschool.</p>
<h2 id="the-problem">The Problem<a aria-hidden="true" tabindex="-1" href="#the-problem" class="internal alias"> §</a></h2>
<p>You want to make an SVG of a clock. Not a digital clock - no, that
would be easy - an <em>analogue</em> clock, with hands. You’re not looking for anything
fancy, just a nice function that takes a <code>Time</code> from the <code>time</code> package and
spits out an SVG of a clock with all the hands - hour, minute and second -
pointing in the right direction. How hard can that be?</p>
<p>First we’re going to need an SVG of a clock for us to play with. SVGs are a
fantastic image format to manipulate programmatically because they’re written as
a series of shapes, described in XML. So this clock:</p>
<p><img src="../../../../math/example_clock.svg" alt="an svg of a clock"/></p>
<p>is described like this:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="xml" data-theme="default"><code data-language="xml" data-theme="default"><span data-line><span style="color:var(--shiki-color-text);">&lt;?</span><span style="color:var(--shiki-token-string-expression);">xml</span><span style="color:var(--shiki-token-function);"> version</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;1.0&quot;</span><span style="color:var(--shiki-token-function);"> encoding</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;UTF-8&quot;</span><span style="color:var(--shiki-token-function);"> standalone</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;no&quot;</span><span style="color:var(--shiki-color-text);">?></span></span>
<span data-line><span style="color:var(--shiki-color-text);">&lt;!</span><span style="color:var(--shiki-token-keyword);">DOCTYPE</span><span style="color:var(--shiki-color-text);"> svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;></span></span>
<span data-line><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">svg</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">xmlns</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;http://www.w3.org/2000/svg&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">     </span><span style="color:var(--shiki-token-function);">width</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;100%&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">     </span><span style="color:var(--shiki-token-function);">height</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;100%&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">     </span><span style="color:var(--shiki-token-function);">viewBox</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;0 0 300 300&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">     </span><span style="color:var(--shiki-token-function);">version</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;2.0&quot;</span><span style="color:var(--shiki-color-text);">></span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">&lt;!-- bezel --></span></span>
<span data-line><span style="color:var(--shiki-color-text);">  &lt;</span><span style="color:var(--shiki-token-string-expression);">circle</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">cx</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;150&quot;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">cy</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;150&quot;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">r</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;100&quot;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">style</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;fill:#fff;stroke:#000;stroke-width:5px;&quot;</span><span style="color:var(--shiki-color-text);">/></span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">&lt;!-- hour hand --></span></span>
<span data-line><span style="color:var(--shiki-color-text);">  &lt;</span><span style="color:var(--shiki-token-string-expression);">line</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">x1</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;150&quot;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">y1</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;150&quot;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">x2</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;114.150000&quot;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">y2</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;132.260000&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">        </span><span style="color:var(--shiki-token-function);">style</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;fill:none;stroke:#000;stroke-width:7px;&quot;</span><span style="color:var(--shiki-color-text);">/></span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">&lt;!-- minute hand --></span></span>
<span data-line><span style="color:var(--shiki-color-text);">  &lt;</span><span style="color:var(--shiki-token-string-expression);">line</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">x1</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;150&quot;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">y1</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;150&quot;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">x2</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;101.290000&quot;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">y2</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;99.730000&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">        </span><span style="color:var(--shiki-token-function);">style</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;fill:none;stroke:#000;stroke-width:7px;&quot;</span><span style="color:var(--shiki-color-text);">/></span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">&lt;!-- second hand --></span></span>
<span data-line><span style="color:var(--shiki-color-text);">  &lt;</span><span style="color:var(--shiki-token-string-expression);">line</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">x1</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;150&quot;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">y1</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;150&quot;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">x2</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;77.190000&quot;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">y2</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;202.900000&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">        </span><span style="color:var(--shiki-token-function);">style</span><span style="color:var(--shiki-color-text);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;fill:none;stroke:#f00;stroke-width:3px;&quot;</span><span style="color:var(--shiki-color-text);">/></span></span>
<span data-line><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">svg</span><span style="color:var(--shiki-color-text);">></span></span></code></pre></div>
<p>It’s a circle with three lines, each of the lines starting in the middle of the
circle (x=150, y=150), and ending some distance away.</p>
<p>So what we’re going to do is reconstruct the above somehow, but change the lines
so they point in the appropriate directions for a given time.</p>
<h2 id="an-acceptance-test">An Acceptance Test<a aria-hidden="true" tabindex="-1" href="#an-acceptance-test" class="internal alias"> §</a></h2>
<p>Before we get too stuck in, lets think about an acceptance test.</p>
<p>Wait, you don’t know what an acceptance test is yet. Look, let me try to
explain.</p>
<p>Let me ask you: what does winning look like? How do we know we’ve finished
work? TDD provides a good way of knowing when you’ve finished: when the test
passes. Sometimes it’s nice - actually, almost all of the time it’s nice -
to write a test that tells you when you’ve finished writing the whole usable
feature. Not just a test that tells you that a particular function is
working in the way you expect, but a test that tells you that the whole
thing you’re trying to achieve - the ‘feature’ - is complete.</p>
<p>These tests are sometimes called ‘acceptance tests’, sometimes called
‘feature tests’. The idea is that you write a really high level test to
describe what you’re trying to achieve - a user clicks a button on a website,
and they see a complete list of the Pokémon they’ve caught, for instance.
When we’ve written that test, we can then write more tests - unit tests -
that build towards a working system that will pass the acceptance test. So
for our example these tests might be about rendering a webpage with a button,
testing route handlers on a web server, performing database look ups, etc.
All of these things will be TDD’d, and all of them will go towards making
the original acceptance test pass.</p>
<p>Something like this <em>classic</em> picture by Nat Pryce and Steve Freeman</p>
<p><img src="../../../../TDD-outside-in.jpg" alt="Outside-in feedback loops in TDD"/></p>
<p>Anyway, let’s try and write that acceptance test - the one that will let us
know when we’re done.</p>
<p>We’ve got an example clock, so let’s think about what the important parameters are going to be.</p>
<pre><code>&lt;line x1=&quot;150&quot; y1=&quot;150&quot; x2=&quot;114.150000&quot; y2=&quot;132.260000&quot;
        style=&quot;fill:none;stroke:#000;stroke-width:7px;&quot;/>
</code></pre>
<p>The centre of the clock (the attributes <code>x1</code> and <code>y1</code> for this line) is the same
for each hand of the clock. The numbers that need to change for each hand of the
clock - the parameters to whatever builds the SVG - are the <code>x2</code> and <code>y2</code>
attributes. We’ll need an X and a Y for each of the hands of the clock.</p>
<p>I <em>could</em> think about more parameters - the radius of the clockface circle, the
size of the SVG, the colours of the hands, their shape, etc… but it’s better
to start off by solving a simple, concrete problem with a simple, concrete
solution, and then to start adding parameters to make it generalised.</p>
<p>So we’ll say that</p>
<ul>
<li>every clock has a centre of (150, 150)</li>
<li>the hour hand is 50 long</li>
<li>the minute hand is 80 long</li>
<li>the second hand is 90 long.</li>
</ul>
<p>A thing to note about SVGs: the origin - point (0,0) - is at the <em>top left</em> hand
corner, not the <em>bottom left</em> as we might expect. It’ll be important to remember
this when we’re working out where what numbers to plug in to our lines.</p>
<p>Finally, I’m not deciding <em>how</em> to construct the SVG - we could use a template
from the <a href="https://golang.org/pkg/text/template/" class="external"><code>text/template</code></a> package, or we could just send bytes into
a <code>bytes.Buffer</code> or a writer. But we know we’ll need those numbers, so let’s
focus on testing something that creates them.</p>
<h3 id="write-the-test-first">Write the test first<a aria-hidden="true" tabindex="-1" href="#write-the-test-first" class="internal alias"> §</a></h3>
<p>So my first test looks like this:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">package</span><span style="color:var(--shiki-color-text);"> clockface_test</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> (</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;projectpath/clockface&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;testing&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;time&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSecondHandAtMidnight</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	tm </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> time.</span><span style="color:var(--shiki-token-function);">Date</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">1337</span><span style="color:var(--shiki-color-text);">, time.January, </span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, time.UTC)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	want </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> clockface.Point{X: </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, Y: </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">90</span><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> clockface.</span><span style="color:var(--shiki-token-function);">SecondHand</span><span style="color:var(--shiki-color-text);">(tm)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> got </span><span style="color:var(--shiki-token-keyword);">!=</span><span style="color:var(--shiki-color-text);"> want {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Errorf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">, wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, got, want)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>Remember how SVGs plot their coordinates from the top left hand corner? To place
the second hand at midnight we expect that it hasn’t moved from the centre of
the clockface on the X axis - still 150 - and the Y axis is the length of the
hand ‘up’ from the centre; 150 minus 90.</p>
<h3 id="try-to-run-the-test">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test" class="internal alias"> §</a></h3>
<p>This drives out the expected failures around the missing functions and types:</p>
<pre><code>--- FAIL: TestSecondHandAtMidnight (0.00s)
./clockface_test.go:13:10: undefined: clockface.Point
./clockface_test.go:14:9: undefined: clockface.SecondHand
</code></pre>
<p>So a <code>Point</code> where the tip of the second hand should go, and a function to get it.</p>
<h3 id="write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output">Write the minimal amount of code for the test to run and check the failing test output<a aria-hidden="true" tabindex="-1" href="#write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output" class="internal alias"> §</a></h3>
<p>Let’s implement those types to get the code to compile</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">package</span><span style="color:var(--shiki-color-text);"> clockface</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;time&quot;</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-comment);">// A Point represents a two-dimensional Cartesian coordinate</span></span>
<span data-line><span style="color:var(--shiki-token-keyword);">type</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">Point</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	X </span><span style="color:var(--shiki-token-keyword);">float64</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Y </span><span style="color:var(--shiki-token-keyword);">float64</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-comment);">// SecondHand is the unit vector of the second hand of an analogue clock at time `t`</span></span>
<span data-line><span style="color:var(--shiki-token-comment);">// represented as a Point.</span></span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">SecondHand</span><span style="color:var(--shiki-color-text);">(t time.Time) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> Point{}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>and now we get:</p>
<pre><code>--- FAIL: TestSecondHandAtMidnight (0.00s)
    clockface_test.go:17: Got {0 0}, wanted {150 60}
FAIL
exit status 1
FAIL	learn-go-with-tests/math/clockface	0.006s
</code></pre>
<h3 id="write-enough-code-to-make-it-pass">Write enough code to make it pass<a aria-hidden="true" tabindex="-1" href="#write-enough-code-to-make-it-pass" class="internal alias"> §</a></h3>
<p>When we get the expected failure, we can fill in the return value of <code>SecondHand</code>:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-comment);">// SecondHand is the unit vector of the second hand of an analogue clock at time `t`</span></span>
<span data-line><span style="color:var(--shiki-token-comment);">// represented as a Point.</span></span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">SecondHand</span><span style="color:var(--shiki-color-text);">(t time.Time) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> Point{</span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">60</span><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>Behold, a passing test.</p>
<pre><code>PASS
ok  	    clockface	0.006s
</code></pre>
<h3 id="refactor">Refactor<a aria-hidden="true" tabindex="-1" href="#refactor" class="internal alias"> §</a></h3>
<p>No need to refactor yet - there’s barely enough code!</p>
<h3 id="repeat-for-new-requirements">Repeat for new requirements<a aria-hidden="true" tabindex="-1" href="#repeat-for-new-requirements" class="internal alias"> §</a></h3>
<p>We probably need to do some work here that doesn’t just involve returning
a clock that shows midnight for every time…</p>
<h3 id="write-the-test-first-1">Write the test first<a aria-hidden="true" tabindex="-1" href="#write-the-test-first-1" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSecondHandAt30Seconds</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	tm </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> time.</span><span style="color:var(--shiki-token-function);">Date</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">1337</span><span style="color:var(--shiki-color-text);">, time.January, </span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, time.UTC)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	want </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> clockface.Point{X: </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, Y: </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">90</span><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> clockface.</span><span style="color:var(--shiki-token-function);">SecondHand</span><span style="color:var(--shiki-color-text);">(tm)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> got </span><span style="color:var(--shiki-token-keyword);">!=</span><span style="color:var(--shiki-color-text);"> want {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Errorf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">, wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, got, want)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>Same idea, but now the second hand is pointing <em>downwards</em> so we <em>add</em> the
length to the Y axis.</p>
<p>This will compile… but how do we make it pass?</p>
<h2 id="thinking-time">Thinking time<a aria-hidden="true" tabindex="-1" href="#thinking-time" class="internal alias"> §</a></h2>
<p>How are we going to solve this problem?</p>
<p>Every minute the second hand goes through the same 60 states, pointing in 60
different directions. When it’s 0 seconds it points to the top of the clockface,
when it’s 30 seconds it points to the bottom of the clockface. Easy enough.</p>
<p>So if I wanted to think about in what direction the second hand was pointing at,
say, 37 seconds, I’d want the angle between 12 o’clock and 37/60ths around the
circle. In degrees this is <code>(360 / 60 ) * 37 = 222</code>, but it’s easier just to
remember that it’s <code>37/60</code> of a complete rotation.</p>
<p>But the angle is only half the story; we need to know the X and Y coordinate
that the tip of the second hand is pointing at. How can we work that out?</p>
<h2 id="math">Math<a aria-hidden="true" tabindex="-1" href="#math" class="internal alias"> §</a></h2>
<p>Imagine a circle with a radius of 1 drawn around the origin - the coordinate <code>0, 0</code>.</p>
<p><img src="../../../../math/images/unit_circle.png" alt="picture of the unit circle"/></p>
<p>This is called the ‘unit circle’ because… well, the radius is 1 unit!</p>
<p>The circumference of the circle is made of points on the grid - more
coordinates. The x and y components of each of these coordinates form
a triangle, the hypotenuse of which is always 1 (i.e. the radius of the circle).</p>
<p><img src="../../../../math/images/unit_circle_coords.png" alt="picture of the unit circle with a point defined on the circumference"/></p>
<p>Now, trigonometry will let us work out the lengths of X and Y for each triangle
if we know the angle they make with the origin. The X coordinate will be cos(a),
and the Y coordinate will be sin(a), where a is the angle made between the line
and the (positive) x axis.</p>
<p><img src="../../../../math/images/unit_circle_params.png" alt="picture of the unit circle with the x and y elements of a ray defined as cos(a) and sin(a) respectively, where a is the angle made by the ray with the x axis"/></p>
<p>(If you don’t believe this, <a href="https://en.wikipedia.org/wiki/Sine#Unit_circle_definition" class="external alias">go and look at Wikipedia…</a>)</p>
<p>One final twist - because we want to measure the angle from 12 o’clock rather
than from the X axis (3 o’clock), we need to swap the axis around; now
x = sin(a) and y = cos(a).</p>
<p><img src="../../../../math/images/unit_circle_12_oclock.png" alt="unit circle ray defined from by angle from y axis"/></p>
<p>So now we know how to get the angle of the second hand (1/60th of a circle for
each second) and the X and Y coordinates. We’ll need functions for both <code>sin</code>
and <code>cos</code>.</p>
<h2 id="math-1"><code>math</code><a aria-hidden="true" tabindex="-1" href="#math-1" class="internal alias"> §</a></h2>
<p>Happily the Go <code>math</code> package has both, with one small snag we’ll need to get
our heads around; if we look at the description of <a href="https://golang.org/pkg/math/#Cos" class="external"><code>math.Cos</code></a>:</p>
<blockquote>
<p>Cos returns the cosine of the radian argument x.</p>
</blockquote>
<p>It wants the angle to be in radians. So what’s a radian? Instead of defining the full turn of a circle to be made up of 360 degrees, we define a full turn as being 2π radians. There are good reasons to do this that we won’t go in to.<sup><a href="#user-content-fn-2" id="user-content-fnref-2" data-footnote-ref aria-describedby="footnote-label" class="internal alias">1</a></sup></p>
<p>Now that we’ve done some reading, some learning and some thinking, we can write
our next test.</p>
<h3 id="write-the-test-first-2">Write the test first<a aria-hidden="true" tabindex="-1" href="#write-the-test-first-2" class="internal alias"> §</a></h3>
<p>All this maths is hard and confusing. I’m not confident I understand what’s
going on - so let’s write a test! We don’t need to solve the whole problem in
one go - let’s start off with working out the correct angle, in radians, for the
second hand at a particular time.</p>
<p>I’m going to <em>comment out</em> the acceptance test that I was working on while
I’m working on these tests - I don’t want to get distracted by that test while
I’m getting this one to pass.</p>
<h3 id="a-recap-on-packages">A recap on packages<a aria-hidden="true" tabindex="-1" href="#a-recap-on-packages" class="internal alias"> §</a></h3>
<p>At the moment, our acceptance tests are in the <code>clockface_test</code> package. Our tests can
be outside of the <code>clockface</code> package - as long as their name ends with <code>_test.go</code> they
can be run.</p>
<p>I’m going to write these radians tests <em>within</em> the <code>clockface</code> package; they may never
get exported, and they may get deleted (or moved) once I have a better grip on
what’s going on. I’ll rename my acceptance test file to <code>clockface_acceptance_test.go</code>,
so that I can create a <em>new</em> file called <code>clockface_test</code> to test seconds in radians.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">package</span><span style="color:var(--shiki-color-text);"> clockface</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> (</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;math&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;testing&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;time&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSecondsInRadians</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	thirtySeconds </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> time.</span><span style="color:var(--shiki-token-function);">Date</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">312</span><span style="color:var(--shiki-color-text);">, time.October, </span><span style="color:var(--shiki-token-constant);">28</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, time.UTC)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	want </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> math.Pi</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondsInRadians</span><span style="color:var(--shiki-color-text);">(thirtySeconds)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> want </span><span style="color:var(--shiki-token-keyword);">!=</span><span style="color:var(--shiki-color-text);"> got {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> radians, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, want, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>Here we’re testing that 30 seconds past the minute should put the
second hand at halfway around the clock. And it’s our first use of
the <code>math</code> package! If a full turn of a circle is 2π radians, we
know that halfway round should just be π radians. <code>math.Pi</code> provides
us with a value for π.</p>
<h3 id="try-to-run-the-test-1">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-1" class="internal alias"> §</a></h3>
<pre><code>./clockface_test.go:12:9: undefined: secondsInRadians
</code></pre>
<h3 id="write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-1">Write the minimal amount of code for the test to run and check the failing test output<a aria-hidden="true" tabindex="-1" href="#write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-1" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondsInRadians</span><span style="color:var(--shiki-color-text);">(t time.Time) </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">0</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<pre><code>clockface_test.go:15: Wanted 3.141592653589793 radians, but got 0
</code></pre>
<h3 id="write-enough-code-to-make-it-pass-1">Write enough code to make it pass<a aria-hidden="true" tabindex="-1" href="#write-enough-code-to-make-it-pass-1" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondsInRadians</span><span style="color:var(--shiki-color-text);">(t time.Time) </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> math.Pi</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<pre><code>PASS
ok  	clockface	0.011s
</code></pre>
<h3 id="refactor-1">Refactor<a aria-hidden="true" tabindex="-1" href="#refactor-1" class="internal alias"> §</a></h3>
<p>Nothing needs refactoring yet</p>
<h3 id="repeat-for-new-requirements-1">Repeat for new requirements<a aria-hidden="true" tabindex="-1" href="#repeat-for-new-requirements-1" class="internal alias"> §</a></h3>
<p>Now we can extend the test to cover a few more scenarios. I’m going to skip
forward a bit and show some already refactored test code - it should be clear
enough how I got where I want to.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSecondsInRadians</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time  time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		angle </span><span style="color:var(--shiki-token-keyword);">float64</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">), math.Pi},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">45</span><span style="color:var(--shiki-color-text);">), (math.Pi </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">2</span><span style="color:var(--shiki-color-text);">) </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">3</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">7</span><span style="color:var(--shiki-color-text);">), (math.Pi </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">) </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">7</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondsInRadians</span><span style="color:var(--shiki-color-text);">(c.time)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> got </span><span style="color:var(--shiki-token-keyword);">!=</span><span style="color:var(--shiki-color-text);"> c.angle {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> radians, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.angle, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>I added a couple of helper functions to make writing this table based test
a little less tedious. <code>testName</code> converts a time into a digital watch
format (HH:MM:SS), and <code>simpleTime</code> constructs a <code>time.Time</code> using only the
parts we actually care about (again, hours, minutes and seconds).<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref aria-describedby="footnote-label" class="internal alias">2</a></sup> Here
they are:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(hours, minutes, seconds </span><span style="color:var(--shiki-token-keyword);">int</span><span style="color:var(--shiki-color-text);">) time.Time {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> time.</span><span style="color:var(--shiki-token-function);">Date</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">312</span><span style="color:var(--shiki-color-text);">, time.October, </span><span style="color:var(--shiki-token-constant);">28</span><span style="color:var(--shiki-color-text);">, hours, minutes, seconds, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, time.UTC)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(t time.Time) </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> t.</span><span style="color:var(--shiki-token-function);">Format</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;15:04:05&quot;</span><span style="color:var(--shiki-color-text);">)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>These two functions should help make these tests (and future tests) a little
easier to write and maintain.</p>
<p>This gives us some nice test output:</p>
<pre><code>clockface_test.go:24: Wanted 0 radians, but got 3.141592653589793

clockface_test.go:24: Wanted 4.71238898038469 radians, but got 3.141592653589793
</code></pre>
<p>Time to implement all of that maths stuff we were talking about above:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondsInRadians</span><span style="color:var(--shiki-color-text);">(t time.Time) </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">float64</span><span style="color:var(--shiki-color-text);">(t.</span><span style="color:var(--shiki-token-function);">Second</span><span style="color:var(--shiki-color-text);">()) </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> (math.Pi </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>One second is (2π / 60) radians… cancel out the 2 and we get π/30 radians.
Multiply that by the number of seconds (as a <code>float64</code>) and we should now have
all the tests passing…</p>
<pre><code>clockface_test.go:24: Wanted 3.141592653589793 radians, but got 3.1415926535897936
</code></pre>
<p>Wait, what?</p>
<h3 id="floats-are-horrible">Floats are horrible<a aria-hidden="true" tabindex="-1" href="#floats-are-horrible" class="internal alias"> §</a></h3>
<p>Floating point arithmetic is <a href="https://0.30000000000000004.com/" class="external alias">notoriously inaccurate</a>. Computers
can only really handle integers, and rational numbers to some extent. Decimal
numbers start to become inaccurate, especially when we factor them up and down
as we are in the <code>secondsInRadians</code> function. By dividing <code>math.Pi</code> by 30 and
then by multiplying it by 30 we’ve ended up with <em>a number that’s no longer the
same as <code>math.Pi</code></em>.</p>
<p>There are two ways around this:</p>
<ol>
<li>Live with it</li>
<li>Refactor our function by refactoring our equation</li>
</ol>
<p>Now (1) may not seem all that appealing, but it’s often the only way to make
floating point equality work. Being inaccurate by some infinitesimal fraction
is frankly not going to matter for the purposes of drawing a clockface, so we
could write a function that defines a ‘close enough’ equality for our angles.
But there’s a simple way we can get the accuracy back: we rearrange the equation
so that we’re no longer dividing down and then multiplying up. We can do it all
by just dividing.</p>
<p>So instead of</p>
<pre><code>numberOfSeconds * π / 30
</code></pre>
<p>we can write</p>
<pre><code>π / (30 / numberOfSeconds)
</code></pre>
<p>which is equivalent.</p>
<p>In Go:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondsInRadians</span><span style="color:var(--shiki-color-text);">(t time.Time) </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> (math.Pi </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-function);">float64</span><span style="color:var(--shiki-color-text);">(t.</span><span style="color:var(--shiki-token-function);">Second</span><span style="color:var(--shiki-color-text);">()))))</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>And we get a pass.</p>
<pre><code>PASS
ok      clockface     0.005s
</code></pre>
<p>It should all look <a href="https://github.com/quii/learn-go-with-tests/tree/main/math/v3/clockface" class="external alias">something like this</a>.</p>
<h3 id="a-note-on-dividing-by-zero">A note on dividing by zero<a aria-hidden="true" tabindex="-1" href="#a-note-on-dividing-by-zero" class="internal alias"> §</a></h3>
<p>Computers often don’t like dividing by zero because infinity is a bit strange.</p>
<p>In Go if you try to explicitly divide by zero you will get a compilation error.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">package</span><span style="color:var(--shiki-color-text);"> main</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> (</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;fmt&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">main</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	fmt.</span><span style="color:var(--shiki-token-function);">Println</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">10.0</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">0.0</span><span style="color:var(--shiki-color-text);">) </span><span style="color:var(--shiki-token-comment);">// fails to compile</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>Obviously the compiler can’t always predict that you’ll divide by zero, such as our <code>t.Second()</code></p>
<p>Try this</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">main</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	fmt.</span><span style="color:var(--shiki-token-function);">Println</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">10.0</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">zero</span><span style="color:var(--shiki-color-text);">())</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">zero</span><span style="color:var(--shiki-color-text);">() </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">0.0</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>It will print <code>+Inf</code> (infinity). Dividing by +Inf seems to result in zero and we can see this with the following:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">package</span><span style="color:var(--shiki-color-text);"> main</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> (</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;fmt&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;math&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">main</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	fmt.</span><span style="color:var(--shiki-token-function);">Println</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">secondsinradians</span><span style="color:var(--shiki-color-text);">())</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">zero</span><span style="color:var(--shiki-color-text);">() </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">0.0</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondsinradians</span><span style="color:var(--shiki-color-text);">() </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> (math.Pi </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-function);">float64</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">zero</span><span style="color:var(--shiki-color-text);">()))))</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="repeat-for-new-requirements-2">Repeat for new requirements<a aria-hidden="true" tabindex="-1" href="#repeat-for-new-requirements-2" class="internal alias"> §</a></h3>
<p>So we’ve got the first part covered here - we know what angle the second hand
will be pointing at in radians. Now we need to work out the coordinates.</p>
<p>Again, let’s keep this as simple as possible and only work with the <em>unit
circle</em>; the circle with a radius of 1. This means that our hands will all have
a length of one but, on the bright side, it means that the maths will be easy
for us to swallow.</p>
<h3 id="write-the-test-first-3">Write the test first<a aria-hidden="true" tabindex="-1" href="#write-the-test-first-3" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSecondHandPoint</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time  time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		point Point</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">), Point{</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">}},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondHandPoint</span><span style="color:var(--shiki-color-text);">(c.time)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> got </span><span style="color:var(--shiki-token-keyword);">!=</span><span style="color:var(--shiki-color-text);"> c.point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> Point, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.point, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="try-to-run-the-test-2">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-2" class="internal alias"> §</a></h3>
<pre><code>./clockface_test.go:40:11: undefined: secondHandPoint
</code></pre>
<h3 id="write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-2">Write the minimal amount of code for the test to run and check the failing test output<a aria-hidden="true" tabindex="-1" href="#write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-2" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondHandPoint</span><span style="color:var(--shiki-color-text);">(t time.Time) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> Point{}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<pre><code>clockface_test.go:42: Wanted {0 -1} Point, but got {0 0}
</code></pre>
<h3 id="write-enough-code-to-make-it-pass-2">Write enough code to make it pass<a aria-hidden="true" tabindex="-1" href="#write-enough-code-to-make-it-pass-2" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondHandPoint</span><span style="color:var(--shiki-color-text);">(t time.Time) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> Point{</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<pre><code>PASS
ok  	clockface	0.007s
</code></pre>
<h3 id="repeat-for-new-requirements-3">Repeat for new requirements<a aria-hidden="true" tabindex="-1" href="#repeat-for-new-requirements-3" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSecondHandPoint</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time  time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		point Point</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">), Point{</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">}},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">45</span><span style="color:var(--shiki-color-text);">), Point{</span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">}},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondHandPoint</span><span style="color:var(--shiki-color-text);">(c.time)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> got </span><span style="color:var(--shiki-token-keyword);">!=</span><span style="color:var(--shiki-color-text);"> c.point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> Point, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.point, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="try-to-run-the-test-3">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-3" class="internal alias"> §</a></h3>
<pre><code>clockface_test.go:43: Wanted {-1 0} Point, but got {0 -1}
</code></pre>
<h3 id="write-enough-code-to-make-it-pass-3">Write enough code to make it pass<a aria-hidden="true" tabindex="-1" href="#write-enough-code-to-make-it-pass-3" class="internal alias"> §</a></h3>
<p>Remember our unit circle picture?</p>
<p><img src="../../../../math/images/unit_circle_params.png" alt="picture of the unit circle with the x and y elements of a ray defined as cos(a) and sin(a) respectively, where a is the angle made by the ray with the x axis"/></p>
<p>Also recall that we want to measure the angle from 12 o’clock which is the Y axis instead of from the X axis which we would like measuring the angle between the second hand and 3 o’clock.</p>
<p><img src="../../../../math/images/unit_circle_12_oclock.png" alt="unit circle ray defined from by angle from y axis"/></p>
<p>We now want the equation that produces X and Y. Let’s write it into seconds:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondHandPoint</span><span style="color:var(--shiki-color-text);">(t time.Time) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	angle </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondsInRadians</span><span style="color:var(--shiki-color-text);">(t)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	x </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> math.</span><span style="color:var(--shiki-token-function);">Sin</span><span style="color:var(--shiki-color-text);">(angle)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	y </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> math.</span><span style="color:var(--shiki-token-function);">Cos</span><span style="color:var(--shiki-color-text);">(angle)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> Point{x, y}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>Now we get</p>
<pre><code>clockface_test.go:43: Wanted {0 -1} Point, but got {1.2246467991473515e-16 -1}

clockface_test.go:43: Wanted {-1 0} Point, but got {-1 -1.8369701987210272e-16}
</code></pre>
<p>Wait, what (again)? Looks like we’ve been cursed by the floats once more - both
of those unexpected numbers are <em>infinitesimal</em> - way down at the 16th decimal
place. So again we can either choose to try to increase precision, or to just
say that they’re roughly equal and get on with our lives.</p>
<p>One option to increase the accuracy of these angles would be to use the rational
type <code>Rat</code> from the <code>math/big</code> package. But given the objective is to draw an
SVG and not land on the moon, I think we can live with a bit of
fuzziness.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSecondHandPoint</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time  time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		point Point</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">), Point{</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">}},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">45</span><span style="color:var(--shiki-color-text);">), Point{</span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">}},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondHandPoint</span><span style="color:var(--shiki-color-text);">(c.time)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">!</span><span style="color:var(--shiki-token-function);">roughlyEqualPoint</span><span style="color:var(--shiki-color-text);">(got, c.point) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> Point, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.point, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">roughlyEqualFloat64</span><span style="color:var(--shiki-color-text);">(a, b </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);">) </span><span style="color:var(--shiki-token-keyword);">bool</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> equalityThreshold </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-token-keyword);">e-</span><span style="color:var(--shiki-token-constant);">7</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> math.</span><span style="color:var(--shiki-token-function);">Abs</span><span style="color:var(--shiki-color-text);">(a</span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-color-text);">b) </span><span style="color:var(--shiki-token-keyword);">&lt;</span><span style="color:var(--shiki-color-text);"> equalityThreshold</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">roughlyEqualPoint</span><span style="color:var(--shiki-color-text);">(a, b Point) </span><span style="color:var(--shiki-token-keyword);">bool</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">roughlyEqualFloat64</span><span style="color:var(--shiki-color-text);">(a.X, b.X) </span><span style="color:var(--shiki-token-keyword);">&amp;&amp;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-function);">roughlyEqualFloat64</span><span style="color:var(--shiki-color-text);">(a.Y, b.Y)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>We’ve defined two functions to define approximate equality between two
<code>Points</code> - they’ll work if the X and Y elements are within 0.0000001 of each
other.  That’s still pretty accurate.</p>
<p>And now we get:</p>
<pre><code>PASS
ok  	clockface	0.007s
</code></pre>
<h3 id="refactor-2">Refactor<a aria-hidden="true" tabindex="-1" href="#refactor-2" class="internal alias"> §</a></h3>
<p>I’m still pretty happy with this.</p>
<p>Here’s <a href="https://github.com/quii/learn-go-with-tests/tree/main/math/v4/clockface" class="external alias">what it looks like now</a></p>

<h3 id="repeat-for-new-requirements-4">Repeat for new requirements<a aria-hidden="true" tabindex="-1" href="#repeat-for-new-requirements-4" class="internal alias"> §</a></h3>
<p>Well, saying <em>new</em> isn’t entirely accurate - really what we can do now is get
that acceptance test passing! Let’s remind ourselves of what it looks like:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSecondHandAt30Seconds</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	tm </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> time.</span><span style="color:var(--shiki-token-function);">Date</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">1337</span><span style="color:var(--shiki-color-text);">, time.January, </span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, time.UTC)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	want </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> clockface.Point{X: </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, Y: </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">90</span><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> clockface.</span><span style="color:var(--shiki-token-function);">SecondHand</span><span style="color:var(--shiki-color-text);">(tm)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> got </span><span style="color:var(--shiki-token-keyword);">!=</span><span style="color:var(--shiki-color-text);"> want {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Errorf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">, wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, got, want)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="try-to-run-the-test-4">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-4" class="internal alias"> §</a></h3>
<pre><code>clockface_acceptance_test.go:28: Got {150 60}, wanted {150 240}
</code></pre>
<h3 id="write-enough-code-to-make-it-pass-4">Write enough code to make it pass<a aria-hidden="true" tabindex="-1" href="#write-enough-code-to-make-it-pass-4" class="internal alias"> §</a></h3>
<p>We need to do three things to convert our unit vector into a point on the SVG:</p>
<ol>
<li>Scale it to the length of the hand</li>
<li>Flip it over the X axis to account for the SVG having an origin in
the top left hand corner</li>
<li>Translate it to the right position (so that it’s coming from an origin of
(150,150))</li>
</ol>
<p>Fun times!</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-comment);">// SecondHand is the unit vector of the second hand of an analogue clock at time `t`</span></span>
<span data-line><span style="color:var(--shiki-token-comment);">// represented as a Point.</span></span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">SecondHand</span><span style="color:var(--shiki-color-text);">(t time.Time) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondHandPoint</span><span style="color:var(--shiki-color-text);">(t)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> Point{p.X </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">90</span><span style="color:var(--shiki-color-text);">, p.Y </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">90</span><span style="color:var(--shiki-color-text);">}   </span><span style="color:var(--shiki-token-comment);">// scale</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> Point{p.X, </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-color-text);">p.Y}            </span><span style="color:var(--shiki-token-comment);">// flip</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> Point{p.X </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, p.Y </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">} </span><span style="color:var(--shiki-token-comment);">// translate</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> p</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>Scale, flip, and translate in exactly that order. Hooray maths!</p>
<pre><code>PASS
ok  	clockface	0.007s
</code></pre>
<h3 id="refactor-3">Refactor<a aria-hidden="true" tabindex="-1" href="#refactor-3" class="internal alias"> §</a></h3>
<p>There’s a few magic numbers here that should get pulled out as constants, so
let’s do that</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> secondHandLength </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">90</span></span>
<span data-line><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> clockCentreX </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">150</span></span>
<span data-line><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> clockCentreY </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">150</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-comment);">// SecondHand is the unit vector of the second hand of an analogue clock at time `t`</span></span>
<span data-line><span style="color:var(--shiki-token-comment);">// represented as a Point.</span></span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">SecondHand</span><span style="color:var(--shiki-color-text);">(t time.Time) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondHandPoint</span><span style="color:var(--shiki-color-text);">(t)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> Point{p.X </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> secondHandLength, p.Y </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> secondHandLength}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> Point{p.X, </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-color-text);">p.Y}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> Point{p.X </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> clockCentreX, p.Y </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> clockCentreY} </span><span style="color:var(--shiki-token-comment);">//translate</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> p</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h2 id="draw-the-clock">Draw the clock<a aria-hidden="true" tabindex="-1" href="#draw-the-clock" class="internal alias"> §</a></h2>
<p>Well… the second hand anyway…</p>
<p>Let’s do this thing - because there’s nothing worse than not delivering some
value when it’s just sitting there waiting to get out into the world to dazzle
people. Let’s draw a second hand!</p>
<p>We’re going to stick a new directory under our main <code>clockface</code> package
directory, called (confusingly), <code>clockface</code>. In there we’ll put the <code>main</code>
package that will create the binary that will build an SVG:</p>
<pre><code>|-- clockface
|       |-- main.go
|-- clockface.go
|-- clockface_acceptance_test.go
|-- clockface_test.go
</code></pre>
<p>Inside <code>main.go</code>, you’ll start with this code but change the import for the
clockface package to point at your own version:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">package</span><span style="color:var(--shiki-color-text);"> main</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> (</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;fmt&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;io&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;os&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;time&quot;</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;learn-go-with-tests/math/clockface&quot;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-comment);">// REPLACE THIS!</span></span>
<span data-line><span style="color:var(--shiki-color-text);">)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">main</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	t </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> time.</span><span style="color:var(--shiki-token-function);">Now</span><span style="color:var(--shiki-color-text);">()</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	sh </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> clockface.</span><span style="color:var(--shiki-token-function);">SecondHand</span><span style="color:var(--shiki-color-text);">(t)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	io.</span><span style="color:var(--shiki-token-function);">WriteString</span><span style="color:var(--shiki-color-text);">(os.Stdout, svgStart)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	io.</span><span style="color:var(--shiki-token-function);">WriteString</span><span style="color:var(--shiki-color-text);">(os.Stdout, bezel)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	io.</span><span style="color:var(--shiki-token-function);">WriteString</span><span style="color:var(--shiki-color-text);">(os.Stdout, </span><span style="color:var(--shiki-token-function);">secondHandTag</span><span style="color:var(--shiki-color-text);">(sh))</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	io.</span><span style="color:var(--shiki-token-function);">WriteString</span><span style="color:var(--shiki-color-text);">(os.Stdout, svgEnd)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondHandTag</span><span style="color:var(--shiki-color-text);">(p clockface.Point) </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> fmt.</span><span style="color:var(--shiki-token-function);">Sprintf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">`&lt;line x1=&quot;150&quot; y1=&quot;150&quot; x2=&quot;</span><span style="color:var(--shiki-token-constant);">%f</span><span style="color:var(--shiki-token-string-expression);">&quot; y2=&quot;</span><span style="color:var(--shiki-token-constant);">%f</span><span style="color:var(--shiki-token-string-expression);">&quot; style=&quot;fill:none;stroke:#f00;stroke-width:3px;&quot;/>`</span><span style="color:var(--shiki-color-text);">, p.X, p.Y)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> svgStart </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?></span></span>
<span data-line><span style="color:var(--shiki-token-string-expression);">&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;></span></span>
<span data-line><span style="color:var(--shiki-token-string-expression);">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;</span></span>
<span data-line><span style="color:var(--shiki-token-string-expression);">     width=&quot;100%&quot;</span></span>
<span data-line><span style="color:var(--shiki-token-string-expression);">     height=&quot;100%&quot;</span></span>
<span data-line><span style="color:var(--shiki-token-string-expression);">     viewBox=&quot;0 0 300 300&quot;</span></span>
<span data-line><span style="color:var(--shiki-token-string-expression);">     version=&quot;2.0&quot;>`</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> bezel </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`&lt;circle cx=&quot;150&quot; cy=&quot;150&quot; r=&quot;100&quot; style=&quot;fill:#fff;stroke:#000;stroke-width:5px;&quot;/>`</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> svgEnd </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`&lt;/svg>`</span></span></code></pre></div>
<p>Oh boy am I not trying to win any prizes for beautiful code with <em>this</em> mess -
but it does the job. It’s writing an SVG out to <code>os.Stdout</code> - one string at
a time.</p>
<p>If we build this</p>
<pre><code>go build
</code></pre>
<p>and run it, sending the output into a file</p>
<pre><code>./clockface > clock.svg
</code></pre>
<p>We should see something like</p>
<p><img src="../../../../math/v6/clockface/clockface/clock.svg" alt="a clock with only a second hand"/></p>
<p>And this is <a href="https://github.com/quii/learn-go-with-tests/tree/main/math/v6/clockface" class="external alias">how the code looks</a>.</p>

<h3 id="refactor-4">Refactor<a aria-hidden="true" tabindex="-1" href="#refactor-4" class="internal alias"> §</a></h3>
<p>This stinks. Well, it doesn’t quite <em>stink</em> stink, but I’m not happy about it.</p>
<ol>
<li>That whole <code>SecondHand</code> function is <em>super</em> tied to being an SVG… without
mentioning SVGs or actually producing an SVG…</li>
<li>… while at the same time I’m not testing any of my SVG code.</li>
</ol>
<p>Yeah, I guess I screwed up. This feels wrong. Let’s try to recover with a more
SVG-centric test.</p>
<p>What are our options? Well, we could try testing that the characters spewing out
of the <code>SVGWriter</code> contain things that look like the sort of SVG tag we’re
expecting for a particular time. For instance:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSVGWriterAtMidnight</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	tm </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> time.</span><span style="color:var(--shiki-token-function);">Date</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">1337</span><span style="color:var(--shiki-color-text);">, time.January, </span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, time.UTC)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">var</span><span style="color:var(--shiki-color-text);"> b strings.Builder</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	clockface.</span><span style="color:var(--shiki-token-function);">SVGWriter</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-keyword);">&amp;</span><span style="color:var(--shiki-color-text);">b, tm)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> b.</span><span style="color:var(--shiki-token-function);">String</span><span style="color:var(--shiki-color-text);">()</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	want </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`&lt;line x1=&quot;150&quot; y1=&quot;150&quot; x2=&quot;150&quot; y2=&quot;60&quot;`</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">!</span><span style="color:var(--shiki-color-text);">strings.</span><span style="color:var(--shiki-token-function);">Contains</span><span style="color:var(--shiki-color-text);">(got, want) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Errorf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Expected to find the second hand </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">, in the SVG output </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, want, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>But is this really an improvement?</p>
<p>Not only will it still pass if I don’t produce a valid SVG (as it’s only testing
that a string appears in the output), but it will also fail if I make the
smallest, unimportant change to that string - if I add an extra space between
the attributes, for instance.</p>
<p>The <em>biggest</em> smell is that I’m testing a data structure - XML - by looking
at its representation as a series of characters - as a string. This is <em>never</em>,
<em>ever</em> a good idea as it produces problems just like the ones I outline above:
a test that’s both too fragile and not sensitive enough. A test that’s testing
the wrong thing!</p>
<p>So the only solution is to test the output <em>as XML</em>. And to do that we’ll need
to parse it.</p>
<h2 id="parsing-xml">Parsing XML<a aria-hidden="true" tabindex="-1" href="#parsing-xml" class="internal alias"> §</a></h2>
<p><a href="https://pkg.go.dev/encoding/xml" class="external"><code>encoding/xml</code></a> is the Go package that can handle all things to do with
simple XML parsing.</p>
<p>The function <a href="https://pkg.go.dev/encoding/xml#Unmarshal" class="external"><code>xml.Unmarshal</code></a> takes
a <code>[]byte</code> of XML data, and a pointer to a struct for it to get unmarshalled in
to.</p>
<p>So we’ll need a struct to unmarshall our XML into. We could spend some time
working out what the correct names for all of the nodes and attributes, and how
to write the correct structure but, happily, someone has written
<a href="https://github.com/miku/zek" class="external"><code>zek</code></a> a program that will automate all of that
hard work for us.  Even better, there’s an online version at
<a href="https://xml-to-go.github.io/" class="external">https://xml-to-go.github.io/</a>. Just
paste the SVG from the top of the file into one box and - bam - out pops:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">type</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">Svg</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	XMLName xml.Name </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;svg&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Text    </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);">   </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;,chardata&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Xmlns   </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);">   </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;xmlns,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Width   </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);">   </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;width,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Height  </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);">   </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;height,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	ViewBox </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);">   </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;viewBox,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Version </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);">   </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;version,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Circle  </span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		Text  </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;,chardata&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		Cx    </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;cx,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		Cy    </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;cy,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		R     </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;r,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		Style </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;style,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	} </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;circle&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Line []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		Text  </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;,chardata&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		X1    </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;x1,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		Y1    </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;y1,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		X2    </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;x2,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		Y2    </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;y2,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		Style </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;style,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	} </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;line&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>We could make adjustments to this if we needed to (like changing the name of the
struct to <code>SVG</code>) but it’s definitely good enough to start us off. Paste the
struct into the <code>clockface_acceptance_test</code> file and let’s write a test with it:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSVGWriterAtMidnight</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	tm </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> time.</span><span style="color:var(--shiki-token-function);">Date</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">1337</span><span style="color:var(--shiki-color-text);">, time.January, </span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, time.UTC)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	b </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> bytes.Buffer{}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	clockface.</span><span style="color:var(--shiki-token-function);">SVGWriter</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-keyword);">&amp;</span><span style="color:var(--shiki-color-text);">b, tm)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	svg </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> Svg{}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	xml.</span><span style="color:var(--shiki-token-function);">Unmarshal</span><span style="color:var(--shiki-color-text);">(b.</span><span style="color:var(--shiki-token-function);">Bytes</span><span style="color:var(--shiki-color-text);">(), </span><span style="color:var(--shiki-token-keyword);">&amp;</span><span style="color:var(--shiki-color-text);">svg)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	x2 </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;150&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	y2 </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;60&quot;</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, line </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> svg.Line {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> line.X2 </span><span style="color:var(--shiki-token-keyword);">==</span><span style="color:var(--shiki-color-text);"> x2 </span><span style="color:var(--shiki-token-keyword);">&amp;&amp;</span><span style="color:var(--shiki-color-text);"> line.Y2 </span><span style="color:var(--shiki-token-keyword);">==</span><span style="color:var(--shiki-color-text);"> y2 {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">return</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	t.</span><span style="color:var(--shiki-token-function);">Errorf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Expected to find the second hand with x2 of </span><span style="color:var(--shiki-token-constant);">%+v</span><span style="color:var(--shiki-token-string-expression);"> and y2 of </span><span style="color:var(--shiki-token-constant);">%+v</span><span style="color:var(--shiki-token-string-expression);">, in the SVG output </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, x2, y2, b.</span><span style="color:var(--shiki-token-function);">String</span><span style="color:var(--shiki-color-text);">())</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>We write the output of <code>clockface.SVGWriter</code> to a <code>bytes.Buffer</code>
and then <code>Unmarshal</code> it into an <code>Svg</code>. We then look at each <code>Line</code> in the <code>Svg</code>
to see if any of them have the expected <code>X2</code> and <code>Y2</code> values. If we get a match
we return early (passing the test); if not we fail with a (hopefully)
informative message.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="sh" data-theme="default"><code data-language="sh" data-theme="default"><span data-line><span style="color:var(--shiki-token-function);">./clockface_acceptance_test.go:41:2:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string);">undefined:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string);">clockface.SVGWriter</span></span></code></pre></div>
<p>Looks like we’d better create <code>SVGWriter.go</code>…</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">package</span><span style="color:var(--shiki-color-text);"> clockface</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> (</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;fmt&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;io&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;time&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> (</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	secondHandLength </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">90</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	clockCentreX     </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">150</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	clockCentreY     </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">150</span></span>
<span data-line><span style="color:var(--shiki-color-text);">)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-comment);">// SVGWriter writes an SVG representation of an analogue clock, showing the time t, to the writer w</span></span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">SVGWriter</span><span style="color:var(--shiki-color-text);">(w io.Writer, t time.Time) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	io.</span><span style="color:var(--shiki-token-function);">WriteString</span><span style="color:var(--shiki-color-text);">(w, svgStart)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	io.</span><span style="color:var(--shiki-token-function);">WriteString</span><span style="color:var(--shiki-color-text);">(w, bezel)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">secondHand</span><span style="color:var(--shiki-color-text);">(w, t)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	io.</span><span style="color:var(--shiki-token-function);">WriteString</span><span style="color:var(--shiki-color-text);">(w, svgEnd)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondHand</span><span style="color:var(--shiki-color-text);">(w io.Writer, t time.Time) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondHandPoint</span><span style="color:var(--shiki-color-text);">(t)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> Point{p.X </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> secondHandLength, p.Y </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> secondHandLength} </span><span style="color:var(--shiki-token-comment);">// scale</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> Point{p.X, </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-color-text);">p.Y}                                      </span><span style="color:var(--shiki-token-comment);">// flip</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> Point{p.X </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> clockCentreX, p.Y </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> clockCentreY}         </span><span style="color:var(--shiki-token-comment);">// translate</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	fmt.</span><span style="color:var(--shiki-token-function);">Fprintf</span><span style="color:var(--shiki-color-text);">(w, </span><span style="color:var(--shiki-token-string-expression);">`&lt;line x1=&quot;150&quot; y1=&quot;150&quot; x2=&quot;</span><span style="color:var(--shiki-token-constant);">%f</span><span style="color:var(--shiki-token-string-expression);">&quot; y2=&quot;</span><span style="color:var(--shiki-token-constant);">%f</span><span style="color:var(--shiki-token-string-expression);">&quot; style=&quot;fill:none;stroke:#f00;stroke-width:3px;&quot;/>`</span><span style="color:var(--shiki-color-text);">, p.X, p.Y)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> svgStart </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?></span></span>
<span data-line><span style="color:var(--shiki-token-string-expression);">&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;></span></span>
<span data-line><span style="color:var(--shiki-token-string-expression);">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;</span></span>
<span data-line><span style="color:var(--shiki-token-string-expression);">     width=&quot;100%&quot;</span></span>
<span data-line><span style="color:var(--shiki-token-string-expression);">     height=&quot;100%&quot;</span></span>
<span data-line><span style="color:var(--shiki-token-string-expression);">     viewBox=&quot;0 0 300 300&quot;</span></span>
<span data-line><span style="color:var(--shiki-token-string-expression);">     version=&quot;2.0&quot;>`</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> bezel </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`&lt;circle cx=&quot;150&quot; cy=&quot;150&quot; r=&quot;100&quot; style=&quot;fill:#fff;stroke:#000;stroke-width:5px;&quot;/>`</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> svgEnd </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`&lt;/svg>`</span></span></code></pre></div>
<p>The most beautiful SVG writer? No. But hopefully it’ll do the job…</p>
<pre><code>clockface_acceptance_test.go:56: Expected to find the second hand with x2 of 150 and y2 of 60, in the SVG output &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?>
    &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;>
    &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;
         width=&quot;100%&quot;
         height=&quot;100%&quot;
         viewBox=&quot;0 0 300 300&quot;
         version=&quot;2.0&quot;>&lt;circle cx=&quot;150&quot; cy=&quot;150&quot; r=&quot;100&quot; style=&quot;fill:#fff;stroke:#000;stroke-width:5px;&quot;/>&lt;line x1=&quot;150&quot; y1=&quot;150&quot; x2=&quot;150.000000&quot; y2=&quot;60.000000&quot; style=&quot;fill:none;stroke:#f00;stroke-width:3px;&quot;/>&lt;/svg>
</code></pre>
<p>Oooops! The <code>%f</code> format directive is printing our coordinates to the default
level of precision - six decimal places. We should be explicit as to what level
of precision we’re expecting for the coordinates. Let’s say three decimal
places.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-color-text);">	fmt.</span><span style="color:var(--shiki-token-function);">Fprintf</span><span style="color:var(--shiki-color-text);">(w, </span><span style="color:var(--shiki-token-string-expression);">`&lt;line x1=&quot;150&quot; y1=&quot;150&quot; x2=&quot;</span><span style="color:var(--shiki-token-constant);">%.3f</span><span style="color:var(--shiki-token-string-expression);">&quot; y2=&quot;</span><span style="color:var(--shiki-token-constant);">%.3f</span><span style="color:var(--shiki-token-string-expression);">&quot; style=&quot;fill:none;stroke:#f00;stroke-width:3px;&quot;/>`</span><span style="color:var(--shiki-color-text);">, p.X, p.Y)</span></span></code></pre></div>
<p>And after we update our expectations in the test</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-color-text);">	x2 </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;150.000&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	y2 </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;60.000&quot;</span></span></code></pre></div>
<p>We get:</p>
<pre><code>PASS
ok  	clockface	0.006s
</code></pre>
<p>We can now shorten our <code>main</code> function:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">package</span><span style="color:var(--shiki-color-text);"> main</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> (</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;os&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;time&quot;</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-string-expression);">&quot;learn-go-with-tests/math/clockface&quot;</span></span>
<span data-line><span style="color:var(--shiki-color-text);">)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">main</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	t </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> time.</span><span style="color:var(--shiki-token-function);">Now</span><span style="color:var(--shiki-color-text);">()</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	clockface.</span><span style="color:var(--shiki-token-function);">SVGWriter</span><span style="color:var(--shiki-color-text);">(os.Stdout, t)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>This is what <a href="https://github.com/quii/learn-go-with-tests/tree/main/math/v7b/clockface" class="external alias">things should look like now</a>.</p>
<p>And we can write a test for another time following the same pattern, but not
before…</p>

<h3 id="refactor-5">Refactor<a aria-hidden="true" tabindex="-1" href="#refactor-5" class="internal alias"> §</a></h3>
<p>Three things stick out:</p>
<ol>
<li>We’re not really testing for all of the information we need to ensure is
present - what about the <code>x1</code> values, for instance?</li>
<li>Also, those attributes for <code>x1</code> etc. aren’t really <code>strings</code> are they? They’re
numbers!</li>
<li>Do I really care about the <code>style</code> of the hand? Or, for that matter, the
empty <code>Text</code> node that’s been generated by <code>zak</code>?</li>
</ol>
<p>We can do better. Let’s make a few adjustments to the <code>Svg</code> struct, and the
tests, to sharpen everything up.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">type</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">SVG</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	XMLName xml.Name </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;svg&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Xmlns   </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);">   </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;xmlns,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Width   </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);">   </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;width,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Height  </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);">   </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;height,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	ViewBox </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);">   </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;viewBox,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Version </span><span style="color:var(--shiki-token-keyword);">string</span><span style="color:var(--shiki-color-text);">   </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;version,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Circle  Circle   </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;circle&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Line    []Line   </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;line&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">type</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">Circle</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Cx </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;cx,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Cy </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;cy,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	R  </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;r,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">type</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">Line</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	X1 </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;x1,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Y1 </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;y1,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	X2 </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;x2,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	Y2 </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">`xml:&quot;y2,attr&quot;`</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>Here I’ve</p>
<ul>
<li>Made the important parts of the struct named types — the <code>Line</code> and the
<code>Circle</code></li>
<li>Turned the numeric attributes into <code>float64</code>s instead of <code>string</code>s.</li>
<li>Deleted unused attributes like <code>Style</code> and <code>Text</code></li>
<li>Renamed <code>Svg</code> to <code>SVG</code> because <em>it’s the right thing to do</em>.</li>
</ul>
<p>This will let us assert more precisely on the line we’re looking for:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSVGWriterAtMidnight</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	tm </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> time.</span><span style="color:var(--shiki-token-function);">Date</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">1337</span><span style="color:var(--shiki-color-text);">, time.January, </span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, time.UTC)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	b </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> bytes.Buffer{}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	clockface.</span><span style="color:var(--shiki-token-function);">SVGWriter</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-keyword);">&amp;</span><span style="color:var(--shiki-color-text);">b, tm)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	svg </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> SVG{}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	xml.</span><span style="color:var(--shiki-token-function);">Unmarshal</span><span style="color:var(--shiki-color-text);">(b.</span><span style="color:var(--shiki-token-function);">Bytes</span><span style="color:var(--shiki-color-text);">(), </span><span style="color:var(--shiki-token-keyword);">&amp;</span><span style="color:var(--shiki-color-text);">svg)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	want </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> Line{</span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">60</span><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, line </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> svg.Line {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> line </span><span style="color:var(--shiki-token-keyword);">==</span><span style="color:var(--shiki-color-text);"> want {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">return</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	t.</span><span style="color:var(--shiki-token-function);">Errorf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Expected to find the second hand line </span><span style="color:var(--shiki-token-constant);">%+v</span><span style="color:var(--shiki-token-string-expression);">, in the SVG lines </span><span style="color:var(--shiki-token-constant);">%+v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, want, svg.Line)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>Finally we can take a leaf out of the unit tests’ tables, and we can write
a helper function <code>containsLine(line Line, lines []Line) bool</code> to really make
these tests shine:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSVGWriterSecondHand</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		line Line</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">),</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			Line{</span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">60</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">),</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			Line{</span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">240</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			b </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> bytes.Buffer{}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			clockface.</span><span style="color:var(--shiki-token-function);">SVGWriter</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-keyword);">&amp;</span><span style="color:var(--shiki-color-text);">b, c.time)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">			svg </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> SVG{}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			xml.</span><span style="color:var(--shiki-token-function);">Unmarshal</span><span style="color:var(--shiki-color-text);">(b.</span><span style="color:var(--shiki-token-function);">Bytes</span><span style="color:var(--shiki-color-text);">(), </span><span style="color:var(--shiki-token-keyword);">&amp;</span><span style="color:var(--shiki-color-text);">svg)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">!</span><span style="color:var(--shiki-token-function);">containsLine</span><span style="color:var(--shiki-color-text);">(c.line, svg.Line) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Errorf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Expected to find the second hand line </span><span style="color:var(--shiki-token-constant);">%+v</span><span style="color:var(--shiki-token-string-expression);">, in the SVG lines </span><span style="color:var(--shiki-token-constant);">%+v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.line, svg.Line)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">containsLine</span><span style="color:var(--shiki-color-text);">(l Line, ls []Line) </span><span style="color:var(--shiki-token-keyword);">bool</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, line </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> ls {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> line </span><span style="color:var(--shiki-token-keyword);">==</span><span style="color:var(--shiki-color-text);"> l {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">true</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">false</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>Here’s what <a href="https://github.com/quii/learn-go-with-tests/tree/main/math/v7c/clockface" class="external alias">it looks like</a></p>
<p>Now <em>that’s</em> what I call an acceptance test!</p>

<h3 id="write-the-test-first-4">Write the test first<a aria-hidden="true" tabindex="-1" href="#write-the-test-first-4" class="internal alias"> §</a></h3>
<p>So that’s the second hand done. Now let’s get started on the minute hand.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSVGWriterMinuteHand</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		line Line</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">),</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			Line{</span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">70</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			b </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> bytes.Buffer{}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			clockface.</span><span style="color:var(--shiki-token-function);">SVGWriter</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-keyword);">&amp;</span><span style="color:var(--shiki-color-text);">b, c.time)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">			svg </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> SVG{}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			xml.</span><span style="color:var(--shiki-token-function);">Unmarshal</span><span style="color:var(--shiki-color-text);">(b.</span><span style="color:var(--shiki-token-function);">Bytes</span><span style="color:var(--shiki-color-text);">(), </span><span style="color:var(--shiki-token-keyword);">&amp;</span><span style="color:var(--shiki-color-text);">svg)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">!</span><span style="color:var(--shiki-token-function);">containsLine</span><span style="color:var(--shiki-color-text);">(c.line, svg.Line) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Errorf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Expected to find the minute hand line </span><span style="color:var(--shiki-token-constant);">%+v</span><span style="color:var(--shiki-token-string-expression);">, in the SVG lines </span><span style="color:var(--shiki-token-constant);">%+v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.line, svg.Line)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="try-to-run-the-test-5">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-5" class="internal alias"> §</a></h3>
<pre><code>clockface_acceptance_test.go:87: Expected to find the minute hand line {X1:150 Y1:150 X2:150 Y2:70}, in the SVG lines [{X1:150 Y1:150 X2:150 Y2:60}]
</code></pre>
<p>We’d better start building some other clock hands, Much in the same way as we
produced the tests for the second hand, we can iterate to produce the following
set of tests. Again we’ll comment out our acceptance test while we get this
working:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestMinutesInRadians</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time  time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		angle </span><span style="color:var(--shiki-token-keyword);">float64</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), math.Pi},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">minutesInRadians</span><span style="color:var(--shiki-color-text);">(c.time)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> got </span><span style="color:var(--shiki-token-keyword);">!=</span><span style="color:var(--shiki-color-text);"> c.angle {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> radians, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.angle, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="try-to-run-the-test-6">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-6" class="internal alias"> §</a></h3>
<pre><code>./clockface_test.go:59:11: undefined: minutesInRadians
</code></pre>
<h3 id="write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-3">Write the minimal amount of code for the test to run and check the failing test output<a aria-hidden="true" tabindex="-1" href="#write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-3" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">minutesInRadians</span><span style="color:var(--shiki-color-text);">(t time.Time) </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> math.Pi</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="repeat-for-new-requirements-5">Repeat for new requirements<a aria-hidden="true" tabindex="-1" href="#repeat-for-new-requirements-5" class="internal alias"> §</a></h3>
<p>Well, OK - now let’s make ourselves do some <em>real</em> work. We could model the
minute hand as only moving every full minute - so that it ‘jumps’ from 30 to 31
minutes past without moving in between. But that would look a bit rubbish. What
we want it to do is move a <em>tiny little bit</em> every second.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestMinutesInRadians</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time  time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		angle </span><span style="color:var(--shiki-token-keyword);">float64</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), math.Pi},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">7</span><span style="color:var(--shiki-color-text);">), </span><span style="color:var(--shiki-token-constant);">7</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> (math.Pi </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">60</span><span style="color:var(--shiki-color-text);">))},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">minutesInRadians</span><span style="color:var(--shiki-color-text);">(c.time)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> got </span><span style="color:var(--shiki-token-keyword);">!=</span><span style="color:var(--shiki-color-text);"> c.angle {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> radians, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.angle, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>How much is that tiny little bit? Well…</p>
<ul>
<li>Sixty seconds in a minute</li>
<li>thirty minutes in a half turn of the circle (<code>math.Pi</code> radians)</li>
<li>so <code>30 * 60</code> seconds in a half turn.</li>
<li>So if the time is 7 seconds past the hour …</li>
<li>… we’re expecting to see the minute hand at <code>7 * (math.Pi / (30 * 60))</code>
radians past the 12.</li>
</ul>
<h3 id="try-to-run-the-test-7">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-7" class="internal alias"> §</a></h3>
<pre><code>clockface_test.go:62: Wanted 0.012217304763960306 radians, but got 3.141592653589793
</code></pre>
<h3 id="write-enough-code-to-make-it-pass-5">Write enough code to make it pass<a aria-hidden="true" tabindex="-1" href="#write-enough-code-to-make-it-pass-5" class="internal alias"> §</a></h3>
<p>In the immortal words of Jennifer Aniston: <a href="https://www.youtube.com/watch?v=29Im23SPNok" class="external alias">Here comes the science bit</a></p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">minutesInRadians</span><span style="color:var(--shiki-color-text);">(t time.Time) </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-function);">secondsInRadians</span><span style="color:var(--shiki-color-text);">(t) </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">60</span><span style="color:var(--shiki-color-text);">) </span><span style="color:var(--shiki-token-keyword);">+</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		(math.Pi </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">float64</span><span style="color:var(--shiki-color-text);">(t.</span><span style="color:var(--shiki-token-function);">Minute</span><span style="color:var(--shiki-color-text);">())))</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>Rather than working out how far to push the minute hand around the clockface for
every second from scratch, here we can just leverage the <code>secondsInRadians</code>
function. For every second the minute hand will move 1/60th of the angle the
second hand moves.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-function);">secondsInRadians</span><span style="color:var(--shiki-color-text);">(t) </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">60</span></span></code></pre></div>
<p>Then we just add on the movement for the minutes - similar to the movement of
the second hand.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-color-text);">math.Pi </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">float64</span><span style="color:var(--shiki-color-text);">(t.</span><span style="color:var(--shiki-token-function);">Minute</span><span style="color:var(--shiki-color-text);">()))</span></span></code></pre></div>
<p>And…</p>
<pre><code>PASS
ok  	clockface	0.007s
</code></pre>
<p>Nice and easy. This is what things <a href="https://github.com/quii/learn-go-with-tests/tree/main/math/v8/clockface/clockface_acceptance_test.go" class="external alias">look like now</a></p>
<h3 id="repeat-for-new-requirements-6">Repeat for new requirements<a aria-hidden="true" tabindex="-1" href="#repeat-for-new-requirements-6" class="internal alias"> §</a></h3>
<p>Should I add more cases to the <code>minutesInRadians</code> test? At the moment there are
only two. How many cases do I need before I move on to the testing the
<code>minuteHandPoint</code> function?</p>
<p>One of my favourite TDD quotes, often attributed to Kent Beck,<sup><a href="#user-content-fn-3" id="user-content-fnref-3" data-footnote-ref aria-describedby="footnote-label" class="internal alias">3</a></sup> is</p>
<blockquote>
<p>Write tests until fear is transformed into boredom.</p>
</blockquote>
<p>And, frankly, I’m bored of testing that function. I’m confident I know how it
works. So it’s on to the next one.</p>

<h3 id="write-the-test-first-5">Write the test first<a aria-hidden="true" tabindex="-1" href="#write-the-test-first-5" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestMinuteHandPoint</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time  time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		point Point</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), Point{</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">}},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">minuteHandPoint</span><span style="color:var(--shiki-color-text);">(c.time)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">!</span><span style="color:var(--shiki-token-function);">roughlyEqualPoint</span><span style="color:var(--shiki-color-text);">(got, c.point) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> Point, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.point, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="try-to-run-the-test-8">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-8" class="internal alias"> §</a></h3>
<pre><code>./clockface_test.go:79:11: undefined: minuteHandPoint
</code></pre>
<h3 id="write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-4">Write the minimal amount of code for the test to run and check the failing test output<a aria-hidden="true" tabindex="-1" href="#write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-4" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">minuteHandPoint</span><span style="color:var(--shiki-color-text);">(t time.Time) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> Point{}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<pre><code>clockface_test.go:80: Wanted {0 -1} Point, but got {0 0}
</code></pre>
<h3 id="write-enough-code-to-make-it-pass-6">Write enough code to make it pass<a aria-hidden="true" tabindex="-1" href="#write-enough-code-to-make-it-pass-6" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">minuteHandPoint</span><span style="color:var(--shiki-color-text);">(t time.Time) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> Point{</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<pre><code>PASS
ok  	clockface	0.007s
</code></pre>
<h3 id="repeat-for-new-requirements-7">Repeat for new requirements<a aria-hidden="true" tabindex="-1" href="#repeat-for-new-requirements-7" class="internal alias"> §</a></h3>
<p>And now for some actual work</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestMinuteHandPoint</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time  time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		point Point</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), Point{</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">}},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">45</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), Point{</span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">}},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">minuteHandPoint</span><span style="color:var(--shiki-color-text);">(c.time)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">!</span><span style="color:var(--shiki-token-function);">roughlyEqualPoint</span><span style="color:var(--shiki-color-text);">(got, c.point) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> Point, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.point, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<pre><code>clockface_test.go:81: Wanted {-1 0} Point, but got {0 -1}
</code></pre>
<h3 id="write-enough-code-to-make-it-pass-7">Write enough code to make it pass<a aria-hidden="true" tabindex="-1" href="#write-enough-code-to-make-it-pass-7" class="internal alias"> §</a></h3>
<p>A quick copy and paste of the <code>secondHandPoint</code> function with some minor changes
ought to do it…</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">minuteHandPoint</span><span style="color:var(--shiki-color-text);">(t time.Time) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	angle </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">minutesInRadians</span><span style="color:var(--shiki-color-text);">(t)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	x </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> math.</span><span style="color:var(--shiki-token-function);">Sin</span><span style="color:var(--shiki-color-text);">(angle)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	y </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> math.</span><span style="color:var(--shiki-token-function);">Cos</span><span style="color:var(--shiki-color-text);">(angle)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> Point{x, y}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<pre><code>PASS
ok  	clockface	0.009s
</code></pre>
<h3 id="refactor-6">Refactor<a aria-hidden="true" tabindex="-1" href="#refactor-6" class="internal alias"> §</a></h3>
<p>We’ve definitely got a bit of repetition in the <code>minuteHandPoint</code> and
<code>secondHandPoint</code> - I know because we just copied and pasted one to make the
other. Let’s DRY it out with a function.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">angleToPoint</span><span style="color:var(--shiki-color-text);">(angle </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);">) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	x </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> math.</span><span style="color:var(--shiki-token-function);">Sin</span><span style="color:var(--shiki-color-text);">(angle)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	y </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> math.</span><span style="color:var(--shiki-token-function);">Cos</span><span style="color:var(--shiki-color-text);">(angle)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> Point{x, y}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>and we can rewrite <code>minuteHandPoint</code> and <code>secondHandPoint</code> as one liners:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">minuteHandPoint</span><span style="color:var(--shiki-color-text);">(t time.Time) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">angleToPoint</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">minutesInRadians</span><span style="color:var(--shiki-color-text);">(t))</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondHandPoint</span><span style="color:var(--shiki-color-text);">(t time.Time) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">angleToPoint</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">secondsInRadians</span><span style="color:var(--shiki-color-text);">(t))</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<pre><code>PASS
ok  	clockface	0.007s
</code></pre>
<p>Now we can uncomment the acceptance test and get to work drawing the minute
hand.</p>
<h3 id="write-enough-code-to-make-it-pass-8">Write enough code to make it pass<a aria-hidden="true" tabindex="-1" href="#write-enough-code-to-make-it-pass-8" class="internal alias"> §</a></h3>
<p>The <code>minuteHand</code> function is a copy-and-paste of <code>secondHand</code> with some
minor adjustments, such as declaring a <code>minuteHandLength</code>:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> minuteHandLength </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">80</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-comment);">//...</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">minuteHand</span><span style="color:var(--shiki-color-text);">(w io.Writer, t time.Time) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">minuteHandPoint</span><span style="color:var(--shiki-color-text);">(t)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> Point{p.X </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> minuteHandLength, p.Y </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> minuteHandLength}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> Point{p.X, </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-color-text);">p.Y}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> Point{p.X </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> clockCentreX, p.Y </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> clockCentreY}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	fmt.</span><span style="color:var(--shiki-token-function);">Fprintf</span><span style="color:var(--shiki-color-text);">(w, </span><span style="color:var(--shiki-token-string-expression);">`&lt;line x1=&quot;150&quot; y1=&quot;150&quot; x2=&quot;</span><span style="color:var(--shiki-token-constant);">%.3f</span><span style="color:var(--shiki-token-string-expression);">&quot; y2=&quot;</span><span style="color:var(--shiki-token-constant);">%.3f</span><span style="color:var(--shiki-token-string-expression);">&quot; style=&quot;fill:none;stroke:#000;stroke-width:3px;&quot;/>`</span><span style="color:var(--shiki-color-text);">, p.X, p.Y)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>And a call to it in our <code>SVGWriter</code> function:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">SVGWriter</span><span style="color:var(--shiki-color-text);">(w io.Writer, t time.Time) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	io.</span><span style="color:var(--shiki-token-function);">WriteString</span><span style="color:var(--shiki-color-text);">(w, svgStart)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	io.</span><span style="color:var(--shiki-token-function);">WriteString</span><span style="color:var(--shiki-color-text);">(w, bezel)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">secondHand</span><span style="color:var(--shiki-color-text);">(w, t)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">minuteHand</span><span style="color:var(--shiki-color-text);">(w, t)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	io.</span><span style="color:var(--shiki-token-function);">WriteString</span><span style="color:var(--shiki-color-text);">(w, svgEnd)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>Now we should see that <code>TestSVGWriterMinuteHand</code> passes:</p>
<pre><code>PASS
ok  	clockface	0.006s
</code></pre>
<p>But the proof of the pudding is in the eating - if we now compile and run our
<code>clockface</code> program, we should see something like</p>
<p><img src="../../../../math/v9/clockface/clockface/clock.svg" alt="a clock with second and minute hands"/></p>
<h3 id="refactor-7">Refactor<a aria-hidden="true" tabindex="-1" href="#refactor-7" class="internal alias"> §</a></h3>
<p>Let’s remove the duplication from the <code>secondHand</code> and <code>minuteHand</code> functions,
putting all of that scale, flip and translate logic all in one place.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">secondHand</span><span style="color:var(--shiki-color-text);">(w io.Writer, t time.Time) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">makeHand</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">secondHandPoint</span><span style="color:var(--shiki-color-text);">(t), secondHandLength)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	fmt.</span><span style="color:var(--shiki-token-function);">Fprintf</span><span style="color:var(--shiki-color-text);">(w, </span><span style="color:var(--shiki-token-string-expression);">`&lt;line x1=&quot;150&quot; y1=&quot;150&quot; x2=&quot;</span><span style="color:var(--shiki-token-constant);">%.3f</span><span style="color:var(--shiki-token-string-expression);">&quot; y2=&quot;</span><span style="color:var(--shiki-token-constant);">%.3f</span><span style="color:var(--shiki-token-string-expression);">&quot; style=&quot;fill:none;stroke:#f00;stroke-width:3px;&quot;/>`</span><span style="color:var(--shiki-color-text);">, p.X, p.Y)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">minuteHand</span><span style="color:var(--shiki-color-text);">(w io.Writer, t time.Time) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">makeHand</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">minuteHandPoint</span><span style="color:var(--shiki-color-text);">(t), minuteHandLength)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	fmt.</span><span style="color:var(--shiki-token-function);">Fprintf</span><span style="color:var(--shiki-color-text);">(w, </span><span style="color:var(--shiki-token-string-expression);">`&lt;line x1=&quot;150&quot; y1=&quot;150&quot; x2=&quot;</span><span style="color:var(--shiki-token-constant);">%.3f</span><span style="color:var(--shiki-token-string-expression);">&quot; y2=&quot;</span><span style="color:var(--shiki-token-constant);">%.3f</span><span style="color:var(--shiki-token-string-expression);">&quot; style=&quot;fill:none;stroke:#000;stroke-width:3px;&quot;/>`</span><span style="color:var(--shiki-color-text);">, p.X, p.Y)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">makeHand</span><span style="color:var(--shiki-color-text);">(p Point, length </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);">) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> Point{p.X </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> length, p.Y </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> length}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> Point{p.X, </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-color-text);">p.Y}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> Point{p.X </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> clockCentreX, p.Y </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> clockCentreY}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<pre><code>PASS
ok  	clockface	0.007s
</code></pre>
<p>This is <a href="https://github.com/quii/learn-go-with-tests/tree/main/math/v9/clockface" class="external alias">where we’re up to now</a>.</p>
<p>There… now it’s just the hour hand to do!</p>

<h3 id="write-the-test-first-6">Write the test first<a aria-hidden="true" tabindex="-1" href="#write-the-test-first-6" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSVGWriterHourHand</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		line Line</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">6</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">),</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			Line{</span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">200</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			b </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> bytes.Buffer{}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			clockface.</span><span style="color:var(--shiki-token-function);">SVGWriter</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-keyword);">&amp;</span><span style="color:var(--shiki-color-text);">b, c.time)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">			svg </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> SVG{}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			xml.</span><span style="color:var(--shiki-token-function);">Unmarshal</span><span style="color:var(--shiki-color-text);">(b.</span><span style="color:var(--shiki-token-function);">Bytes</span><span style="color:var(--shiki-color-text);">(), </span><span style="color:var(--shiki-token-keyword);">&amp;</span><span style="color:var(--shiki-color-text);">svg)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">!</span><span style="color:var(--shiki-token-function);">containsLine</span><span style="color:var(--shiki-color-text);">(c.line, svg.Line) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Errorf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Expected to find the hour hand line </span><span style="color:var(--shiki-token-constant);">%+v</span><span style="color:var(--shiki-token-string-expression);">, in the SVG lines </span><span style="color:var(--shiki-token-constant);">%+v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.line, svg.Line)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="try-to-run-the-test-9">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-9" class="internal alias"> §</a></h3>
<pre><code>clockface_acceptance_test.go:113: Expected to find the hour hand line {X1:150 Y1:150 X2:150 Y2:200}, in the SVG lines [{X1:150 Y1:150 X2:150 Y2:60} {X1:150 Y1:150 X2:150 Y2:70}]
</code></pre>
<p>Again, let’s comment this one out until we’ve got the some coverage with the
lower level tests:</p>
<h3 id="write-the-test-first-7">Write the test first<a aria-hidden="true" tabindex="-1" href="#write-the-test-first-7" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestHoursInRadians</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time  time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		angle </span><span style="color:var(--shiki-token-keyword);">float64</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">6</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), math.Pi},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">hoursInRadians</span><span style="color:var(--shiki-color-text);">(c.time)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> got </span><span style="color:var(--shiki-token-keyword);">!=</span><span style="color:var(--shiki-color-text);"> c.angle {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> radians, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.angle, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="try-to-run-the-test-10">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-10" class="internal alias"> §</a></h3>
<pre><code>./clockface_test.go:97:11: undefined: hoursInRadians
</code></pre>
<h3 id="write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-5">Write the minimal amount of code for the test to run and check the failing test output<a aria-hidden="true" tabindex="-1" href="#write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-5" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">hoursInRadians</span><span style="color:var(--shiki-color-text);">(t time.Time) </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> math.Pi</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<pre><code>PASS
ok  	clockface	0.007s
</code></pre>
<h3 id="repeat-for-new-requirements-8">Repeat for new requirements<a aria-hidden="true" tabindex="-1" href="#repeat-for-new-requirements-8" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestHoursInRadians</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time  time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		angle </span><span style="color:var(--shiki-token-keyword);">float64</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">6</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), math.Pi},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">hoursInRadians</span><span style="color:var(--shiki-color-text);">(c.time)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> got </span><span style="color:var(--shiki-token-keyword);">!=</span><span style="color:var(--shiki-color-text);"> c.angle {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> radians, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.angle, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="try-to-run-the-test-11">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-11" class="internal alias"> §</a></h3>
<pre><code>clockface_test.go:100: Wanted 0 radians, but got 3.141592653589793
</code></pre>
<h3 id="write-enough-code-to-make-it-pass-9">Write enough code to make it pass<a aria-hidden="true" tabindex="-1" href="#write-enough-code-to-make-it-pass-9" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">hoursInRadians</span><span style="color:var(--shiki-color-text);">(t time.Time) </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> (math.Pi </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-constant);">6</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">float64</span><span style="color:var(--shiki-color-text);">(t.</span><span style="color:var(--shiki-token-function);">Hour</span><span style="color:var(--shiki-color-text);">())))</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="repeat-for-new-requirements-9">Repeat for new requirements<a aria-hidden="true" tabindex="-1" href="#repeat-for-new-requirements-9" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestHoursInRadians</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time  time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		angle </span><span style="color:var(--shiki-token-keyword);">float64</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">6</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), math.Pi},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">21</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), math.Pi </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">1.5</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">hoursInRadians</span><span style="color:var(--shiki-color-text);">(c.time)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> got </span><span style="color:var(--shiki-token-keyword);">!=</span><span style="color:var(--shiki-color-text);"> c.angle {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> radians, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.angle, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="try-to-run-the-test-12">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-12" class="internal alias"> §</a></h3>
<pre><code>clockface_test.go:101: Wanted 4.71238898038469 radians, but got 10.995574287564276
</code></pre>
<h3 id="write-enough-code-to-make-it-pass-10">Write enough code to make it pass<a aria-hidden="true" tabindex="-1" href="#write-enough-code-to-make-it-pass-10" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">hoursInRadians</span><span style="color:var(--shiki-color-text);">(t time.Time) </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> (math.Pi </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-constant);">6</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-function);">float64</span><span style="color:var(--shiki-color-text);">(t.</span><span style="color:var(--shiki-token-function);">Hour</span><span style="color:var(--shiki-color-text);">() </span><span style="color:var(--shiki-token-keyword);">%</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">12</span><span style="color:var(--shiki-color-text);">))))</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>Remember, this is not a 24-hour clock; we have to use the remainder operator to
get the remainder of the current hour divided by 12.</p>
<pre><code>PASS
ok  	learn-go-with-tests/math/clockface	0.008s
</code></pre>
<h3 id="write-the-test-first-8">Write the test first<a aria-hidden="true" tabindex="-1" href="#write-the-test-first-8" class="internal alias"> §</a></h3>
<p>Now let’s try to move the hour hand around the clockface based on the minutes
and the seconds that have passed.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestHoursInRadians</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time  time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		angle </span><span style="color:var(--shiki-token-keyword);">float64</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">6</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), math.Pi},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">21</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), math.Pi </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">1.5</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">), math.Pi </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> ((</span><span style="color:var(--shiki-token-constant);">6</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">60</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">60</span><span style="color:var(--shiki-color-text);">) </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">90</span><span style="color:var(--shiki-color-text);">)},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">hoursInRadians</span><span style="color:var(--shiki-color-text);">(c.time)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> got </span><span style="color:var(--shiki-token-keyword);">!=</span><span style="color:var(--shiki-color-text);"> c.angle {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> radians, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.angle, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="try-to-run-the-test-13">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-13" class="internal alias"> §</a></h3>
<pre><code>clockface_test.go:102: Wanted 0.013089969389957472 radians, but got 0
</code></pre>
<h3 id="write-enough-code-to-make-it-pass-11">Write enough code to make it pass<a aria-hidden="true" tabindex="-1" href="#write-enough-code-to-make-it-pass-11" class="internal alias"> §</a></h3>
<p>Again, a bit of thinking is now required. We need to move the hour hand along
a little bit for both the minutes and the seconds. Luckily we have an angle
already to hand for the minutes and the seconds - the one returned by
<code>minutesInRadians</code>. We can reuse it!</p>
<p>So the only question is by what factor to reduce the size of that angle. One
full turn is one hour for the minute hand, but for the hour hand it’s twelve
hours. So we just divide the angle returned by <code>minutesInRadians</code> by twelve:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">hoursInRadians</span><span style="color:var(--shiki-color-text);">(t time.Time) </span><span style="color:var(--shiki-token-keyword);">float64</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-function);">minutesInRadians</span><span style="color:var(--shiki-color-text);">(t) </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">12</span><span style="color:var(--shiki-color-text);">) </span><span style="color:var(--shiki-token-keyword);">+</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		(math.Pi </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-constant);">6</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">float64</span><span style="color:var(--shiki-color-text);">(t.</span><span style="color:var(--shiki-token-function);">Hour</span><span style="color:var(--shiki-color-text);">()</span><span style="color:var(--shiki-token-keyword);">%</span><span style="color:var(--shiki-token-constant);">12</span><span style="color:var(--shiki-color-text);">)))</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>and behold:</p>
<pre><code>clockface_test.go:104: Wanted 0.013089969389957472 radians, but got 0.01308996938995747
</code></pre>
<p>Floating point arithmetic strikes again.</p>
<p>Let’s update our test to use <code>roughlyEqualFloat64</code> for the comparison of the
angles.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestHoursInRadians</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time  time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		angle </span><span style="color:var(--shiki-token-keyword);">float64</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">6</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), math.Pi},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">21</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), math.Pi </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">1.5</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">30</span><span style="color:var(--shiki-color-text);">), math.Pi </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> ((</span><span style="color:var(--shiki-token-constant);">6</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">60</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">60</span><span style="color:var(--shiki-color-text);">) </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">90</span><span style="color:var(--shiki-color-text);">)},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">hoursInRadians</span><span style="color:var(--shiki-color-text);">(c.time)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">!</span><span style="color:var(--shiki-token-function);">roughlyEqualFloat64</span><span style="color:var(--shiki-color-text);">(got, c.angle) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> radians, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.angle, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<pre><code>PASS
ok  	clockface	0.007s
</code></pre>
<h3 id="refactor-8">Refactor<a aria-hidden="true" tabindex="-1" href="#refactor-8" class="internal alias"> §</a></h3>
<p>If we’re going to use <code>roughlyEqualFloat64</code> in <em>one</em> of our radians tests, we
should probably use it for <em>all</em> of them. That’s a nice and simple refactor,
which will leave things <a href="https://github.com/quii/learn-go-with-tests/tree/main/math/v10/clockface" class="external alias">looking like this</a>.</p>

<h2 id="hour-hand-point">Hour Hand Point<a aria-hidden="true" tabindex="-1" href="#hour-hand-point" class="internal alias"> §</a></h2>
<p>Right, it’s time to calculate where the hour hand point is going to go by
working out the unit vector.</p>
<h3 id="write-the-test-first-9">Write the test first<a aria-hidden="true" tabindex="-1" href="#write-the-test-first-9" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestHourHandPoint</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time  time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		point Point</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">6</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), Point{</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">}},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">21</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">), Point{</span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">}},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			got </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">hourHandPoint</span><span style="color:var(--shiki-color-text);">(c.time)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">!</span><span style="color:var(--shiki-token-function);">roughlyEqualPoint</span><span style="color:var(--shiki-color-text);">(got, c.point) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Fatalf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Wanted </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);"> Point, but got </span><span style="color:var(--shiki-token-constant);">%v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.point, got)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>Wait, am I going to write <em>two</em> test cases <em>at once</em>? Isn’t this <em>bad TDD</em>?</p>
<h3 id="on-tdd-zealotry">On TDD Zealotry<a aria-hidden="true" tabindex="-1" href="#on-tdd-zealotry" class="internal alias"> §</a></h3>
<p>Test driven development is not a religion. Some people might
act like it is - usually people who don’t do TDD but are happy to moan
on Twitter or Dev.to that it’s only done by zealots and that they’re ‘being
pragmatic’ when they don’t write tests. But it’s not a religion. It’s a tool.</p>
<p>I <em>know</em> what the two tests are going to be - I’ve tested two other clock hands
in exactly the same way - and I already know what my implementation is going to
be - I wrote a function for the general case of changing an angle into a point
in the minute hand iteration.</p>
<p>I’m not going to plough through TDD ceremony for the sake of it. TDD is a
technique that helps me understand the code I’m writing - and the code that
I’m going to write - better. TDD gives me feedback, knowledge and insight.
But if I’ve already got that knowledge, then I’m not going to plough
through the ceremony for no reason. Neither tests nor TDD are an end in themselves.</p>
<p>My confidence has increased, so I feel I can make larger strides forward. I’m
going to ‘skip’ a few steps, because I know where I am, I know where I’m going
and I’ve been down this road before.</p>
<p>But also note: I’m not skipping writing the tests entirely - I’m still
writing them first. They’re just appearing in less granular chunks.</p>
<h3 id="try-to-run-the-test-14">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-14" class="internal alias"> §</a></h3>
<pre><code>./clockface_test.go:119:11: undefined: hourHandPoint
</code></pre>
<h3 id="write-enough-code-to-make-it-pass-12">Write enough code to make it pass<a aria-hidden="true" tabindex="-1" href="#write-enough-code-to-make-it-pass-12" class="internal alias"> §</a></h3>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">hourHandPoint</span><span style="color:var(--shiki-color-text);">(t time.Time) Point {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">angleToPoint</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">hoursInRadians</span><span style="color:var(--shiki-color-text);">(t))</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<p>As I said, I know where I am, and I know where I’m going. Why pretend otherwise?
The tests will soon tell me if I’m wrong.</p>
<pre><code>PASS
ok  	learn-go-with-tests/math/clockface	0.009s
</code></pre>

<h2 id="draw-the-hour-hand">Draw the hour hand<a aria-hidden="true" tabindex="-1" href="#draw-the-hour-hand" class="internal alias"> §</a></h2>
<p>And finally we get to draw in the hour hand. We can bring in that acceptance
test by uncommenting it:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">TestSVGWriterHourHand</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	cases </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> []</span><span style="color:var(--shiki-token-keyword);">struct</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		time time.Time</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		line Line</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		{</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-function);">simpleTime</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">6</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">),</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			Line{</span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">150</span><span style="color:var(--shiki-color-text);">, </span><span style="color:var(--shiki-token-constant);">200</span><span style="color:var(--shiki-color-text);">},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		},</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">for</span><span style="color:var(--shiki-color-text);"> _, c </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">range</span><span style="color:var(--shiki-color-text);"> cases {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		t.</span><span style="color:var(--shiki-token-function);">Run</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">testName</span><span style="color:var(--shiki-color-text);">(c.time), </span><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);">(t </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">testing.T) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			b </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> bytes.Buffer{}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			clockface.</span><span style="color:var(--shiki-token-function);">SVGWriter</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-keyword);">&amp;</span><span style="color:var(--shiki-color-text);">b, c.time)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">			svg </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> SVG{}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			xml.</span><span style="color:var(--shiki-token-function);">Unmarshal</span><span style="color:var(--shiki-color-text);">(b.</span><span style="color:var(--shiki-token-function);">Bytes</span><span style="color:var(--shiki-color-text);">(), </span><span style="color:var(--shiki-token-keyword);">&amp;</span><span style="color:var(--shiki-color-text);">svg)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">!</span><span style="color:var(--shiki-token-function);">containsLine</span><span style="color:var(--shiki-color-text);">(c.line, svg.Line) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">				t.</span><span style="color:var(--shiki-token-function);">Errorf</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;Expected to find the hour hand line </span><span style="color:var(--shiki-token-constant);">%+v</span><span style="color:var(--shiki-token-string-expression);">, in the SVG lines </span><span style="color:var(--shiki-token-constant);">%+v</span><span style="color:var(--shiki-token-string-expression);">&quot;</span><span style="color:var(--shiki-color-text);">, c.line, svg.Line)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">			}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">		})</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	}</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div>
<h3 id="try-to-run-the-test-15">Try to run the test<a aria-hidden="true" tabindex="-1" href="#try-to-run-the-test-15" class="internal alias"> §</a></h3>
<pre><code>clockface_acceptance_test.go:113: Expected to find the hour hand line {X1:150 Y1:150 X2:150 Y2:200},
    in the SVG lines [{X1:150 Y1:150 X2:150 Y2:60} {X1:150 Y1:150 X2:150 Y2:70}]
</code></pre>
<h3 id="write-enough-code-to-make-it-pass-13">Write enough code to make it pass<a aria-hidden="true" tabindex="-1" href="#write-enough-code-to-make-it-pass-13" class="internal alias"> §</a></h3>
<p>And we can now make our final adjustments to the SVG writing constants and functions:</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> (</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	secondHandLength </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">90</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	minuteHandLength </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">80</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	hourHandLength   </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">50</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	clockCentreX     </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">150</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	clockCentreY     </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">150</span></span>
<span data-line><span style="color:var(--shiki-color-text);">)</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-comment);">// SVGWriter writes an SVG representation of an analogue clock, showing the time t, to the writer w</span></span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">SVGWriter</span><span style="color:var(--shiki-color-text);">(w io.Writer, t time.Time) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	io.</span><span style="color:var(--shiki-token-function);">WriteString</span><span style="color:var(--shiki-color-text);">(w, svgStart)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	io.</span><span style="color:var(--shiki-token-function);">WriteString</span><span style="color:var(--shiki-color-text);">(w, bezel)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">secondHand</span><span style="color:var(--shiki-color-text);">(w, t)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">minuteHand</span><span style="color:var(--shiki-color-text);">(w, t)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">hourHand</span><span style="color:var(--shiki-color-text);">(w, t)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	io.</span><span style="color:var(--shiki-token-function);">WriteString</span><span style="color:var(--shiki-color-text);">(w, svgEnd)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-comment);">// ...</span></span>
<span data-line> </span>
<span data-line><span style="color:var(--shiki-token-keyword);">func</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">hourHand</span><span style="color:var(--shiki-color-text);">(w io.Writer, t time.Time) {</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	p </span><span style="color:var(--shiki-token-keyword);">:=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">makeHand</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">hourHandPoint</span><span style="color:var(--shiki-color-text);">(t), hourHandLength)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	fmt.</span><span style="color:var(--shiki-token-function);">Fprintf</span><span style="color:var(--shiki-color-text);">(w, </span><span style="color:var(--shiki-token-string-expression);">`&lt;line x1=&quot;150&quot; y1=&quot;150&quot; x2=&quot;</span><span style="color:var(--shiki-token-constant);">%.3f</span><span style="color:var(--shiki-token-string-expression);">&quot; y2=&quot;</span><span style="color:var(--shiki-token-constant);">%.3f</span><span style="color:var(--shiki-token-string-expression);">&quot; style=&quot;fill:none;stroke:#000;stroke-width:3px;&quot;/>`</span><span style="color:var(--shiki-color-text);">, p.X, p.Y)</span></span>
<span data-line><span style="color:var(--shiki-color-text);">}</span></span>
<span data-line> </span></code></pre></div>
<p>And so…</p>
<pre><code>ok  	clockface	0.007s
</code></pre>
<p>Let’s just check by compiling and running our <code>clockface</code> program.</p>
<p><img src="../../../../math/v12/clockface/clockface/clock.svg" alt="a clock"/></p>
<h3 id="refactor-9">Refactor<a aria-hidden="true" tabindex="-1" href="#refactor-9" class="internal alias"> §</a></h3>
<p>Looking at <code>clockface.go</code>, there are a few ‘magic numbers’ floating about. They
are all based around how many hours/minutes/seconds there are in a half-turn
around a clockface. Let’s refactor so that we make explicit their meaning.</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="go" data-theme="default"><code data-language="go" data-theme="default"><span data-line><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> (</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	secondsInHalfClock </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">30</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	secondsInClock     </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">2</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> secondsInHalfClock</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	minutesInHalfClock </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">30</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	minutesInClock     </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">2</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> minutesInHalfClock</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	hoursInHalfClock   </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">6</span></span>
<span data-line><span style="color:var(--shiki-color-text);">	hoursInClock       </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">2</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);"> hoursInHalfClock</span></span>
<span data-line><span style="color:var(--shiki-color-text);">)</span></span></code></pre></div>
<p>Why do this? Well, it makes explicit what each number <em>means</em> in the equation.
If - <em>when</em> - we come back to this code, these names will help us to understand
what’s going on.</p>
<p>Moreover, should we ever want to make some really, really WEIRD clocks - ones
with 4 hours for the hour hand, and 20 seconds for the second hand say - these
constants could easily become parameters. We’re helping to leave that door open
(even if we never go through it).</p>
<h2 id="wrapping-up">Wrapping up<a aria-hidden="true" tabindex="-1" href="#wrapping-up" class="internal alias"> §</a></h2>
<p>Do we need to do anything else?</p>
<p>First, let’s pat ourselves on the back - we’ve written a program that makes an
SVG clockface. It works and it’s great. It will only ever make one sort of
clockface - but that’s fine! Maybe you only <em>want</em> one sort of clockface.
There’s nothing wrong with a program that solves a specific problem and nothing
else.</p>
<h3 id="a-program-and-a-library">A Program… and a Library<a aria-hidden="true" tabindex="-1" href="#a-program-and-a-library" class="internal alias"> §</a></h3>
<p>But the code we’ve written <em>does</em> solve a more general set of problems to do
with drawing a clockface. Because we used tests to think about each small part
of the problem in isolation, and because we codified that isolation with
functions, we’ve built a very reasonable little API for clockface calculations.</p>
<p>We can work on this project and turn it into something more general - a library
for calculating clockface angles and/or vectors.</p>
<p>In fact, providing the library along with the program is <em>a really good idea</em>.
It costs us nothing, while increasing the utility of our program and helping to
document how it works.</p>
<blockquote>
<p>APIs should come with programs, and vice versa. An API that you must write C
code to use, which cannot be invoked easily from the command line, is harder to
learn and use. And contrariwise, it’s a royal pain to have interfaces whose
only open, documented form is a program, so you cannot invoke them easily from
a C program.
— Henry Spencer, in <em>The Art of Unix Programming</em></p>
</blockquote>
<p>In <a href="https://github.com/quii/learn-go-with-tests/tree/main/math/vFinal/clockface" class="external alias">my final take on this program</a>, I’ve made the
unexported functions within <code>clockface</code> into a public API for the library, with
functions to calculate the angle and unit vector for each of the clock hands.
I’ve also split the SVG generation part into its own package, <code>svg</code>, which is
then used by the <code>clockface</code> program directly. Naturally I’ve documented each of
the functions and packages.</p>
<p>Talking about SVGs…</p>
<h3 id="the-most-valuable-test">The Most Valuable Test<a aria-hidden="true" tabindex="-1" href="#the-most-valuable-test" class="internal alias"> §</a></h3>
<p>I’m sure you’ve noticed that the most sophisticated piece of code for handling
SVGs isn’t in our application code at all; it’s in the test code. Should this
make us feel uncomfortable? Shouldn’t we do something like</p>
<ul>
<li>use a template from <code>text/template</code>?</li>
<li>use an XML library (much as we’re doing in our test)?</li>
<li>use an SVG library?</li>
</ul>
<p>We could refactor our code to do any of these things, and we can do so because
it doesn’t matter <em>how</em> we produce our SVG, what is important is <em>what</em> we
produce -  <em>an SVG</em>. As such, the part of our system that needs to know
the most about SVGs - that needs to be the strictest about what constitutes an
SVG - is the test for the SVG output: it needs to have enough context and
knowledge about what an SVG is for us to be confident that we’re outputting an
SVG. The <em>what</em> of an SVG lives in our tests; the <em>how</em> in the code.</p>
<p>We may have felt odd that we were pouring a lot of time and effort into those
SVG tests - importing an XML library, parsing XML, refactoring the structs - but
that test code is a valuable part of our codebase - possibly more valuable than
the current production code. It will help guarantee that the output is always
a valid SVG, no matter what we choose to use to produce it.</p>
<p>Tests are not second class citizens - they are not ‘throwaway’ code. Good tests
will last a lot longer than the version of the code they are
testing. You should never feel like you’re spending ‘too much time’ writing your
tests. It is an investment.</p>
<section data-footnotes class="footnotes"><h2 class="sr-only" id="footnote-label">Footnotes<a aria-hidden="true" tabindex="-1" href="#footnote-label" class="internal alias"> §</a></h2>
<ol>
<li id="user-content-fn-2">
<p>In short it makes it easier to do calculus with circles as π just keeps coming up as an angle if you use normal degrees, so if you count your angles in πs it makes all the equations simpler. <a href="#user-content-fnref-2" data-footnote-backref class="data-footnote-backref internal alias" aria-label="Back to content">↩</a></p>
</li>
<li id="user-content-fn-1">
<p>This is a lot easier than writing a name out by hand as a string and then having to keep it in sync with the actual time. Believe me you don’t want to do that… <a href="#user-content-fnref-1" data-footnote-backref class="data-footnote-backref internal alias" aria-label="Back to content">↩</a></p>
</li>
<li id="user-content-fn-3">
<p>Misattributed because, like all great authors, Kent Beck is more quoted than read. Beck himself attributes it to <a href="http://wiki.c2.com/?PhlIp" class="external alias">Phlip</a>. <a href="#user-content-fnref-3" data-footnote-backref class="data-footnote-backref internal alias" aria-label="Back to content">↩</a></p>
</li>
</ol>
</section></article></div><div class="right sidebar"><div class="graph "><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[]}"></div><svg version="1.1" id="global-graph-icon" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xmlSpace="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
	s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
	c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
	C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
	c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
	v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
	s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
	C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
	S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
	s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
	s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[]}"></div></div></div><div class="toc desktop-only"><button type="button" id="toc" class><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content"><ul class="overflow"><li class="depth-0"><a href="#mathematics" data-for="mathematics">Mathematics</a></li><li class="depth-1"><a href="#the-problem" data-for="the-problem">The Problem</a></li><li class="depth-1"><a href="#an-acceptance-test" data-for="an-acceptance-test">An Acceptance Test</a></li><li class="depth-2"><a href="#write-the-test-first" data-for="write-the-test-first">Write the test first</a></li><li class="depth-2"><a href="#try-to-run-the-test" data-for="try-to-run-the-test">Try to run the test</a></li><li class="depth-2"><a href="#write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output" data-for="write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output">Write the minimal amount of code for the test to run and check the failing test output</a></li><li class="depth-2"><a href="#write-enough-code-to-make-it-pass" data-for="write-enough-code-to-make-it-pass">Write enough code to make it pass</a></li><li class="depth-2"><a href="#refactor" data-for="refactor">Refactor</a></li><li class="depth-2"><a href="#repeat-for-new-requirements" data-for="repeat-for-new-requirements">Repeat for new requirements</a></li><li class="depth-2"><a href="#write-the-test-first-1" data-for="write-the-test-first-1">Write the test first</a></li><li class="depth-1"><a href="#thinking-time" data-for="thinking-time">Thinking time</a></li><li class="depth-1"><a href="#math" data-for="math">Math</a></li><li class="depth-1"><a href="#math-1" data-for="math-1">math</a></li><li class="depth-2"><a href="#write-the-test-first-2" data-for="write-the-test-first-2">Write the test first</a></li><li class="depth-2"><a href="#a-recap-on-packages" data-for="a-recap-on-packages">A recap on packages</a></li><li class="depth-2"><a href="#try-to-run-the-test-1" data-for="try-to-run-the-test-1">Try to run the test</a></li><li class="depth-2"><a href="#write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-1" data-for="write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-1">Write the minimal amount of code for the test to run and check the failing test output</a></li><li class="depth-2"><a href="#write-enough-code-to-make-it-pass-1" data-for="write-enough-code-to-make-it-pass-1">Write enough code to make it pass</a></li><li class="depth-2"><a href="#refactor-1" data-for="refactor-1">Refactor</a></li><li class="depth-2"><a href="#repeat-for-new-requirements-1" data-for="repeat-for-new-requirements-1">Repeat for new requirements</a></li><li class="depth-2"><a href="#floats-are-horrible" data-for="floats-are-horrible">Floats are horrible</a></li><li class="depth-2"><a href="#a-note-on-dividing-by-zero" data-for="a-note-on-dividing-by-zero">A note on dividing by zero</a></li><li class="depth-2"><a href="#repeat-for-new-requirements-2" data-for="repeat-for-new-requirements-2">Repeat for new requirements</a></li><li class="depth-2"><a href="#write-the-test-first-3" data-for="write-the-test-first-3">Write the test first</a></li><li class="depth-2"><a href="#try-to-run-the-test-2" data-for="try-to-run-the-test-2">Try to run the test</a></li><li class="depth-2"><a href="#write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-2" data-for="write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-2">Write the minimal amount of code for the test to run and check the failing test output</a></li><li class="depth-2"><a href="#write-enough-code-to-make-it-pass-2" data-for="write-enough-code-to-make-it-pass-2">Write enough code to make it pass</a></li><li class="depth-2"><a href="#repeat-for-new-requirements-3" data-for="repeat-for-new-requirements-3">Repeat for new requirements</a></li><li class="depth-2"><a href="#try-to-run-the-test-3" data-for="try-to-run-the-test-3">Try to run the test</a></li><li class="depth-2"><a href="#write-enough-code-to-make-it-pass-3" data-for="write-enough-code-to-make-it-pass-3">Write enough code to make it pass</a></li><li class="depth-2"><a href="#refactor-2" data-for="refactor-2">Refactor</a></li><li class="depth-2"><a href="#repeat-for-new-requirements-4" data-for="repeat-for-new-requirements-4">Repeat for new requirements</a></li><li class="depth-2"><a href="#try-to-run-the-test-4" data-for="try-to-run-the-test-4">Try to run the test</a></li><li class="depth-2"><a href="#write-enough-code-to-make-it-pass-4" data-for="write-enough-code-to-make-it-pass-4">Write enough code to make it pass</a></li><li class="depth-2"><a href="#refactor-3" data-for="refactor-3">Refactor</a></li><li class="depth-1"><a href="#draw-the-clock" data-for="draw-the-clock">Draw the clock</a></li><li class="depth-2"><a href="#refactor-4" data-for="refactor-4">Refactor</a></li><li class="depth-1"><a href="#parsing-xml" data-for="parsing-xml">Parsing XML</a></li><li class="depth-2"><a href="#refactor-5" data-for="refactor-5">Refactor</a></li><li class="depth-2"><a href="#write-the-test-first-4" data-for="write-the-test-first-4">Write the test first</a></li><li class="depth-2"><a href="#try-to-run-the-test-5" data-for="try-to-run-the-test-5">Try to run the test</a></li><li class="depth-2"><a href="#try-to-run-the-test-6" data-for="try-to-run-the-test-6">Try to run the test</a></li><li class="depth-2"><a href="#write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-3" data-for="write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-3">Write the minimal amount of code for the test to run and check the failing test output</a></li><li class="depth-2"><a href="#repeat-for-new-requirements-5" data-for="repeat-for-new-requirements-5">Repeat for new requirements</a></li><li class="depth-2"><a href="#try-to-run-the-test-7" data-for="try-to-run-the-test-7">Try to run the test</a></li><li class="depth-2"><a href="#write-enough-code-to-make-it-pass-5" data-for="write-enough-code-to-make-it-pass-5">Write enough code to make it pass</a></li><li class="depth-2"><a href="#repeat-for-new-requirements-6" data-for="repeat-for-new-requirements-6">Repeat for new requirements</a></li><li class="depth-2"><a href="#write-the-test-first-5" data-for="write-the-test-first-5">Write the test first</a></li><li class="depth-2"><a href="#try-to-run-the-test-8" data-for="try-to-run-the-test-8">Try to run the test</a></li><li class="depth-2"><a href="#write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-4" data-for="write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-4">Write the minimal amount of code for the test to run and check the failing test output</a></li><li class="depth-2"><a href="#write-enough-code-to-make-it-pass-6" data-for="write-enough-code-to-make-it-pass-6">Write enough code to make it pass</a></li><li class="depth-2"><a href="#repeat-for-new-requirements-7" data-for="repeat-for-new-requirements-7">Repeat for new requirements</a></li><li class="depth-2"><a href="#write-enough-code-to-make-it-pass-7" data-for="write-enough-code-to-make-it-pass-7">Write enough code to make it pass</a></li><li class="depth-2"><a href="#refactor-6" data-for="refactor-6">Refactor</a></li><li class="depth-2"><a href="#write-enough-code-to-make-it-pass-8" data-for="write-enough-code-to-make-it-pass-8">Write enough code to make it pass</a></li><li class="depth-2"><a href="#refactor-7" data-for="refactor-7">Refactor</a></li><li class="depth-2"><a href="#write-the-test-first-6" data-for="write-the-test-first-6">Write the test first</a></li><li class="depth-2"><a href="#try-to-run-the-test-9" data-for="try-to-run-the-test-9">Try to run the test</a></li><li class="depth-2"><a href="#write-the-test-first-7" data-for="write-the-test-first-7">Write the test first</a></li><li class="depth-2"><a href="#try-to-run-the-test-10" data-for="try-to-run-the-test-10">Try to run the test</a></li><li class="depth-2"><a href="#write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-5" data-for="write-the-minimal-amount-of-code-for-the-test-to-run-and-check-the-failing-test-output-5">Write the minimal amount of code for the test to run and check the failing test output</a></li><li class="depth-2"><a href="#repeat-for-new-requirements-8" data-for="repeat-for-new-requirements-8">Repeat for new requirements</a></li><li class="depth-2"><a href="#try-to-run-the-test-11" data-for="try-to-run-the-test-11">Try to run the test</a></li><li class="depth-2"><a href="#write-enough-code-to-make-it-pass-9" data-for="write-enough-code-to-make-it-pass-9">Write enough code to make it pass</a></li><li class="depth-2"><a href="#repeat-for-new-requirements-9" data-for="repeat-for-new-requirements-9">Repeat for new requirements</a></li><li class="depth-2"><a href="#try-to-run-the-test-12" data-for="try-to-run-the-test-12">Try to run the test</a></li><li class="depth-2"><a href="#write-enough-code-to-make-it-pass-10" data-for="write-enough-code-to-make-it-pass-10">Write enough code to make it pass</a></li><li class="depth-2"><a href="#write-the-test-first-8" data-for="write-the-test-first-8">Write the test first</a></li><li class="depth-2"><a href="#try-to-run-the-test-13" data-for="try-to-run-the-test-13">Try to run the test</a></li><li class="depth-2"><a href="#write-enough-code-to-make-it-pass-11" data-for="write-enough-code-to-make-it-pass-11">Write enough code to make it pass</a></li><li class="depth-2"><a href="#refactor-8" data-for="refactor-8">Refactor</a></li><li class="depth-1"><a href="#hour-hand-point" data-for="hour-hand-point">Hour Hand Point</a></li><li class="depth-2"><a href="#write-the-test-first-9" data-for="write-the-test-first-9">Write the test first</a></li><li class="depth-2"><a href="#on-tdd-zealotry" data-for="on-tdd-zealotry">On TDD Zealotry</a></li><li class="depth-2"><a href="#try-to-run-the-test-14" data-for="try-to-run-the-test-14">Try to run the test</a></li><li class="depth-2"><a href="#write-enough-code-to-make-it-pass-12" data-for="write-enough-code-to-make-it-pass-12">Write enough code to make it pass</a></li><li class="depth-1"><a href="#draw-the-hour-hand" data-for="draw-the-hour-hand">Draw the hour hand</a></li><li class="depth-2"><a href="#try-to-run-the-test-15" data-for="try-to-run-the-test-15">Try to run the test</a></li><li class="depth-2"><a href="#write-enough-code-to-make-it-pass-13" data-for="write-enough-code-to-make-it-pass-13">Write enough code to make it pass</a></li><li class="depth-2"><a href="#refactor-9" data-for="refactor-9">Refactor</a></li><li class="depth-1"><a href="#wrapping-up" data-for="wrapping-up">Wrapping up</a></li><li class="depth-2"><a href="#a-program-and-a-library" data-for="a-program-and-a-library">A Program... and a Library</a></li><li class="depth-2"><a href="#the-most-valuable-test" data-for="the-most-valuable-test">The Most Valuable Test</a></li></ul></div></div><div class="backlinks "><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div></div><footer class><hr/><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.1.1</a>, © 2023</p><ul><li><a href="https://github.com/mindulle">GitHub</a></li></ul></footer></div></body><script type="application/javascript">// quartz/components/scripts/quartz/components/scripts/callout.inline.ts
function toggleCallout() {
  const outerBlock = this.parentElement;
  outerBlock.classList.toggle(`is-collapsed`);
  const collapsed = outerBlock.classList.contains(`is-collapsed`);
  const height = collapsed ? this.scrollHeight : outerBlock.scrollHeight;
  outerBlock.style.maxHeight = height + `px`;
  let current = outerBlock;
  let parent = outerBlock.parentElement;
  while (parent) {
    if (!parent.classList.contains(`callout`)) {
      return;
    }
    const collapsed2 = parent.classList.contains(`is-collapsed`);
    const height2 = collapsed2 ? parent.scrollHeight : parent.scrollHeight + current.scrollHeight;
    parent.style.maxHeight = height2 + `px`;
    current = parent;
    parent = parent.parentElement;
  }
}
function setupCallout() {
  const collapsible = document.getElementsByClassName(
    `callout is-collapsible`
  );
  for (const div of collapsible) {
    const title = div.firstElementChild;
    if (title) {
      title.removeEventListener(`click`, toggleCallout);
      title.addEventListener(`click`, toggleCallout);
      const collapsed = div.classList.contains(`is-collapsed`);
      const height = collapsed ? title.scrollHeight : div.scrollHeight;
      div.style.maxHeight = height + `px`;
    }
  }
}
document.addEventListener(`nav`, setupCallout);
window.addEventListener(`resize`, setupCallout);
</script><script type="module">
          import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
          const darkMode = document.documentElement.getAttribute('saved-theme') === 'dark'
          mermaid.initialize({
            startOnLoad: false,
            securityLevel: 'loose',
            theme: darkMode ? 'dark' : 'default'
          });
          document.addEventListener('nav', async () => {
            await mermaid.run({
              querySelector: '.mermaid'
            })
          });
          </script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script type="application/javascript">
          const socket = new WebSocket('ws://localhost:3001')
          socket.addEventListener('message', () => document.location.reload())
        </script><script src="../../../../postscript.js" type="module"></script></html>